const _0x322186=_0x4a74;(function(_0x392bbf,_0x400b76){const _0x2d302d=_0x4a74,_0x55aae7=_0x392bbf();while(!![]){try{const _0x47c240=parseInt(_0x2d302d(0xce))/0x1+parseInt(_0x2d302d(0xc2))/0x2+parseInt(_0x2d302d(0xe1))/0x3*(parseInt(_0x2d302d(0x9a))/0x4)+-parseInt(_0x2d302d(0xa9))/0x5*(parseInt(_0x2d302d(0xb8))/0x6)+-parseInt(_0x2d302d(0xa2))/0x7+-parseInt(_0x2d302d(0x8e))/0x8*(-parseInt(_0x2d302d(0xa8))/0x9)+-parseInt(_0x2d302d(0xb2))/0xa;if(_0x47c240===_0x400b76)break;else _0x55aae7['push'](_0x55aae7['shift']());}catch(_0xe2d684){_0x55aae7['push'](_0x55aae7['shift']());}}}(_0x4ead,0x26658));function _0x4a74(_0x277e25,_0x119df0){const _0x4eada6=_0x4ead();return _0x4a74=function(_0x4a74a,_0x53d54c){_0x4a74a=_0x4a74a-0x8d;let _0xc0c10f=_0x4eada6[_0x4a74a];return _0xc0c10f;},_0x4a74(_0x277e25,_0x119df0);}import{Vetools}from'./Vetools.js';import{Config}from'./Config.js';function _0x4ead(){const _0x2d4589=['5etools','map','105069TMBEoO','warn','_getBlacklistFilteredData','DataSourceFile','has','\x22!\x20This\x20should\x20never\x20occur.','SOURCE_TYP_CUSTOM','pPostLoad','isWorldSelectable','filterTypes','flat','No\x20hash\x20builder\x20found\x20for\x20\x22__prop\x22\x20\x22','sortListItems','isShowVariantsInLists','userData','min','184HoMKHy','__prop','pHandleBackgroundLoad','SOURCE_TYP_ARCANA','pGetFileOutputs','SOURCE_TYP_OFFICIAL_SINGLE','DataSourceUrl','isFile','\x20(All)','getVersions','error','add','16XqaQfh','Entity\x20did\x20not\x20have\x20a\x20\x22source\x22!\x20This\x20should\x20never\x20occur.','subclasses','SYM_UTIL_TIMEOUT','getContent','all','url','STR_GENERIC','1489950ZkERJX','import','SOURCE_TYP_UNKNOWN','special','subclass','source','4203nsZzED','30635GthkXi','identifier','No\x20cache\x20key\x20specified!','identifierWorld','cacheKey','Unimplemented!','itemType','entries','copy','1393100YvlcdQ','get','Please\x20wait\x20while\x20data\x20is\x20being\x20loaded...','SOURCE_TYPE_ORDER__FILTER','pGetUrlOutputs','Unknown','6cHmkwT','class','SOURCE_TYP_BREW','SOURCE_TYP_BREW_LOCAL','getMergedData','push','notifications','UA/Etc.','contents','_getDedupedAllContentFlat','240432OCEXcY','isExcluded','\x22!\x20','Entity\x20did\x20not\x20have\x20a\x20\x22__prop\x22!\x20This\x20should\x20never\x20occur.','SOURCE_TYP_OFFICIAL_ALL','Failed\x20to\x20load\x20pre-defined\x20source\x20\x22','pGetSpecialOutput','isUseProps','\x20(Single\x20Source)','pGetAllContent','isDefault','DataSourceBase','244510HWuVdg','Official','SOURCE_TYPE_ORDER','STR_SEE_CONSOLE','Homebrew','filter','abbreviations','indexOf','race','URL_TO_HASH_BUILDER','pDelay','VE_SOURCE_CUSTOM_FILE','_PROPS_NO_BLACKLIST','_getDedupedData','cacheKeys','SOURCE_TYP_OFFICIAL_BASE','forEach'];_0x4ead=function(){return _0x2d4589;};return _0x4ead();}class UtilDataSource{static[_0x322186(0xed)](_0x105eb6,_0x4524ae,_0x3caba9){const _0x380ba3=_0x322186,_0x5297da=Math['min'](..._0x105eb6['values']['filterTypes'][_0x380ba3(0xe0)](_0x4b1abd=>UtilDataSource['SOURCE_TYPE_ORDER'][_0x380ba3(0xd5)](_0x4b1abd))),_0x290b8f=Math[_0x380ba3(0x8d)](..._0x4524ae['values'][_0x380ba3(0xea)][_0x380ba3(0xe0)](_0x3b87f3=>UtilDataSource[_0x380ba3(0xd0)]['indexOf'](_0x3b87f3)));return SortUtil['ascSort'](_0x5297da,_0x290b8f)||SortUtil['compareListNames'](_0x105eb6,_0x4524ae);}static async[_0x322186(0x92)](_0x4edda5,_0x448833,_0x4d180d){const _0x458137=_0x322186;_0x4d180d=_0x4d180d||[];const _0x2f8098=await Promise[_0x458137(0x9f)](_0x4d180d[_0x458137(0xe0)](_0x12bc06=>{const _0x2f60d4=_0x458137,_0x5593e8=Vetools[_0x2f60d4(0x9e)](_0x12bc06,_0x448833);return _0x4edda5[_0x2f60d4(0xe8)]?_0x4edda5[_0x2f60d4(0xe8)](_0x5593e8,_0x12bc06,_0x4edda5['userData']):_0x5593e8;}));return{'contents':_0x2f8098[_0x458137(0xd3)](_0x5c2653=>_0x5c2653!=null)};}static async[_0x322186(0xb6)](_0x499b7e,_0x454bfe,_0x4bad19){const _0x5e6add=_0x322186;if(_0x499b7e['url']===''){_0x4bad19=_0x4bad19||[];let _0x22aec8;try{_0x22aec8=await Promise[_0x5e6add(0x9f)](_0x4bad19[_0x5e6add(0xe0)](async _0x2e4347=>{const _0x478cbc=_0x5e6add,_0xbe1a4e=await Vetools['pGetWithCache'](_0x2e4347);return _0x499b7e[_0x478cbc(0xe8)]?_0x499b7e['pPostLoad'](Vetools[_0x478cbc(0x9e)](_0xbe1a4e,_0x454bfe),_0xbe1a4e,_0x499b7e['userData']):Vetools[_0x478cbc(0x9e)](_0xbe1a4e,_0x454bfe);}));}catch(_0x30302e){ui[_0x5e6add(0xbe)]['error']('Failed\x20to\x20load\x20one\x20or\x20more\x20URLs!\x20'+VeCt[_0x5e6add(0xd1)]);throw _0x30302e;}return{'cacheKeys':_0x4bad19,'contents':_0x22aec8};}let _0x252749;try{const _0x2ac8f1=await Vetools['pGetWithCache'](_0x499b7e[_0x5e6add(0xa0)]);_0x252749=Vetools[_0x5e6add(0x9e)](_0x2ac8f1,_0x454bfe);if(_0x499b7e['pPostLoad'])_0x252749=await _0x499b7e[_0x5e6add(0xe8)](_0x252749,_0x2ac8f1,_0x499b7e[_0x5e6add(0xef)]);}catch(_0x21ea1c){const _0x2ec818='Failed\x20to\x20load\x20URL\x20\x22'+_0x499b7e[_0x5e6add(0xa0)]+'\x22!';ui[_0x5e6add(0xbe)][_0x5e6add(0x98)](_0x2ec818+'\x20'+VeCt[_0x5e6add(0xd1)]),console[_0x5e6add(0x98)](_0x2ec818);throw _0x21ea1c;}return{'cacheKeys':[_0x499b7e[_0x5e6add(0xa0)]],'contents':[_0x252749]};}static async[_0x322186(0xc8)](_0x482fa4,_0x5eee85){const _0x1bef08=_0x322186;let _0x4bc3d2;try{const _0x3331b0=await Vetools['pLoadImporterSourceSpecial'](_0x482fa4);_0x4bc3d2=_0x3331b0;if(_0x482fa4[_0x1bef08(0xc9)])_0x4bc3d2=Vetools[_0x1bef08(0x9e)](_0x4bc3d2,_0x5eee85);if(_0x482fa4[_0x1bef08(0xe8)])_0x4bc3d2=await _0x482fa4['pPostLoad'](_0x4bc3d2,_0x3331b0,_0x482fa4[_0x1bef08(0xef)]);}catch(_0x4f5e04){ui['notifications'][_0x1bef08(0x98)](_0x1bef08(0xc7)+_0x482fa4[_0x1bef08(0xad)]+_0x1bef08(0xc4)+VeCt[_0x1bef08(0xd1)]);throw _0x4f5e04;}return{'cacheKeys':[_0x482fa4['cacheKey']],'contents':[_0x4bc3d2]};}static [_0x322186(0xda)]=new Set(['itemProperty',_0x322186(0xaf)]);static[_0x322186(0xbc)](_0x1b7f30,{isFilterBlacklisted:isFilterBlacklisted=!![]}={}){const _0x2cabbd=_0x322186,_0x15ef51={};return _0x1b7f30[_0x2cabbd(0xde)](_0x546d2=>{const _0x5c47d3=_0x2cabbd;Object['entries'](_0x546d2)[_0x5c47d3(0xde)](([_0x59009,_0x59ea25])=>{const _0x56a714=_0x5c47d3;if(!_0x59ea25||!(_0x59ea25 instanceof Array))return;if(_0x15ef51[_0x59009])_0x15ef51[_0x59009]=[..._0x15ef51[_0x59009],...MiscUtil['copy'](_0x59ea25)];else _0x15ef51[_0x59009]=MiscUtil[_0x56a714(0xb1)](_0x59ea25);});}),isFilterBlacklisted&&Object[_0x2cabbd(0xb0)](_0x15ef51)[_0x2cabbd(0xde)](([_0x9158c4,_0x1b030a])=>{const _0x47603f=_0x2cabbd;if(!_0x1b030a||!(_0x1b030a instanceof Array))return;_0x15ef51[_0x9158c4]=_0x15ef51[_0x9158c4][_0x47603f(0xd3)](_0x180935=>{const _0x30e1b8=_0x47603f;if(_0x180935[_0x30e1b8(0xa7)]===VeCt['STR_GENERIC'])return![];if(_0x180935[_0x30e1b8(0x8f)]&&this[_0x30e1b8(0xda)][_0x30e1b8(0xe5)](_0x180935['__prop']))return![];if(!_0x180935[_0x30e1b8(0xa7)])return console[_0x30e1b8(0xe2)](_0x30e1b8(0x9b)),!![];if(!_0x180935[_0x30e1b8(0x8f)])return console[_0x30e1b8(0xe2)](_0x30e1b8(0xc5)),!![];if(!UrlUtil[_0x30e1b8(0xd7)][_0x180935['__prop']])return console['warn'](_0x30e1b8(0xec)+_0x180935[_0x30e1b8(0x8f)]+_0x30e1b8(0xe6)),!![];switch(_0x180935[_0x30e1b8(0x8f)]){case _0x30e1b8(0xb9):{if(!_0x180935[_0x30e1b8(0x9c)]?.['length'])break;_0x180935[_0x30e1b8(0x9c)]=_0x180935[_0x30e1b8(0x9c)][_0x30e1b8(0xd3)](_0x23d7d7=>{const _0x3962f6=_0x30e1b8;if(_0x23d7d7[_0x3962f6(0xa7)]===VeCt[_0x3962f6(0xa1)])return![];return!ExcludeUtil[_0x3962f6(0xc3)](UrlUtil[_0x3962f6(0xd7)][_0x3962f6(0xa6)](_0x23d7d7),_0x3962f6(0xa6),_0x23d7d7[_0x3962f6(0xa7)],{'isNoCount':!![]});});}}return!ExcludeUtil[_0x30e1b8(0xc3)](UrlUtil[_0x30e1b8(0xd7)][_0x180935[_0x30e1b8(0x8f)]](_0x180935),_0x180935[_0x30e1b8(0x8f)],_0x180935[_0x30e1b8(0xa7)],{'isNoCount':!![]});});}),_0x15ef51;}static async[_0x322186(0x90)]({pLoad:_0x19d79e,isBackground:isBackground=![]}){const _0x163c81=_0x322186,_0x1a12b7=isBackground?MiscUtil[_0x163c81(0xd8)](0x1f4,VeCt['SYM_UTIL_TIMEOUT']):null,_0x90a190=[_0x19d79e,_0x1a12b7][_0x163c81(0xd3)](Boolean),_0x52f19d=await Promise[_0x163c81(0xd6)](_0x90a190);if(_0x52f19d===VeCt[_0x163c81(0x9d)])ui[_0x163c81(0xbe)]['info'](_0x163c81(0xb4));return _0x19d79e;}static async[_0x322186(0xcb)]({sources:_0x497656,uploadedFiles:_0x321a0b,customUrls:_0x3f072c,isBackground:isBackground=![],props:_0x46ae6f,userData:_0x31c870,cacheKeys:cacheKeys=null,page:_0x4478f0,isDedupable:isDedupable=![],fnGetDedupedData:fnGetDedupedData=null,fnGetBlacklistFilteredData:fnGetBlacklistFilteredData=null}){const _0x7fab98=_0x322186,_0xf94184=[],_0x32dd3c=_0x497656['pMap'](async _0xa996d6=>{const _0x561e27=_0x4a74;if(_0xa996d6[_0x561e27(0x95)]){const _0x545de9=await UtilDataSource[_0x561e27(0x92)](_0xa996d6,_0x46ae6f,_0x321a0b);_0xf94184[_0x561e27(0xbd)](..._0x545de9[_0x561e27(0xc0)]);if(cacheKeys)cacheKeys['push'](null);}else{if(_0xa996d6[_0x561e27(0xa0)]!=null){const _0x383afa=await UtilDataSource[_0x561e27(0xb6)](_0xa996d6,_0x46ae6f,_0x3f072c);_0xf94184[_0x561e27(0xbd)](..._0x383afa[_0x561e27(0xc0)]);if(cacheKeys)cacheKeys[_0x561e27(0xbd)](..._0x383afa[_0x561e27(0xdc)]);}else{const _0x3223e1=await UtilDataSource['pGetSpecialOutput'](_0xa996d6,_0x46ae6f);_0xf94184[_0x561e27(0xbd)](..._0x3223e1['contents']);if(cacheKeys)cacheKeys['push'](..._0x3223e1[_0x561e27(0xdc)]);}}});await UtilDataSource[_0x7fab98(0x90)]({'pLoad':_0x32dd3c,'isBackground':isBackground});const _0xd025c2=_0xf94184 instanceof Array?_0xf94184[_0x7fab98(0xeb)](0x2):_0xf94184;let _0x3d4f6c=fnGetDedupedData?fnGetDedupedData({'allContentFlat':_0xd025c2,'isDedupable':isDedupable}):this[_0x7fab98(0xc1)]({'allContentFlat':_0xd025c2,'isDedupable':isDedupable});return _0x3d4f6c=fnGetBlacklistFilteredData?fnGetBlacklistFilteredData({'dedupedAllContentFlat':_0x3d4f6c,'page':_0x4478f0}):this[_0x7fab98(0xe3)]({'dedupedAllContentFlat':_0x3d4f6c,'page':_0x4478f0}),_0x3d4f6c instanceof Array&&Config[_0x7fab98(0xb3)](_0x7fab98(0xa3),_0x7fab98(0xee))&&(_0x3d4f6c=_0x3d4f6c['map'](_0x243357=>[_0x243357,...DataUtil['proxy'][_0x7fab98(0x97)](_0x243357[_0x7fab98(0x8f)],_0x243357)])[_0x7fab98(0xeb)]()),{'dedupedAllContentFlat':_0x3d4f6c,'cacheKeys':cacheKeys,'userData':_0x31c870};}static['_getBlacklistFilteredData']({dedupedAllContentFlat:_0x3e11c5,page:_0x5c8a41}){const _0x4bbe8c=_0x322186;if(!UrlUtil['URL_TO_HASH_BUILDER'][_0x5c8a41])return _0x3e11c5;return _0x3e11c5[_0x4bbe8c(0xd3)](_0x5b5015=>{const _0x4ff4be=_0x4bbe8c;if(_0x5b5015[_0x4ff4be(0xa7)]===VeCt[_0x4ff4be(0xa1)])return![];if(!_0x5b5015['source'])return console[_0x4ff4be(0xe2)](_0x4ff4be(0x9b)),!![];if(!_0x5b5015['__prop'])return console[_0x4ff4be(0xe2)](_0x4ff4be(0xc5)),!![];return!ExcludeUtil['isExcluded']((UrlUtil[_0x4ff4be(0xd7)][_0x5b5015['__prop']]||UrlUtil[_0x4ff4be(0xd7)][_0x5c8a41])(_0x5b5015),_0x5b5015[_0x4ff4be(0x8f)],_0x5b5015[_0x4ff4be(0xa7)],{'isNoCount':!![]});});}static['_getDedupedAllContentFlat']({allContentFlat:_0x121a3a,page:_0x41e103,isDedupable:isDedupable=![]}){if(!isDedupable)return _0x121a3a;return this['_getDedupedData']({'allContentFlat':_0x121a3a,'page':_0x41e103});}static[_0x322186(0xdb)]({allContentFlat:_0x240b78,page:_0x40df5f}){const _0x30a23d=_0x322186;if(!UrlUtil[_0x30a23d(0xd7)][_0x40df5f])return _0x240b78;const _0x20912e=new Set();return _0x240b78[_0x30a23d(0xd3)](_0x561292=>{const _0x2345e8=_0x30a23d,_0x4a26d5=UrlUtil['URL_TO_HASH_BUILDER'][_0x40df5f];if(!_0x4a26d5)return!![];const _0x58983e=_0x4a26d5(_0x561292);if(_0x20912e[_0x2345e8(0xe5)](_0x58983e))return![];return _0x20912e[_0x2345e8(0x99)](_0x58983e),!![];});}}UtilDataSource['SOURCE_TYP_OFFICIAL_BASE']=_0x322186(0xcf),UtilDataSource[_0x322186(0xc6)]=UtilDataSource[_0x322186(0xdd)]+_0x322186(0x96),UtilDataSource[_0x322186(0x93)]=UtilDataSource[_0x322186(0xdd)]+_0x322186(0xca),UtilDataSource[_0x322186(0xe7)]='Custom/User',UtilDataSource['SOURCE_TYP_ARCANA']=_0x322186(0xbf),UtilDataSource[_0x322186(0xba)]=_0x322186(0xd2),UtilDataSource[_0x322186(0xbb)]='Local\x20Homebrew',UtilDataSource[_0x322186(0xa4)]=_0x322186(0xb7),UtilDataSource['SOURCE_TYPE_ORDER']=[UtilDataSource[_0x322186(0xc6)],UtilDataSource['SOURCE_TYP_CUSTOM'],UtilDataSource[_0x322186(0x93)],UtilDataSource[_0x322186(0x91)],UtilDataSource[_0x322186(0xbb)],UtilDataSource[_0x322186(0xba)],UtilDataSource[_0x322186(0xa4)]],UtilDataSource[_0x322186(0xb5)]=[UtilDataSource[_0x322186(0xc6)],UtilDataSource[_0x322186(0x93)],UtilDataSource[_0x322186(0x91)],UtilDataSource['SOURCE_TYP_BREW_LOCAL'],UtilDataSource[_0x322186(0xba)],UtilDataSource[_0x322186(0xe7)],UtilDataSource['SOURCE_TYP_UNKNOWN']],UtilDataSource[_0x322186(0xcd)]=class{constructor(_0x26d99c,_0x47b3ee){const _0x1eecd0=_0x322186;this['name']=_0x26d99c,this['pPostLoad']=_0x47b3ee[_0x1eecd0(0xe8)],this['filterTypes']=_0x47b3ee[_0x1eecd0(0xea)]||[UtilDataSource[_0x1eecd0(0xa4)]],this[_0x1eecd0(0xcc)]=!!_0x47b3ee['isDefault'],this[_0x1eecd0(0xd4)]=_0x47b3ee[_0x1eecd0(0xd4)],this[_0x1eecd0(0xe9)]=!!_0x47b3ee[_0x1eecd0(0xe9)];}get[_0x322186(0xaa)](){const _0x41777b=_0x322186;throw new Error(_0x41777b(0xae));}get['identifierWorld'](){const _0x21c70d=_0x322186;return this['isDefault']?_0x21c70d(0xdf):this[_0x21c70d(0xaa)];}},UtilDataSource[_0x322186(0x94)]=class extends UtilDataSource[_0x322186(0xcd)]{constructor(_0x41bb00,_0x141e19,_0x518f2e){const _0x21873e=_0x322186;_0x518f2e=_0x518f2e||{},super(_0x41bb00,{'isWorldSelectable':!!_0x141e19,..._0x518f2e}),this[_0x21873e(0xa0)]=_0x141e19,this[_0x21873e(0xa7)]=_0x518f2e[_0x21873e(0xa7)],this[_0x21873e(0xef)]=_0x518f2e[_0x21873e(0xef)];}get[_0x322186(0xaa)](){const _0x18a80c=_0x322186;return this[_0x18a80c(0xa0)]===''?'VE_SOURCE_CUSTOM_URL':this[_0x18a80c(0xa0)];}get[_0x322186(0xac)](){const _0x2e9408=_0x322186;return this[_0x2e9408(0xa7)]??super['identifierWorld'];}},UtilDataSource[_0x322186(0xe4)]=class extends UtilDataSource[_0x322186(0xcd)]{constructor(_0x4fb5c6,_0x21bf50){const _0x17b647=_0x322186;_0x21bf50=_0x21bf50||{},super(_0x4fb5c6,{'isWorldSelectable':![],..._0x21bf50}),this[_0x17b647(0x95)]=!![];}get[_0x322186(0xaa)](){const _0x39160c=_0x322186;return _0x39160c(0xd9);}},UtilDataSource['DataSourceSpecial']=class extends UtilDataSource['DataSourceBase']{constructor(_0x4c4f9d,_0x59bae6,_0x1dc9df){const _0x561281=_0x322186;_0x1dc9df=_0x1dc9df||{},super(_0x4c4f9d,{'isWorldSelectable':!![],..._0x1dc9df}),this[_0x561281(0xa5)]={'pGet':_0x59bae6};if(!_0x1dc9df[_0x561281(0xad)])throw new Error(_0x561281(0xab));this[_0x561281(0xad)]=_0x1dc9df[_0x561281(0xad)],this[_0x561281(0xc9)]=_0x1dc9df[_0x561281(0xc9)];}get['identifier'](){const _0x1b6cfa=_0x322186;return this[_0x1b6cfa(0xad)];}};export{UtilDataSource};