const _0x3e2891=_0x225a;(function(_0x4a0908,_0x4eec60){const _0x48fb37=_0x225a,_0x4be8e8=_0x4a0908();while(!![]){try{const _0x50f552=parseInt(_0x48fb37(0xc4))/0x1*(-parseInt(_0x48fb37(0xcb))/0x2)+parseInt(_0x48fb37(0xb4))/0x3+-parseInt(_0x48fb37(0xc1))/0x4+parseInt(_0x48fb37(0xb6))/0x5+-parseInt(_0x48fb37(0xb3))/0x6+parseInt(_0x48fb37(0xb7))/0x7*(-parseInt(_0x48fb37(0xc3))/0x8)+parseInt(_0x48fb37(0xbb))/0x9;if(_0x50f552===_0x4eec60)break;else _0x4be8e8['push'](_0x4be8e8['shift']());}catch(_0xeb8939){_0x4be8e8['push'](_0x4be8e8['shift']());}}}(_0x43b0,0x43eba));import{Util}from'./Util.js';function _0x43b0(){const _0x3cda07=['length','_LOCK_FOLDER_CREATE','canUserCreateFolders','unlock','join','_pCreateFolders_','13398YeHIJg','927798aIPLKh','type','597245NIaGfb','476021qqCOkl','Ambiguous\x20folder\x20path!\x20Found\x20multiple\x20folders\x20for\x20','trim','parent','7294158qQInNX','Folder','pLock','_pCreateFolders_findFolder','instance','contents','2055016pACyBc','map','8JdHptA','5TGPYpT','error','push','string','last','pCreateFoldersGetId','get','150794kHfgdP','name','collection','data'];_0x43b0=function(){return _0x3cda07;};return _0x43b0();}function _0x225a(_0x5c0798,_0x2dc178){const _0x43b011=_0x43b0();return _0x225a=function(_0x225ace,_0x2eac1d){_0x225ace=_0x225ace-0xab;let _0x47ef27=_0x43b011[_0x225ace];return _0x47ef27;},_0x225a(_0x5c0798,_0x2dc178);}class UtilFolders{static async[_0x3e2891(0xc9)]({folderType:_0x5c67cb,folderIdRoot:folderIdRoot=null,folderNames:_0x20a059,sorting:sorting=null}){const _0x769cbe=_0x3e2891;_0x20a059=_0x20a059['map'](_0x64dbef=>typeof _0x64dbef===_0x769cbe(0xc7)&&!_0x64dbef[_0x769cbe(0xb9)]()?'\x20':_0x64dbef);try{await this['_LOCK_FOLDER_CREATE'][_0x769cbe(0xbd)]();const _0x1fc78f=await this[_0x769cbe(0xb2)]({'folderType':_0x5c67cb,'folderIdRoot':folderIdRoot,'folderNames':_0x20a059,'sorting':sorting});return void _0x1fc78f,_0x1fc78f;}finally{this[_0x769cbe(0xae)][_0x769cbe(0xb0)]();}}static async[_0x3e2891(0xb2)]({folderType:_0x3a7566,folderIdRoot:_0x45e82a,folderNames:_0x2d9335,sorting:_0x508528}){const _0x4f3d68=_0x3e2891;if(!_0x2d9335?.[_0x4f3d68(0xad)]||!_0x3a7566)return null;const _0x21e7d2=[];if(_0x45e82a!=null){const _0x3f2aa1=CONFIG[_0x4f3d68(0xbc)][_0x4f3d68(0xab)][_0x4f3d68(0xbf)][_0x4f3d68(0xca)](_0x45e82a);if(_0x3f2aa1)_0x21e7d2['push'](_0x3f2aa1);}for(let _0x3fcce9=0x0;_0x3fcce9<_0x2d9335['length'];++_0x3fcce9){const _0x2abb67=_0x2d9335[_0x3fcce9],_0x111b4c=_0x3fcce9===_0x2d9335['length']-0x1,_0x2f32ad=_0x21e7d2[_0x4f3d68(0xad)]?_0x21e7d2[_0x4f3d68(0xc8)]()['id']:null,_0xf1d6cb=this['_pCreateFolders_findFolder']({'folderType':_0x3a7566,'folderStack':_0x21e7d2,'name':_0x2abb67,'parentId':_0x2f32ad});if(_0xf1d6cb){_0x21e7d2[_0x4f3d68(0xc6)](_0xf1d6cb);continue;}if(!Util['Fvtt'][_0x4f3d68(0xaf)]())break;const _0x5369a2={'name':_0x2abb67,'parent':_0x2f32ad,'type':_0x3a7566};if(_0x111b4c&&_0x508528)_0x5369a2['sorting']=_0x508528;const _0xd3bccd=await Folder['create'](_0x5369a2,{});_0x21e7d2[_0x4f3d68(0xc6)](_0xd3bccd);}if(_0x21e7d2[_0x4f3d68(0xad)])return _0x21e7d2[_0x4f3d68(0xc8)]()['id'];return null;}static[_0x3e2891(0xbe)]({folderType:_0x202278,folderStack:_0x3065ba,name:_0x1b700b,parentId:_0x119a41}){const _0x42f620=_0x3e2891,_0x59d9cb=CONFIG[_0x42f620(0xbc)][_0x42f620(0xab)][_0x42f620(0xbf)][_0x42f620(0xc0)]['filter'](_0x5f5393=>{const _0x3ec0e2=_0x42f620,_0x33a64b=_0x5f5393[_0x3ec0e2(0xac)][_0x3ec0e2(0xcc)]===''+_0x1b700b,_0x3905a8=_0x5f5393[_0x3ec0e2(0xac)][_0x3ec0e2(0xb5)]===_0x202278,_0xb95cf=_0x119a41?_0x5f5393['data'][_0x3ec0e2(0xba)]===_0x119a41:_0x5f5393[_0x3ec0e2(0xac)][_0x3ec0e2(0xba)]==null;return _0x33a64b&&_0x3905a8&&_0xb95cf;});if(_0x59d9cb[_0x42f620(0xad)]>0x1){const _0x24abb5=_0x42f620(0xb8)+_0x3065ba[_0x42f620(0xc2)](_0x1528aa=>_0x1528aa['data'][_0x42f620(0xcc)])[_0x42f620(0xb1)]('\x20>\x20');ui['notifications'][_0x42f620(0xc5)](_0x24abb5);throw new Error(_0x24abb5);}if(_0x59d9cb[_0x42f620(0xad)])return _0x59d9cb[0x0];return null;}}UtilFolders[_0x3e2891(0xae)]=new VeLock();export{UtilFolders};