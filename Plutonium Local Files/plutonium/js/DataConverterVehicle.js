const _0x31148e=_0x1f09;(function(_0x59add1,_0x462cbe){const _0x1b654a=_0x1f09,_0x2caf68=_0x59add1();while(!![]){try{const _0x2f3b94=parseInt(_0x1b654a(0x9c))/0x1*(-parseInt(_0x1b654a(0x8a))/0x2)+parseInt(_0x1b654a(0xe1))/0x3+parseInt(_0x1b654a(0x96))/0x4+parseInt(_0x1b654a(0xc2))/0x5+-parseInt(_0x1b654a(0x7c))/0x6*(parseInt(_0x1b654a(0xce))/0x7)+-parseInt(_0x1b654a(0x7f))/0x8+-parseInt(_0x1b654a(0xc8))/0x9*(-parseInt(_0x1b654a(0xaa))/0xa);if(_0x2f3b94===_0x462cbe)break;else _0x2caf68['push'](_0x2caf68['shift']());}catch(_0x5db796){_0x2caf68['push'](_0x2caf68['shift']());}}}(_0x4636,0x25c28));import{DataConverter}from'./DataConverter.js';import{SharedConsts}from'../shared/SharedConsts.js';function _0x4636(){const _0x398f5e=['_getSpeedMetas','action','max','Unknown\x20cover\x20type\x20\x22\x22','movement','conditions','air','every','792654kehjdc','<div>','forEach','1919144UcMCiI','setFirstSection','ship','join','/media/icon/pirate-cannon.svg','pGetInfWarActionItem','test','swim','copy','entries','vehicleSource','4bMcCXw','getParsedWeaponEntryData','_getShipMovement_ship','units','equipment','count','_pGetEffectsSideLoaded','mode','exec','getMetricUnitDistance','importVehicle','SHIP','998760GDaDAC','Unhandled\x20vehicle\x20type\x20\x22','getSourceWithPagePart','value','other','getShipMovement','80995sFPUKT','_SIDE_LOAD_OPTS_WEAPON','push','siege','Unhandled\x20locomotion\x20mode\x20\x22','split','bind','render','_pGetDataSideLoaded','data','splice','Actions','hpNote','_getLocomotionMetas','125590RUIXib','_doPopulateMovementToSpeedMap','list','type','_getFauxVehicleWeapon','description','vehicleWeapon','\x20per\x20hour\x20(','map','/media/icon/ship-wheel.svg','source','name','_getMovementTypeFromTerrain','_baseSrd','vehicleName','modules/','feat','</div>','getVehicleSpeed','_getShipMovement_infwar','replace','grants\x20three-quarters\x20cover','ft.','mutEffectsDisabledTransfer','1353455AMOjrq','toLowerCase','get','getSpeedEntries','Unhandled\x20terrain\x20type\x20\x22','vehicle','207lzuuPD','keys','condition','getDamagePartsAndOtherFormula','srd','_pGetFlagsSideLoaded','14wfEsvk','pace','vehicleType','trim','land','locomotion','spell','MODULE_NAME','pGetEntryDescription','hover','grants\x20total\x20cover','INFWAR','walk','crew','_getVehicleSpeed_ship','grants\x20half\x20cover','WALKER_READONLY_GENERIC','_getSpeedTypeFromMovementMode','pGetShipActionItems','34581ZsHtTm','water','\x20per\x20day)','length','getMetricNumberDistance','pGetVehicleSideData','foundryVehicle','filter','pGetShipEquipmentItem','terrain','speed','string','includes','sea','(hover)','fly','foundryVehicleWeapon','pOptionallySaveImageToServerAndGetUrl','flat','magical','_SIDE_LOAD_OPTS','_getVehicleSpeed_infwar','entry'];_0x4636=function(){return _0x398f5e;};return _0x4636();}import{UtilDataConverter}from'./UtilDataConverter.js';function _0x1f09(_0x4e10d8,_0x2fcb54){const _0x46360f=_0x4636();return _0x1f09=function(_0x1f0991,_0x47cf54){_0x1f0991=_0x1f0991-0x75;let _0x59d041=_0x46360f[_0x1f0991];return _0x59d041;},_0x1f09(_0x4e10d8,_0x2fcb54);}import{Vetools}from'./Vetools.js';import{Config}from'./Config.js';class DataConverterVehicle extends DataConverter{static [_0x31148e(0xf5)]={'propBrew':_0x31148e(0xe7),'fnLoadJson':Vetools[_0x31148e(0xe6)][_0x31148e(0xa2)](Vetools),'propJson':_0x31148e(0xc7)};static [_0x31148e(0x9d)]={'propBrew':_0x31148e(0xf1),'fnLoadJson':Vetools[_0x31148e(0xe6)]['bind'](Vetools),'propJson':_0x31148e(0xb0),'propsMatch':[_0x31148e(0x89),_0x31148e(0xb8),_0x31148e(0xb4),_0x31148e(0xb5)]};static[_0x31148e(0xbc)](_0x52381b){const _0x24ba9b=_0x31148e;switch(_0x52381b[_0x24ba9b(0xd0)]){case'SHIP':return this[_0x24ba9b(0xdc)](_0x52381b);case _0x24ba9b(0xd9):return this[_0x24ba9b(0xf6)](_0x52381b);default:throw new Error(_0x24ba9b(0x97)+_0x52381b[_0x24ba9b(0xd0)]+'\x22');}}static[_0x31148e(0xdc)](_0x4cc1ac){const _0x19665b=_0x31148e;if(!_0x4cc1ac[_0x19665b(0xcf)])return'';const _0x31c3da=Config[_0x19665b(0xe5)]({'configGroup':_0x19665b(0x94),'originalValue':_0x4cc1ac[_0x19665b(0xcf)],'originalUnit':UNT_MILES}),_0x99ec40=Config[_0x19665b(0xe5)]({'configGroup':_0x19665b(0x94),'originalValue':_0x4cc1ac['pace']*0x18,'originalUnit':UNT_MILES}),_0x26dfd6=Config[_0x19665b(0x93)]({'configGroup':_0x19665b(0x94),'originalUnit':UNT_MILES,'isShortForm':![],'isPlural':_0x4cc1ac[_0x19665b(0xcf)]!==0x1});return _0x31c3da+'\x20'+_0x26dfd6+_0x19665b(0xb1)+_0x99ec40+'\x20'+_0x26dfd6+_0x19665b(0xe3);}static[_0x31148e(0xf6)](_0x4b7551){const _0x3330cb=_0x31148e,_0x466ebd=Config[_0x3330cb(0xe5)]({'configGroup':_0x3330cb(0x94),'originalValue':_0x4b7551[_0x3330cb(0xeb)],'originalUnit':'ft.'}),_0x75de89=Config[_0x3330cb(0x93)]({'configGroup':_0x3330cb(0x94),'originalUnit':_0x3330cb(0xc0)});return _0x466ebd+'\x20'+_0x75de89;}static[_0x31148e(0x9b)](_0x2d33e4){const _0xecddb=_0x31148e;switch(_0x2d33e4[_0xecddb(0xd0)]){case _0xecddb(0x95):return this[_0xecddb(0x8c)](_0x2d33e4);case _0xecddb(0xd9):return this[_0xecddb(0xbd)](_0x2d33e4);default:throw new Error(_0xecddb(0x97)+_0x2d33e4[_0xecddb(0xd0)]+'\x22');}}static[_0x31148e(0x8c)](_0x3fbc95){const _0x42a9eb=_0x31148e,_0x1c4eee={};(_0x3fbc95['movement']||[])['forEach'](_0xf59068=>{const _0x2fdbef=_0x1f09;this[_0x2fdbef(0xab)](_0xf59068,_0x2fdbef(0xd3),_0x1c4eee),this[_0x2fdbef(0xab)](_0xf59068,_0x2fdbef(0xeb),_0x1c4eee);});!Object[_0x42a9eb(0xc9)](_0x1c4eee)['length']&&_0x3fbc95[_0x42a9eb(0xcf)]&&_0x3fbc95['terrain']?.['length']&&(_0x3fbc95[_0x42a9eb(0xea)][_0x42a9eb(0x7e)](_0x4478d8=>{const _0x112d57=_0x42a9eb,_0x408c0a=this[_0x112d57(0xb6)](_0x4478d8);_0x1c4eee[_0x408c0a]=Config[_0x112d57(0xe5)]({'configGroup':'importVehicle','originalUnit':UNT_MILES,'originalValue':_0x3fbc95[_0x112d57(0xcf)]});}),_0x1c4eee[_0x42a9eb(0x8d)]=Config[_0x42a9eb(0x93)]({'configGroup':_0x42a9eb(0x94),'originalUnit':'mi'}));if(!_0x1c4eee[_0x42a9eb(0xda)])_0x1c4eee[_0x42a9eb(0xda)]=0x0;return _0x1c4eee;}static[_0x31148e(0xb6)](_0x5b425c){const _0x2860c1=_0x31148e;switch(_0x5b425c){case _0x2860c1(0x7a):return _0x2860c1(0xf0);case _0x2860c1(0xd2):return'walk';case _0x2860c1(0xee):return _0x2860c1(0x86);default:throw new Error(_0x2860c1(0xc6)+_0x5b425c+'\x22');}}static[_0x31148e(0xab)](_0x2e39ba,_0x3cb656,_0x3800b1){const _0x4630fb=_0x31148e;if(!_0x2e39ba[_0x3cb656])return;_0x2e39ba[_0x3cb656][_0x4630fb(0x7e)](_0x147185=>{const _0x3a12ef=_0x4630fb;if(!_0x147185[_0x3a12ef(0x88)]||!_0x147185[_0x3a12ef(0x88)]['length'])return;const _0x33e5fd=this[_0x3a12ef(0xdf)](_0x147185[_0x3a12ef(0x91)]);if(_0x33e5fd==null){UtilDataConverter['WALKER_READONLY_GENERIC'][_0x3a12ef(0xda)](_0x147185[_0x3a12ef(0x88)],{'string':_0xe864de=>{const _0x5bae5c=_0x3a12ef;_0xe864de[_0x5bae5c(0xa1)](',')['map'](_0x4e3bb6=>_0x4e3bb6[_0x5bae5c(0xd1)]())[_0x5bae5c(0xe8)](Boolean)[_0x5bae5c(0x7e)](_0x31b18f=>{const _0xdebc4c=_0x5bae5c;_0x31b18f[_0xdebc4c(0xbe)](/^(?:(burrow|climb|swim|fly) )?(\d+) ft\./g,(..._0x186f5e)=>{const _0x47567a=_0xdebc4c,_0x2b04c9=_0x186f5e[0x1][_0x47567a(0xc3)]()[_0x47567a(0xd1)](),_0x481455=Config[_0x47567a(0xe5)]({'configGroup':_0x47567a(0x94),'originalUnit':UNT_FEET,'originalValue':Number(_0x186f5e[0x2])});_0x3800b1[_0x2b04c9]=Math[_0x47567a(0x76)](_0x481455,_0x3800b1[_0x2b04c9]||0x0);});});if(_0xe864de[_0x5bae5c(0xc3)]()[_0x5bae5c(0xed)](_0x5bae5c(0xef)))_0x3800b1[_0x5bae5c(0xd7)]=!![];}});return;}UtilDataConverter[_0x3a12ef(0xde)][_0x3a12ef(0xda)](_0x147185[_0x3a12ef(0x88)],{'string':_0x50cfec=>{const _0x3bc783=_0x3a12ef;_0x50cfec[_0x3bc783(0xbe)](/speed (\d+) ft\./g,(..._0x11c55a)=>{const _0x17d171=_0x3bc783,_0xd6d219=Config[_0x17d171(0xe5)]({'configGroup':_0x17d171(0x94),'originalUnit':UNT_FEET,'originalValue':Number(_0x11c55a[0x1])});_0x3800b1[_0x33e5fd]=Math['max'](_0xd6d219,_0x3800b1[_0x33e5fd]||0x0);});if(_0x50cfec[_0x3bc783(0xc3)]()[_0x3bc783(0xed)](_0x3bc783(0xef)))_0x3800b1[_0x3bc783(0xd7)]=!![];}});});}static['_getSpeedTypeFromMovementMode'](_0x183393){const _0x1f4ff4=_0x31148e;switch(_0x183393){case'air':return _0x1f4ff4(0xf0);case _0x1f4ff4(0xe2):return'swim';case _0x1f4ff4(0xf4):return null;default:throw new Error(_0x1f4ff4(0xa0)+_0x183393+'\x22');}}static[_0x31148e(0xbd)](_0x312756){const _0x3ffe75=_0x31148e,_0x489d11={};return _0x312756[_0x3ffe75(0xeb)]&&(_0x489d11['walk']=Config['getMetricNumberDistance']({'configGroup':'importVehicle','originalUnit':UNT_FEET,'originalValue':_0x312756[_0x3ffe75(0xeb)]}),_0x489d11[_0x3ffe75(0x8d)]=Config[_0x3ffe75(0x93)]({'configGroup':'importVehicle','originalUnit':'ft'})),_0x489d11;}static async[_0x31148e(0xe9)](_0x2c7655,_0x256c80,_0x2dad44){const _0x39f399=_0x31148e;let _0x1813c1=await DataConverter[_0x39f399(0xd6)](_0x256c80);if(_0x2dad44===_0x39f399(0x78)){if(_0x256c80[_0x39f399(0xeb)]){const _0x1f9d1d=_0x256c80[_0x39f399(0xeb)][_0x39f399(0xb2)](_0x5dbc40=>Renderer['vehicle'][_0x39f399(0x81)][_0x39f399(0xc5)](_0x5dbc40))[_0x39f399(0xb2)](_0x4b5965=>'<div>'+Renderer[_0x39f399(0xc4)]()[_0x39f399(0x80)](!![])[_0x39f399(0xa3)](_0x4b5965)+_0x39f399(0xbb));_0x1813c1+=_0x1f9d1d[_0x39f399(0x82)]('');}if(_0x256c80[_0x39f399(0xd3)]){const _0x3174df=_0x256c80[_0x39f399(0xd3)]['map'](_0xbdeddb=>Renderer['vehicle'][_0x39f399(0x81)]['getLocomotionEntries'](_0xbdeddb))['map'](_0x12dbf0=>_0x39f399(0x7d)+Renderer['get']()[_0x39f399(0x80)](!![])[_0x39f399(0xa3)](_0x12dbf0)+_0x39f399(0xbb));_0x1813c1+=_0x3174df[_0x39f399(0x82)]('');}}const _0x4d04a4={'name':_0x256c80[_0x39f399(0xb5)],'type':_0x39f399(0x8e),'data':{'description':{'value':_0x1813c1,'chat':'','unidentified':''},'source':UtilDataConverter['getSourceWithPagePart'](_0x2c7655),'quantity':0x1,'weight':0x0,'price':0x0,'attuned':![],'equipped':!![],'rarity':'','identified':!![],'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x39f399(0xd4)},'armor':{'value':_0x256c80['ac']||0x0,'type':'vehicle','dex':null},'hp':{'value':_0x256c80['hp']||0x0,'max':_0x256c80['hp']||0x0,'dt':_0x256c80['dt'],'conditions':_0x256c80[_0x39f399(0xa8)]||''},'speed':{'value':null,'conditions':''},'strength':0x0,'stealth':![],'proficient':!![]},'flags':{},'img':await Vetools[_0x39f399(0xf2)]('modules/'+SharedConsts[_0x39f399(0xd5)]+_0x39f399(0xb3))};if(_0x2dad44===_0x39f399(0x78)){if(_0x256c80['speed']){const _0x5ad897=this[_0x39f399(0xf8)](_0x256c80);if(_0x5ad897['length']){const _0x5092fc=_0x5ad897[0x0];_0x4d04a4[_0x39f399(0xa5)][_0x39f399(0xeb)][_0x39f399(0x99)]=_0x5092fc['speed'],_0x4d04a4[_0x39f399(0xa5)][_0x39f399(0xeb)]['conditions']=_0x5092fc[_0x39f399(0xca)];}}if(_0x256c80['locomotion']){const _0x2c043d=this[_0x39f399(0xa9)](_0x256c80);if(_0x2c043d[_0x39f399(0xe4)]){const _0xd8be92=_0x2c043d[0x0];_0x4d04a4[_0x39f399(0xa5)]['speed']['value']=_0xd8be92[_0x39f399(0xeb)],_0x4d04a4['data'][_0x39f399(0xeb)][_0x39f399(0x79)]=_0xd8be92['condition'];}}}return _0x4d04a4;}static[_0x31148e(0xf8)](_0x2793d8){const _0x30805b=_0x31148e;if(!_0x2793d8['speed']||!_0x2793d8[_0x30805b(0xeb)][_0x30805b(0xe4)])return[];return _0x2793d8[_0x30805b(0xeb)]['map'](_0x14dcc1=>{const _0x24024e=_0x30805b;if(!_0x14dcc1[_0x24024e(0x88)]||!_0x14dcc1[_0x24024e(0x88)][_0x24024e(0xe4)]||typeof _0x14dcc1[_0x24024e(0x88)][0x0]!==_0x24024e(0xec))return null;const _0x3a035a=_0x14dcc1[_0x24024e(0x88)][0x0][_0x24024e(0xa1)](';')['map'](_0x4fc371=>_0x4fc371[_0x24024e(0xd1)]())[_0x24024e(0xe8)](Boolean);return _0x3a035a[_0x24024e(0xb2)](_0x28b712=>{const _0x29fac8=_0x24024e,_0x29ed47=/^((?:fly|swim|burrow|climb) )?(\d+)\s*ft\.(.*?)$/[_0x29fac8(0x92)](_0x28b712);if(!_0x29ed47)return null;const _0x4ece94={'speed':Config['getMetricNumberDistance']({'configGroup':'importVehicle','originalUnit':UNT_FEET,'originalValue':Number(_0x29ed47[0x2])})};if(_0x29ed47[0x3]){const _0x4d9589=_0x29ed47[0x3][_0x29fac8(0xd1)]()[_0x29fac8(0xbe)](/^,\s*/,'');if(_0x4d9589)_0x4ece94[_0x29fac8(0xca)]=_0x4d9589;}return _0x4ece94;});})['filter'](Boolean)[_0x30805b(0xf3)]();}static[_0x31148e(0xa9)](_0x1ca8c5){const _0x484c1e=_0x31148e;if(!_0x1ca8c5['locomotion']||!_0x1ca8c5[_0x484c1e(0xd3)]['length'])return[];return _0x1ca8c5[_0x484c1e(0xd3)][_0x484c1e(0xb2)](_0x56314b=>{const _0x4aa2b8=_0x484c1e;if(!_0x56314b[_0x4aa2b8(0x88)]||!_0x56314b[_0x4aa2b8(0x88)]['length']||typeof _0x56314b[_0x4aa2b8(0x88)][0x0]!==_0x4aa2b8(0xec))return null;const _0x3efcef=/^(.*?), speed (\d+)\s*ft\.(.*?)$/i[_0x4aa2b8(0x92)](_0x56314b['entries'][0x0]);if(!_0x3efcef)return null;let [_0x35c898,_0x398b02,_0x5c0204,_0x13cdde]=_0x3efcef;_0x398b02=_0x398b02['trim'](),_0x5c0204=_0x5c0204[_0x4aa2b8(0xd1)](),_0x13cdde=_0x13cdde[_0x4aa2b8(0xd1)]();const _0x2d56c6=_0x13cdde[_0x4aa2b8(0xa1)](';')[_0x4aa2b8(0xb2)](_0xd8c13a=>_0xd8c13a['trim']())[_0x4aa2b8(0xe8)](Boolean),[_0x560e7d,..._0x4dc74c]=_0x13cdde[_0x4aa2b8(0xed)](';')?['',..._0x2d56c6]:_0x2d56c6,_0x1add35={'speed':Config[_0x4aa2b8(0xe5)]({'configGroup':_0x4aa2b8(0x94),'originalUnit':UNT_FEET,'originalValue':Number(_0x5c0204)})};if(_0x560e7d)_0x1add35[_0x4aa2b8(0xca)]=_0x560e7d;const _0x4c617e=[];return _0x4dc74c['forEach'](_0x56b384=>{const _0x458128=_0x4aa2b8,_0x10fafa=/^(\d+)\s*ft\.(.*?)$/[_0x458128(0x92)](_0x56b384);if(!_0x10fafa)return;_0x4c617e[_0x458128(0x9e)]({'speed':Config[_0x458128(0xe5)]({'configGroup':_0x458128(0x94),'originalUnit':UNT_FEET,'originalValue':Number(_0x10fafa[0x1])}),'condition':_0x10fafa[0x2]});}),[_0x1add35,..._0x4c617e];})['filter'](Boolean)[_0x484c1e(0xf3)]();}static[_0x31148e(0xae)](_0x282f84,_0x7754f6){const _0x331508=_0x31148e;return{'source':_0x282f84[_0x331508(0xb4)],'backgroundName':_0x282f84['name'],'backgroundSource':_0x282f84['source'],'srd':_0x282f84[_0x331508(0xcc)]||_0x282f84[_0x331508(0xb7)],...MiscUtil[_0x331508(0x87)](_0x7754f6)};}static async['pGetShipWeaponItem'](_0x1cc1ce,_0x1698e1){const _0xaa3388=_0x31148e,_0x38fab2=await DataConverter[_0xaa3388(0xd6)](_0x1698e1),{damageTupleMetas:_0x1560ba,isAttack:_0x1f5d41,rangeShort:_0xfd547a,rangeLong:_0x31fd7e,actionType:_0x4bd4f2,attackBonus:_0x24923e}=DataConverter[_0xaa3388(0x8b)](_0x1cc1ce,_0x1698e1),{damageParts:_0x36efc3,formula:_0x26db52}=DataConverter[_0xaa3388(0xcb)](_0x1560ba),_0x4f6050=await Vetools[_0xaa3388(0xf2)](_0xaa3388(0xb9)+SharedConsts[_0xaa3388(0xd5)]+_0xaa3388(0x83)),_0x165c9f=this['_getFauxVehicleWeapon'](_0x1cc1ce,_0x1698e1),_0xb2333=await this[_0xaa3388(0xa4)](_0x165c9f,{'propOpts':_0xaa3388(0x9d)}),_0x12357d=await this[_0xaa3388(0xcd)](_0x165c9f,{'propOpts':_0xaa3388(0x9d)}),_0x5b1455=await this[_0xaa3388(0x90)]({'ent':_0x165c9f,'img':_0x4f6050},{'propOpts':'_SIDE_LOAD_OPTS_WEAPON'});return DataConverter[_0xaa3388(0xc1)](_0x5b1455,_0xaa3388(0x94)),{'name':_0x1698e1['name'],'type':'weapon','data':{'description':{'value':_0x38fab2,'chat':'','unidentified':''},'source':UtilDataConverter[_0xaa3388(0x98)](_0x1cc1ce),'quantity':_0x1698e1[_0xaa3388(0x8f)]||0x1,'weight':0x0,'price':0x0,'attuned':![],'equipped':!![],'rarity':'','identified':!![],'activation':{'type':_0x1f5d41?_0xaa3388(0x75):'','cost':_0x1f5d41?0x1:0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':_0xfd547a||0x0,'long':_0x31fd7e||0x0,'units':'ft'},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':'','actionType':_0x4bd4f2||_0xaa3388(0x9a),'attackBonus':_0x24923e||null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':_0x36efc3||[],'versatile':''},'formula':_0x26db52,'save':{'ability':'','dc':null,'scaling':_0xaa3388(0xd4)},'armor':{'value':_0x1698e1['ac']||0x0},'hp':{'value':_0x1698e1['hp']||0x0,'max':_0x1698e1['hp']||0x0,'dt':_0x1698e1['dt'],'conditions':''},'weaponType':_0xaa3388(0x9f),'properties':{},'proficient':!![],..._0xb2333},'flags':{..._0x12357d},'img':_0x4f6050,'effects':_0x5b1455};}static async['pGetShipOtherItem'](_0x2eba7b,_0x2680b9){const _0x21418e=_0x31148e,_0x99fe81=await DataConverter[_0x21418e(0xd6)](_0x2680b9);if(/^Actions?$/i[_0x21418e(0x85)](_0x2680b9[_0x21418e(0xb5)]||''))return{'name':_0x2680b9[_0x21418e(0xb5)],'type':'feat','data':{'description':{'value':_0x99fe81,'chat':'','unidentified':''},'source':UtilDataConverter[_0x21418e(0x98)](_0x2eba7b),'activation':{'type':_0x21418e(0xdb),'cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x21418e(0xd4)},'requirements':'','recharge':{'value':null,'charged':![]},'cover':null},'flags':{},'img':await Vetools[_0x21418e(0xf2)](_0x21418e(0xb9)+SharedConsts['MODULE_NAME']+_0x21418e(0xb3))};return{'name':_0x2680b9[_0x21418e(0xb5)],'type':_0x21418e(0xba),'data':{'description':{'value':_0x99fe81,'chat':'','unidentified':''},'source':UtilDataConverter[_0x21418e(0x98)](_0x2eba7b),'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':'spell'},'requirements':'','recharge':{'value':null,'charged':![]}},'flags':{},'img':await Vetools[_0x21418e(0xf2)]('modules/'+SharedConsts[_0x21418e(0xd5)]+_0x21418e(0xb3))};}static async[_0x31148e(0xe0)](_0x54de65,_0x2c78da){const _0x39e8c3=_0x31148e,_0x2f05ce=_0x2c78da['findIndex'](_0x13beaf=>_0x13beaf['type']===_0x39e8c3(0xac)&&_0x13beaf['items'][_0x39e8c3(0x7b)](_0x22b85e=>_0x22b85e[_0x39e8c3(0xad)]==='item')),_0xe360c3={'name':'','type':'feat','data':{'description':{'value':'','chat':'','unidentified':''},'source':UtilDataConverter[_0x39e8c3(0x98)](_0x54de65),'activation':{'type':_0x39e8c3(0xdb),'cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x39e8c3(0xd4)},'requirements':'','recharge':{'value':null,'charged':![]},'cover':null},'flags':{},'img':await Vetools['pOptionallySaveImageToServerAndGetUrl'](_0x39e8c3(0xb9)+SharedConsts['MODULE_NAME']+'/media/icon/ship-wheel.svg')};if(!~_0x2f05ce)return _0xe360c3[_0x39e8c3(0xb5)]=_0x39e8c3(0xa7),_0xe360c3[_0x39e8c3(0xa5)][_0x39e8c3(0xaf)]['value']=await DataConverter[_0x39e8c3(0xd6)]({'entries':_0x2c78da}),[_0xe360c3];_0x2c78da=MiscUtil[_0x39e8c3(0x87)](_0x2c78da);const _0x549d91=_0x2c78da[_0x2f05ce];return _0x2c78da[_0x39e8c3(0xa6)](_0x2f05ce,0x1),_0x549d91['items']['pSerialAwaitMap'](async _0x3aebe6=>{const _0x18bdd6=_0x39e8c3,_0xfbc47=_0x3aebe6[_0x18bdd6(0xb5)][_0x18bdd6(0xbe)](/\.$/i,''),_0x5deb28=MiscUtil[_0x18bdd6(0x87)](_0x2c78da);if(typeof _0x5deb28[0x0]==='string')_0x5deb28[0x0]=_0x5deb28[0x0]['replace'](/, choosing from the options below[.:]/ig,'.');_0x5deb28['unshift']({'type':_0x18bdd6(0x88),'name':_0xfbc47,'entries':_0x3aebe6[_0x18bdd6(0x88)]||[_0x3aebe6[_0x18bdd6(0xf7)]]});const _0x3066b0=await DataConverter[_0x18bdd6(0xd6)]({'entries':_0x5deb28}),_0x524cdd=MiscUtil[_0x18bdd6(0x87)](_0xe360c3);return _0x524cdd['name']=_0xfbc47,_0x524cdd[_0x18bdd6(0xa5)][_0x18bdd6(0xaf)][_0x18bdd6(0x99)]=_0x3066b0,_0x524cdd;});}static async[_0x31148e(0x84)](_0x5f5de8,_0x532da6){const _0x1f8860=_0x31148e,_0x5ab565=await DataConverter[_0x1f8860(0xd6)](_0x532da6),{damageTupleMetas:_0x46c6e5,isAttack:_0x121b7a,rangeShort:_0x436fc5,rangeLong:_0x3a2531,actionType:_0x4b6918,attackBonus:_0x3a9a1a}=DataConverter[_0x1f8860(0x8b)](_0x5f5de8,_0x532da6),{damageParts:_0x34d274,formula:_0x95f597}=DataConverter[_0x1f8860(0xcb)](_0x46c6e5);let _0x9d6d8d=0x0;return(_0x532da6[_0x1f8860(0xb5)]||'')['replace'](/(Grants Half Cover|Grants Three-Quarters Cover|Grants Total Cover)/ig,(..._0x20f92a)=>{const _0x24c000=_0x1f8860,_0xd9b6c0=_0x20f92a[0x1][_0x24c000(0xc3)]()[_0x24c000(0xd1)]();switch(_0xd9b6c0){case _0x24c000(0xdd):_0x9d6d8d=0.5;break;case _0x24c000(0xbf):_0x9d6d8d=0.75;break;case _0x24c000(0xd8):_0x9d6d8d=0x1;break;default:throw new Error(_0x24c000(0x77)+_0xd9b6c0);}}),{'name':_0x532da6['name'],'type':_0x1f8860(0xba),'data':{'description':{'value':_0x5ab565,'chat':'','unidentified':''},'source':UtilDataConverter[_0x1f8860(0x98)](_0x5f5de8),'activation':{'type':_0x1f8860(0xdb),'cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':_0x436fc5,'long':_0x3a2531,'units':'ft'},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':'','actionType':_0x4b6918||'other','attackBonus':_0x3a9a1a||null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':_0x34d274||[],'versatile':''},'formula':_0x95f597,'save':{'ability':'','dc':null,'scaling':'spell'},'requirements':'','recharge':{'value':null,'charged':![]},'cover':_0x9d6d8d},'flags':{},'img':await Vetools[_0x1f8860(0xf2)](_0x1f8860(0xb9)+SharedConsts[_0x1f8860(0xd5)]+'/media/icon/gears.svg')};}}export{DataConverterVehicle};