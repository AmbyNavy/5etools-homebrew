const _0x5d9d8c=_0x46c5;(function(_0x5dd7ba,_0x20fd41){const _0x445ce7=_0x46c5,_0x5a63bb=_0x5dd7ba();while(!![]){try{const _0x478bd8=-parseInt(_0x445ce7(0x17e))/0x1+-parseInt(_0x445ce7(0x13c))/0x2+parseInt(_0x445ce7(0x19c))/0x3*(parseInt(_0x445ce7(0x170))/0x4)+-parseInt(_0x445ce7(0x1a5))/0x5+parseInt(_0x445ce7(0x1d2))/0x6*(-parseInt(_0x445ce7(0x167))/0x7)+-parseInt(_0x445ce7(0x13f))/0x8+parseInt(_0x445ce7(0x1bd))/0x9*(parseInt(_0x445ce7(0x14e))/0xa);if(_0x478bd8===_0x20fd41)break;else _0x5a63bb['push'](_0x5a63bb['shift']());}catch(_0x1fcd41){_0x5a63bb['push'](_0x5a63bb['shift']());}}}(_0xa703,0x51f03));import{SharedConsts}from'../shared/SharedConsts.js';import{Util}from'./Util.js';import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{AppFilter}from'./FilterApplications.js';import{UtilDataSource}from'./UtilDataSource.js';function _0x46c5(_0x45ce99,_0x50c32d){const _0xa70354=_0xa703();return _0x46c5=function(_0x46c597,_0x5e904c){_0x46c597=_0x46c597-0x131;let _0x333f8c=_0xa70354[_0x46c597];return _0x333f8c;},_0x46c5(_0x45ce99,_0x50c32d);}class AppSourceSelectorMulti extends Application{constructor(_0x396964){const _0x3a2232=_0x46c5;super({'title':_0x396964[_0x3a2232(0x154)]||'Select\x20Sources','width':0x320,'template':SharedConsts[_0x3a2232(0x19a)]+_0x3a2232(0x16d),'height':Util[_0x3a2232(0x1ee)](),'resizable':!![]}),this[_0x3a2232(0x184)]=_0x396964[_0x3a2232(0x1d5)],this[_0x3a2232(0x14d)]=_0x396964[_0x3a2232(0x15e)],this['_filterNamespace']=_0x396964['filterNamespace'],this['_props']=_0x396964['props'],this[_0x3a2232(0x1f2)]=!!_0x396964[_0x3a2232(0x195)],this[_0x3a2232(0x168)]=null,this[_0x3a2232(0x140)]=null,this[_0x3a2232(0x1db)]=null,this[_0x3a2232(0x191)]=null,this[_0x3a2232(0x1a9)]=null,this[_0x3a2232(0x1c6)]=null,this[_0x3a2232(0x1d7)]=BaseComponent['fromObject']({'uploadedFileMetas':[],'isShowCustomUrlForm':![],'urlMetas':[],'specialMetas':[]}),this['_isDedupable']=!!_0x396964['isDedupable'],this[_0x3a2232(0x17b)]=_0x396964['page'],this[_0x3a2232(0x1bb)]=_0x396964[_0x3a2232(0x190)],this[_0x3a2232(0x1dd)]=_0x396964[_0x3a2232(0x1b7)],this['_resolve']=null,this[_0x3a2232(0x1c4)]=null,this[_0x3a2232(0x1b9)]=null;}get[_0x5d9d8c(0x153)](){return this['_pageFilter'];}get['uploadedFiles'](){const _0x3a0e10=_0x5d9d8c;return this[_0x3a0e10(0x1d7)][_0x3a0e10(0x1e5)][_0x3a0e10(0x164)][_0x3a0e10(0x145)](_0x500525=>_0x500525['data']['contents']);}[_0x5d9d8c(0x1e6)](){const _0x119622=_0x5d9d8c;if(!this['_list'])return this[_0x119622(0x1ea)]();return this[_0x119622(0x168)][_0x119622(0x169)]['filter'](_0x1b88b5=>_0x1b88b5[_0x119622(0x181)]['cbSel'][_0x119622(0x1b0)])[_0x119622(0x145)](_0x4a5807=>this[_0x119622(0x184)][_0x4a5807['ix']]);}async[_0x5d9d8c(0x179)](_0x3ef45f,_0x43b590){return this['_pGetElements_pGetListElements'](_0x3ef45f,_0x43b590);}[_0x5d9d8c(0x1c3)](){const _0x4a6fd5=_0x5d9d8c;return $(_0x4a6fd5(0x18e));}[_0x5d9d8c(0x1c1)](){const _0xb90faf=_0x5d9d8c,_0x310205=$(_0xb90faf(0x1ce))[_0xb90faf(0x149)](()=>{const _0x4ffa6b=_0xb90faf,_0x55a17f={'id':CryptUtil[_0x4ffa6b(0x1b6)](),'data':{'name':null,'contents':null}};this['_comp']['_state'][_0x4ffa6b(0x164)]=[...this[_0x4ffa6b(0x1d7)][_0x4ffa6b(0x1e5)][_0x4ffa6b(0x164)],_0x55a17f];const _0x3b2744=this['_comp'][_0x4ffa6b(0x162)]({'prop':_0x4ffa6b(0x164)}),_0x796908=_0x3b2744[_0x55a17f['id']];_0x796908[_0x4ffa6b(0x146)][_0x4ffa6b(0x149)]();}),_0x576d63=$('<div\x20class=\x22ve-flex-col\x20w-100\x22></div>'),_0x94ca18=$$`<div class="ve-flex-col w-100 py-1">
			<div class="mb-1 split-v-center">
				<div>File Sources:</div>
				${_0x310205}
			</div>
			${_0x576d63}
			<hr class="hr-1">
		</div>`,_0x3f20bf=()=>{const _0x5830b1=_0xb90faf;this[_0x5830b1(0x1d7)][_0x5830b1(0x19f)]({'prop':'uploadedFileMetas','fnUpdateExisting':(_0x1495ff,_0x7c07ee)=>{const _0x2d49e0=_0x5830b1;_0x1495ff[_0x2d49e0(0x135)][_0x2d49e0(0x1f8)](_0x2d49e0(0x1e8),_0x7c07ee[_0x2d49e0(0x181)],!![]);if(!_0x1495ff[_0x2d49e0(0x1ef)][_0x2d49e0(0x193)]()['is'](_0x576d63))_0x1495ff[_0x2d49e0(0x1ef)][_0x2d49e0(0x1e7)](_0x576d63);},'fnGetNew':_0x203224=>{const _0x47b897=_0x5830b1,_0x3291eb=BaseComponent[_0x47b897(0x14c)](_0x203224[_0x47b897(0x181)],'*');_0x3291eb['_addHookAll'](_0x47b897(0x1e8),()=>{const _0x4ee03f=_0x47b897;_0x203224[_0x4ee03f(0x181)]=_0x3291eb[_0x4ee03f(0x1ae)]('*'),this[_0x4ee03f(0x1d7)][_0x4ee03f(0x1a2)](_0x4ee03f(0x164));});const _0x3fe0e2=$('<div\x20class=\x22imp__disp-filename\x20mr-1\x20ve-muted\x20w-100\x22></div>')[_0x47b897(0x149)](()=>_0x513f4d[_0x47b897(0x149)]()),_0x4ea80b=()=>_0x3fe0e2[_0x47b897(0x16e)](_0x3291eb[_0x47b897(0x1e5)][_0x47b897(0x159)]||_0x47b897(0x1ad))[_0x47b897(0x154)](_0x3291eb[_0x47b897(0x1e5)][_0x47b897(0x159)]||'');_0x3291eb[_0x47b897(0x1ec)](_0x47b897(0x159),_0x4ea80b),_0x4ea80b();const _0x513f4d=$(_0x47b897(0x15c))[_0x47b897(0x149)](()=>{const _0x1ca2b6=_0x47b897,_0x716ce1=$('<input\x20type=\x22file\x22\x20accept=\x22.json\x22\x20class=\x22ve-hidden\x22>')['change'](_0x40bd8a=>{const _0x2f8e37=_0x46c5,_0x398395=_0x40bd8a['target'],_0x5c0207=_0x716ce1[0x0]['files'],_0x2f6267=new FileReader();_0x2f6267['onload']=async()=>{const _0x13ee01=_0x46c5,_0x1e4a19=_0x5c0207[0x0]||{};try{const _0xa0a23a=JSON['parse'](_0x2f6267['result']);Vetools[_0x13ee01(0x19e)](_0xa0a23a),await Vetools[_0x13ee01(0x194)](_0xa0a23a);const _0x517944=await DataUtil[_0x13ee01(0x182)](CryptUtil[_0x13ee01(0x1b6)](),_0xa0a23a);_0x3291eb[_0x13ee01(0x1f8)](_0x13ee01(0x1e8),{'name':_0x1e4a19[_0x13ee01(0x159)],'contents':_0x517944});}catch(_0x1ac472){ui[_0x13ee01(0x1a1)][_0x13ee01(0x18c)](_0x13ee01(0x171)+VeCt[_0x13ee01(0x1c8)]);throw _0x1ac472;}},_0x2f6267['readAsText'](_0x398395[_0x2f8e37(0x1a0)][0x0]);})[_0x1ca2b6(0x149)]();}),_0x17a190=$('<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20btn-danger\x22\x20title=\x22Delete\x22><span\x20class=\x22glyphicon\x20glyphicon-trash\x22></span></button>')[_0x47b897(0x149)](()=>this[_0x47b897(0x1d7)][_0x47b897(0x1e5)]['uploadedFileMetas']=this['_comp']['_state'][_0x47b897(0x164)][_0x47b897(0x160)](_0x4f8f55=>_0x4f8f55!==_0x203224)),_0x1dfb74=$$`<div class="ve-flex-v-center my-1 w-100">
						${_0x513f4d}${_0x3fe0e2}${_0x17a190}
					</div>`[_0x47b897(0x1e7)](_0x576d63);return{'comp':_0x3291eb,'$wrpRow':_0x1dfb74,'$btnUpload':_0x513f4d};}});};return _0x3f20bf(),this['_comp']['_addHookBase'](_0xb90faf(0x164),_0x3f20bf),_0x94ca18;}[_0x5d9d8c(0x1d4)](){const _0x27f775=_0x5d9d8c,_0x31419a=$(_0x27f775(0x139))[_0x27f775(0x149)](()=>{const _0x54d1a1=_0x27f775,_0xe0c5bf={'id':CryptUtil['uid'](),'data':{'displayName':_0x54d1a1(0x151),'isCustom':!![],'url':null}};this['_comp'][_0x54d1a1(0x1e5)][_0x54d1a1(0x198)]=[...this['_comp'][_0x54d1a1(0x1e5)][_0x54d1a1(0x198)],_0xe0c5bf];const _0x2d72fb=this[_0x54d1a1(0x1d7)][_0x54d1a1(0x162)]({'prop':'urlMetas'}),_0x6717c3=_0x2d72fb[_0xe0c5bf['id']];_0x6717c3['$iptUrl'][_0x54d1a1(0x1a7)]();}),_0x37d1b4=()=>_0x31419a[_0x27f775(0x1b1)](this[_0x27f775(0x1d7)][_0x27f775(0x1e5)]['isShowCustomUrlForm']);this['_comp']['_addHookBase'](_0x27f775(0x1c2),_0x37d1b4),_0x37d1b4();const _0x18c32f=$(_0x27f775(0x16c)),_0x3cb5e5=$$`<div class="ve-flex-col w-100 py-1">
			<div class="mb-1 split-v-center">
				<div>URL Sources:</div>
				${_0x31419a}
			</div>
			${_0x18c32f}
			<hr class="hr-1">
		</div>`,_0x5c4363=()=>{const _0x17c187=_0x27f775;this['_comp'][_0x17c187(0x19f)]({'prop':_0x17c187(0x198),'fnUpdateExisting':(_0x29bd0a,_0x344105)=>{const _0x299c71=_0x17c187;_0x29bd0a[_0x299c71(0x135)]['_proxyAssignSimple'](_0x299c71(0x1e8),_0x344105['data'],!![]);if(!_0x29bd0a['$wrpRow'][_0x299c71(0x193)]()['is'](_0x18c32f))_0x29bd0a[_0x299c71(0x1ef)][_0x299c71(0x1e7)](_0x18c32f);},'fnGetNew':_0x261604=>{const _0x516211=_0x17c187,_0x221d59=BaseComponent[_0x516211(0x14c)](_0x261604['data'],'*');_0x221d59[_0x516211(0x175)](_0x516211(0x1e8),()=>{const _0x235548=_0x516211;_0x261604[_0x235548(0x181)]=_0x221d59[_0x235548(0x1ae)]('*'),this[_0x235548(0x1d7)][_0x235548(0x1a2)](_0x235548(0x198));});const _0x42446e=ComponentUiUtil[_0x516211(0x1e1)](_0x221d59,'url');if(Config['get']('ui',_0x516211(0x15a)))_0x42446e[_0x516211(0x1d3)](_0x516211(0x15d));const _0x463abb=()=>{const _0x3908a2=_0x516211;_0x221d59[_0x3908a2(0x1e5)][_0x3908a2(0x188)]?_0x42446e['title'](_0x3908a2(0x186))[_0x3908a2(0x185)]('Enter\x20JSON\x20URL')[_0x3908a2(0x136)](_0x221d59[_0x3908a2(0x1e5)][_0x3908a2(0x1ca)]):_0x42446e['title'](_0x3908a2(0x1e2))[_0x3908a2(0x136)](_0x221d59[_0x3908a2(0x1e5)][_0x3908a2(0x1f6)])['disable']();};this['_comp'][_0x516211(0x1ec)](_0x516211(0x1ca),_0x463abb),this[_0x516211(0x1d7)][_0x516211(0x1ec)](_0x516211(0x1f6),_0x463abb),_0x463abb();const _0x9085c7=!_0x221d59[_0x516211(0x1e5)][_0x516211(0x188)]?null:$(_0x516211(0x1df))['click'](()=>this[_0x516211(0x1d7)]['_state'][_0x516211(0x198)]=this[_0x516211(0x1d7)][_0x516211(0x1e5)][_0x516211(0x198)][_0x516211(0x160)](_0xbd75e8=>_0xbd75e8!==_0x261604)),_0x1d457f=$$`<div class="ve-flex-v-center my-1 w-100">
						${_0x42446e}${_0x9085c7}
					</div>`[_0x516211(0x1e7)](_0x18c32f);return{'comp':_0x221d59,'$wrpRow':_0x1d457f,'$iptUrl':_0x42446e};}});};return _0x5c4363(),this['_comp'][_0x27f775(0x1ec)](_0x27f775(0x198),_0x5c4363),_0x3cb5e5;}['_$getStageSpecial'](){const _0x215939=_0x5d9d8c,_0x4bef2e=$(_0x215939(0x16c)),_0x532b60=$$`<div class="ve-flex-col w-100 py-1">
			<div class="mb-1 ve-flex-v-center">
				<div>Pre-Compiled Sources:</div>
			</div>
			${_0x4bef2e}
			<hr class="hr-1">
		</div>`,_0x378b4d=()=>{const _0x198b7a=_0x215939;this[_0x198b7a(0x1d7)][_0x198b7a(0x19f)]({'prop':'specialMetas','fnUpdateExisting':(_0x34f407,_0xf59be7)=>{const _0x106ec=_0x198b7a;_0x34f407[_0x106ec(0x135)][_0x106ec(0x1f8)](_0x106ec(0x1e8),_0xf59be7[_0x106ec(0x181)],!![]);if(!_0x34f407['$wrpRow'][_0x106ec(0x193)]()['is'](_0x4bef2e))_0x34f407['$wrpRow'][_0x106ec(0x1e7)](_0x4bef2e);},'fnGetNew':_0xa1ed2c=>{const _0xcc7bc3=_0x198b7a,_0x53db59=BaseComponent['fromObject'](_0xa1ed2c[_0xcc7bc3(0x181)],'*');_0x53db59['_addHookAll'](_0xcc7bc3(0x1e8),()=>{const _0x17f1a7=_0xcc7bc3;_0xa1ed2c['data']=_0x53db59['toObject']('*'),this[_0x17f1a7(0x1d7)][_0x17f1a7(0x1a2)](_0x17f1a7(0x198));});const _0x171213=$(_0xcc7bc3(0x1bc)+(Config[_0xcc7bc3(0x1ac)]('ui',_0xcc7bc3(0x15a))?_0xcc7bc3(0x15d):'')+_0xcc7bc3(0x16a)),_0x4c803f=()=>_0x171213['text'](_0x53db59[_0xcc7bc3(0x1e5)][_0xcc7bc3(0x1f6)]);this[_0xcc7bc3(0x1d7)][_0xcc7bc3(0x1ec)](_0xcc7bc3(0x1f6),_0x4c803f),_0x4c803f();const _0x1067ff=$$`<div class="ve-flex-v-center my-1 w-100">${_0x171213}</div>`[_0xcc7bc3(0x1e7)](_0x4bef2e);return{'comp':_0x53db59,'$wrpRow':_0x1067ff};}});};return _0x378b4d(),this['_comp']['_addHookBase']('specialMetas',_0x378b4d),_0x532b60;}async['_pGetInitialSources'](){const _0x181ffb=_0x5d9d8c,_0xd9aa69=await this[_0x181ffb(0x14f)](),_0x4d5600=this[_0x181ffb(0x184)]['filter'](_0x2e7e6e=>_0xd9aa69[_0x181ffb(0x1fd)](_0x2e7e6e[_0x181ffb(0x163)]));if(!_0x4d5600['length'])_0x4d5600['push'](...this[_0x181ffb(0x184)][_0x181ffb(0x160)](_0x1d8a7c=>_0x1d8a7c['isDefault']));return _0x4d5600;}async[_0x5d9d8c(0x14f)](){const _0xb28aef=_0x5d9d8c;if(this['isForceSelectAllSources']())return new Set(this[_0xb28aef(0x184)][_0xb28aef(0x145)](_0x198129=>_0x198129['identifier']));return new Set(await StorageUtil[_0xb28aef(0x1fe)](this[_0xb28aef(0x14d)])||[]);}[_0x5d9d8c(0x1bf)](){const _0x313aa7=_0x5d9d8c;if(this[_0x313aa7(0x1f2)])return![];if(game[_0x313aa7(0x189)]['isGM'])return Config['get'](_0x313aa7(0x1e4),_0x313aa7(0x1b8));return Config[_0x313aa7(0x1ac)](_0x313aa7(0x1e4),_0x313aa7(0x18f));}static['$getFilterListElements']({isRadio:isRadio=![],isForceSelectAll:isForceSelectAll=![]}={}){const _0x32888a=_0x5d9d8c,_0x5bff43=$('<button\x20class=\x22btn-5et\x20veapp__btn-filter\x22>Filter</button>'),_0x278ba9=$(_0x32888a(0x183)),_0x250117=$(_0x32888a(0x1f9)),_0x37db69=$(_0x32888a(0x1c5))[_0x32888a(0x149)](()=>_0x250117[_0x32888a(0x136)]('')),_0x59d6a1=$(_0x32888a(0x173)),_0x3b225b=isRadio||isForceSelectAll,_0x318c09=_0x3b225b?null:$(_0x32888a(0x192)),_0x17d979=$$`<label class="btn btn-5et btn-xs col-0-5 ve-flex-vh-center" ${_0x3b225b?'disabled':''}>${_0x318c09}</label>`,_0x264ef2=$$`<div class="ve-flex-v-stretch input-group input-group--bottom mb-1 no-shrink">
			${_0x17d979}
			<button class="btn-5et btn-xs col-11-5 sort" data-sort="name">Name</button>
		</div>`,_0x38ac60=$(_0x32888a(0x1de)),_0x381b52=$$`<div class="ve-flex-v-stretch input-group input-group--top no-shrink">
			${_0x5bff43}
			${_0x278ba9}
			${_0x250117}
			${_0x37db69}
		</div>`;return{'$cbAll':_0x318c09,'$wrpFilterControls':_0x381b52,'$wrpMiniPills':_0x59d6a1,'$wrpBtnsSort':_0x264ef2,'$list':_0x38ac60,'$btnOpenFilter':_0x5bff43,'$iptSearch':_0x250117,'$btnReset':_0x37db69,'$btnToggleSummaryHidden':_0x278ba9};}static[_0x5d9d8c(0x161)]({pageFilter:_0x59d98c,isRadio:_0xa22b91,list:_0x511e58,src:_0x1d8b51,srcI:_0x5a153d,fnOnClick:_0x598775,initialSources:_0x1d0229,isSelected:_0x3aa872,isForceSelectAll:_0x104689}){const _0x6cb082=_0x5d9d8c;_0x3aa872=_0x3aa872===undefined&&_0x1d0229?_0x1d0229['includes'](_0x1d8b51):!!_0x3aa872,_0x59d98c[_0x6cb082(0x1dc)](_0x1d8b51);const _0x212020=e_({'outer':_0xa22b91?'<input\x20type=\x22radio\x22\x20name=\x22radio\x22\x20class=\x22no-events\x20mx-1\x22>':'<input\x20type=\x22checkbox\x22\x20class=\x22no-events\x20mx-1\x22>'});if(_0x3aa872)_0x212020[_0x6cb082(0x1b0)]=!![];if(_0x104689)_0x212020['setAttribute']('disabled',!![]);const _0x455742=e_({'tag':'span','clazz':_0x6cb082(0x197),'children':[_0x212020]}),_0x312ec6=e_({'tag':_0x6cb082(0x1fc),'clazz':'row\x20imp-wiz__row\x20veapp__list-row-hoverable\x20ve-flex-v-center\x20'+(_0x3aa872?_0x6cb082(0x1aa):''),'children':[_0x455742,e_({'tag':_0x6cb082(0x13d),'clazz':_0x6cb082(0x137),'html':''+this['_getFilterTypesIcon'](_0x1d8b51[_0x6cb082(0x1e3)])+_0x1d8b51['name']})]}),_0x2e6cb5=new ListItem(_0x5a153d,_0x312ec6,_0x1d8b51['name'],{'filterTypes':_0x1d8b51['filterTypes'],'abbreviations':_0x1d8b51['abbreviations']||[]},{'cbSel':_0x212020});return!_0x104689&&_0x312ec6[_0x6cb082(0x16f)](_0x6cb082(0x149),_0x51c143=>{const _0x228e04=_0x6cb082;if(_0xa22b91)ListUiUtil[_0x228e04(0x14a)](_0x511e58,_0x2e6cb5,_0x51c143);else ListUiUtil[_0x228e04(0x18a)](_0x511e58,_0x2e6cb5,_0x51c143);if(_0x598775)_0x598775({'list':_0x511e58,'listItem':_0x2e6cb5});}),_0x2e6cb5;}async[_0x5d9d8c(0x152)](_0x32cd34,_0x28e78f=null){const _0x5c8bf6=_0x5d9d8c;this[_0x5c8bf6(0x1db)]=this['_$getStageNone'](),this['_$stgUpload']=this['_$getStageUpload'](),this[_0x5c8bf6(0x1a9)]=this[_0x5c8bf6(0x1d4)](),this[_0x5c8bf6(0x1c6)]=this[_0x5c8bf6(0x1c0)]();const _0x9b60e1=await this[_0x5c8bf6(0x1ea)](),_0x3cdc16=({isSkipSave:_0x3f4520}={})=>{const _0x45f8d0=_0x5c8bf6,_0x500da2=this['_list'][_0x45f8d0(0x169)]['filter'](_0x14dc83=>_0x14dc83[_0x45f8d0(0x181)][_0x45f8d0(0x138)]['checked'])[_0x45f8d0(0x145)](_0x2c5f45=>this['_sourcesToDisplay'][_0x2c5f45['ix']]),_0x4184a9=_0x500da2[_0x45f8d0(0x145)](_0xb69b74=>_0xb69b74[_0x45f8d0(0x163)]);if(!_0x3f4520)StorageUtil[_0x45f8d0(0x13e)](this[_0x45f8d0(0x14d)],_0x4184a9);const _0x572dc5=_0x500da2[_0x45f8d0(0x158)](_0x4e63f3=>_0x4e63f3[_0x45f8d0(0x1b5)]),_0x3e27e2=_0x500da2[_0x45f8d0(0x158)](_0x113468=>_0x113468[_0x45f8d0(0x1ca)]!=null),_0xb590e=_0x500da2['some'](_0x4dec48=>_0x4dec48[_0x45f8d0(0x1ca)]==null&&!_0x4dec48[_0x45f8d0(0x1b5)]);this[_0x45f8d0(0x1db)][_0x45f8d0(0x1b1)](!_0x572dc5&&!_0x3e27e2&&!_0xb590e),this[_0x45f8d0(0x191)]['toggleVe'](_0x572dc5),this[_0x45f8d0(0x1a9)][_0x45f8d0(0x1b1)](_0x3e27e2),this[_0x45f8d0(0x1c6)][_0x45f8d0(0x1b1)](_0xb590e);if(_0x3e27e2){this['_comp']['_state'][_0x45f8d0(0x1c2)]=_0x500da2[_0x45f8d0(0x158)](_0x2eb547=>_0x2eb547[_0x45f8d0(0x1ca)]==='');const _0x4829e3=this['_comp'][_0x45f8d0(0x1e5)][_0x45f8d0(0x1c2)]?this[_0x45f8d0(0x1d7)][_0x45f8d0(0x1e5)]['urlMetas'][_0x45f8d0(0x160)](_0x9a1d89=>_0x9a1d89[_0x45f8d0(0x181)][_0x45f8d0(0x188)]):[];this[_0x45f8d0(0x1d7)][_0x45f8d0(0x1e5)]['urlMetas']=[..._0x500da2['filter'](_0x5eb6cd=>_0x5eb6cd['url'])[_0x45f8d0(0x145)](_0x4151d6=>({'id':_0x4151d6['url'],'data':{'isCustom':![],'displayName':_0x4151d6['url']}})),..._0x4829e3];}else this[_0x45f8d0(0x1d7)]['_state'][_0x45f8d0(0x198)]=[];_0xb590e?this[_0x45f8d0(0x1d7)][_0x45f8d0(0x1e5)]['specialMetas']=[..._0x500da2[_0x45f8d0(0x160)](_0x5f188f=>_0x5f188f[_0x45f8d0(0x1ca)]==null&&!_0x5f188f[_0x45f8d0(0x1b5)])[_0x45f8d0(0x145)](_0x3ffc07=>({'id':_0x3ffc07[_0x45f8d0(0x1b3)],'data':{'displayName':_0x3ffc07[_0x45f8d0(0x159)]}}))]:this[_0x45f8d0(0x1d7)]['_state'][_0x45f8d0(0x1cf)]=[];if(_0x28e78f)_0x28e78f(_0x500da2);};if(this[_0x5c8bf6(0x140)])this[_0x5c8bf6(0x140)][_0x5c8bf6(0x1d1)]();this['_pageFilter']=new AppSourceSelectorMulti['AppSourceSelectorAppFilter']();const _0x5438f2=this[_0x5c8bf6(0x1bf)](),{$cbAll:_0x3eb8ea,$wrpFilterControls:_0x2446a3,$wrpMiniPills:_0x5373ae,$wrpBtnsSort:_0x2bff3d,$list:_0x148b97,$btnOpenFilter:_0x361f9f,$iptSearch:_0x3fd412,$btnReset:_0x38d2fa,$btnToggleSummaryHidden:_0x4cc42c}=this['constructor']['$getFilterListElements']({'isRadio':this[_0x5c8bf6(0x1f2)],'isForceSelectAll':_0x5438f2});return $$(_0x32cd34)`
			${_0x2446a3}
			${_0x5373ae}
			${_0x2bff3d}
			${_0x148b97}
		`,this[_0x5c8bf6(0x168)]=new List({'$iptSearch':_0x3fd412,'$wrpList':_0x148b97,'fnSort':UtilDataSource[_0x5c8bf6(0x1ba)][_0x5c8bf6(0x1ff)](UtilDataSource)}),SortUtil[_0x5c8bf6(0x1e9)](_0x2bff3d,this[_0x5c8bf6(0x168)]),_0x3eb8ea&&(ListUiUtil[_0x5c8bf6(0x178)](_0x3eb8ea,this[_0x5c8bf6(0x168)]),_0x3eb8ea[_0x5c8bf6(0x17c)](()=>_0x3cdc16())),await this[_0x5c8bf6(0x140)][_0x5c8bf6(0x148)]({'$iptSearch':_0x3fd412,'$btnReset':_0x38d2fa,'$btnOpen':_0x361f9f,'$btnToggleSummaryHidden':_0x4cc42c,'$wrpMiniPills':_0x5373ae,'namespace':this[_0x5c8bf6(0x143)]}),this[_0x5c8bf6(0x184)][_0x5c8bf6(0x1a4)]((_0xddc2e,_0x41ba24)=>{const _0x379432=_0x5c8bf6,_0x11f081=this[_0x379432(0x1c9)]['getListItem']({'pageFilter':this[_0x379432(0x140)],'list':this[_0x379432(0x168)],'isRadio':this['_isRadio'],'src':_0xddc2e,'srcI':_0x41ba24,'fnOnClick':_0x3cdc16,'initialSources':_0x9b60e1,'isForceSelectAll':_0x5438f2});this[_0x379432(0x168)][_0x379432(0x1f1)](_0x11f081);}),_0x3cdc16({'isSkipSave':!![]}),this[_0x5c8bf6(0x168)][_0x5c8bf6(0x1f0)](),this['_pageFilter'][_0x5c8bf6(0x199)](),this[_0x5c8bf6(0x140)][_0x5c8bf6(0x1a8)]['render'](),this['_pageFilter'][_0x5c8bf6(0x1a8)]['on'](FilterBox[_0x5c8bf6(0x13b)],this[_0x5c8bf6(0x134)]['bind'](this)),this['_handleFilterChange'](),{'$stgNone':this[_0x5c8bf6(0x1db)],'$stgUpload':this['_$stgUpload'],'$stgUrl':this['_$stgUrl'],'$stgSpecial':this[_0x5c8bf6(0x1c6)],'$iptSearch':_0x3fd412};}[_0x5d9d8c(0x134)](){const _0x58d8fc=_0x5d9d8c,_0x590970=this['_pageFilter'][_0x58d8fc(0x1a8)][_0x58d8fc(0x1af)]();this[_0x58d8fc(0x168)][_0x58d8fc(0x160)](_0x966386=>this['_pageFilter']['toDisplay'](_0x590970,this['_sourcesToDisplay'][_0x966386['ix']]));}static[_0x5d9d8c(0x14b)](_0x9f2892){const _0x2d55d7=_0x5d9d8c;if(_0x9f2892[_0x2d55d7(0x1e0)](UtilDataSource[_0x2d55d7(0x180)])||_0x9f2892[_0x2d55d7(0x1e0)](UtilDataSource['SOURCE_TYP_OFFICIAL_SINGLE']))return _0x2d55d7(0x155)+UtilDataSource[_0x2d55d7(0x17a)]+'\x22></i>';if(_0x9f2892[_0x2d55d7(0x1e0)](UtilDataSource[_0x2d55d7(0x166)]))return'<i\x20class=\x22fas\x20fa-fw\x20fa-vial\x20mr-1\x20sourceSpicy\x22\x20title=\x22'+UtilDataSource['SOURCE_TYP_ARCANA']+_0x2d55d7(0x1b2);if(_0x9f2892[_0x2d55d7(0x1e0)](UtilDataSource[_0x2d55d7(0x1f4)]))return _0x2d55d7(0x157)+UtilDataSource[_0x2d55d7(0x1f4)]+_0x2d55d7(0x1b2);if(_0x9f2892[_0x2d55d7(0x1e0)](UtilDataSource[_0x2d55d7(0x17d)]))return'<i\x20class=\x22fas\x20fa-fw\x20fa-beer\x20mr-1\x20sourceHomebrew\x22\x20title=\x22'+UtilDataSource['SOURCE_TYP_BREW']+_0x2d55d7(0x1b2);if(_0x9f2892[_0x2d55d7(0x1e0)](UtilDataSource['SOURCE_TYP_CUSTOM']))return _0x2d55d7(0x1eb)+UtilDataSource[_0x2d55d7(0x17f)]+'\x22></i>';if(_0x9f2892['includes'](UtilDataSource[_0x2d55d7(0x15f)]))return _0x2d55d7(0x176)+UtilDataSource[_0x2d55d7(0x17f)]+'\x22></i>';return'';}[_0x5d9d8c(0x1f7)](_0x347fd7){((async()=>{const _0xff717b=_0x46c5,_0x948b0=$('<div\x20class=\x22veapp-loading__wrp-outer\x22><i>Loading...</i></div>')[_0xff717b(0x1e7)](_0x347fd7[_0xff717b(0x1f3)]()),_0x276498=$('<div\x20class=\x22ve-flex-col\x20w-100\x20h-100\x20min-h-0\x22></div>'),{$iptSearch:_0xc56fcd}=await this['pGetElements'](_0x276498);_0xc56fcd[_0xff717b(0x1a6)](_0x6b2de7=>{const _0x417a6e=_0xff717b;if(_0x6b2de7[_0x417a6e(0x15b)]==='Enter')_0x4aba3f[_0x417a6e(0x149)]();});const _0x4aba3f=$('<button\x20class=\x22mt-auto\x20btn\x20btn-5et\x22>Confirm</button>')['click'](()=>this[_0xff717b(0x165)]({'$ovrLoading':_0x948b0}));$$(_0x347fd7)`
			${_0x276498}
			<hr class="hr-1">
			<div class="ve-flex-col w-100 overflow-y-auto pr-1 max-h-40 imp__disp-import-from no-shrink">
				<h3 class="mb-1">Source</h3>
				${this['_$stgNone']}
				${this[_0xff717b(0x191)]}
				${this['_$stgUrl']}
				${this[_0xff717b(0x1c6)]}
			</div>
			${_0x4aba3f}
			${_0x948b0[_0xff717b(0x18b)]()}`,_0xc56fcd['focus']();})());}async[_0x5d9d8c(0x165)]({$ovrLoading:_0x961809,isSilent:isSilent=![],isBackground:isBackground=![]}={}){const _0x13aed6=_0x5d9d8c;try{if(_0x961809)_0x961809['showVe']();const _0x3e0f90=await this[_0x13aed6(0x1e6)]();if(!isSilent&&!_0x3e0f90['length']){if(_0x961809)_0x961809[_0x13aed6(0x18b)]();return ui[_0x13aed6(0x1a1)][_0x13aed6(0x18c)](_0x13aed6(0x1d9));}if(!isSilent&&_0x3e0f90[_0x13aed6(0x1c7)]>0xa){const _0x28009b=await InputUiUtil[_0x13aed6(0x147)]({'title':_0x13aed6(0x1d6),'storageKey':_0x13aed6(0x132),'textYesRemember':_0x13aed6(0x1fb),'textYes':_0x13aed6(0x1ab),'textNo':_0x13aed6(0x16b)});if(!_0x28009b){if(_0x961809)_0x961809[_0x13aed6(0x18b)]();return;}}const _0x33b014=await this['_pGetOutputEntities'](_0x3e0f90,{'isBackground':isBackground});if(!isSilent&&!_0x33b014[_0x13aed6(0x1c7)]){if(_0x961809)_0x961809[_0x13aed6(0x18b)]();return ui['notifications'][_0x13aed6(0x1da)](_0x13aed6(0x196));}this[_0x13aed6(0x1fa)](_0x33b014),this[_0x13aed6(0x177)]();}catch(_0x5f5106){if(_0x961809)_0x961809[_0x13aed6(0x18b)]();ui[_0x13aed6(0x1a1)]['error'](_0x13aed6(0x156)+VeCt[_0x13aed6(0x1c8)]);throw _0x5f5106;}}async['_pGetOutputEntities'](_0x540e64,{isBackground:isBackground=![]}={}){const _0x2f7678=_0x5d9d8c,{dedupedAllContentFlat:_0x5880a7}=await UtilDataSource[_0x2f7678(0x13a)]({'sources':_0x540e64,'uploadedFiles':this['uploadedFiles'],'customUrls':this[_0x2f7678(0x19b)](),'isBackground':isBackground,'props':this[_0x2f7678(0x174)],'page':this[_0x2f7678(0x17b)],'isDedupable':this['_isDedupable'],'fnGetDedupedData':this['_fnGetDedupedData'],'fnGetBlacklistFilteredData':this[_0x2f7678(0x1dd)]});return _0x5880a7;}['getCustomUrls'](){const _0x3bbfaf=_0x5d9d8c;return this[_0x3bbfaf(0x1d7)][_0x3bbfaf(0x1e5)][_0x3bbfaf(0x198)][_0x3bbfaf(0x160)](_0x37639a=>_0x37639a['data'][_0x3bbfaf(0x188)]&&_0x37639a[_0x3bbfaf(0x181)][_0x3bbfaf(0x1ca)]&&_0x37639a[_0x3bbfaf(0x181)]['url'][_0x3bbfaf(0x1f5)]())[_0x3bbfaf(0x145)](_0x5f10f5=>_0x5f10f5[_0x3bbfaf(0x181)][_0x3bbfaf(0x1ca)][_0x3bbfaf(0x1f5)]());}['handlePreClose'](){const _0x317935=_0x5d9d8c;this[_0x317935(0x1d7)][_0x317935(0x1be)]('urlMetas'),this[_0x317935(0x1d7)]['_detachCollection'](_0x317935(0x164)),this[_0x317935(0x1d7)][_0x317935(0x1be)](_0x317935(0x1cf));}['handlePostClose'](){const _0x2abc06=_0x5d9d8c;if(this[_0x2abc06(0x140)])this[_0x2abc06(0x140)][_0x2abc06(0x1d1)]();}async['close'](..._0x57f106){const _0x19a400=_0x5d9d8c;this[_0x19a400(0x1d0)](),await super[_0x19a400(0x177)](..._0x57f106),this[_0x19a400(0x1d8)]();}['pWaitForUserInput']({isRenderApp:isRenderApp=!![]}={}){const _0x5c0a6d=_0x5d9d8c,_0x5ac04d=this[_0x5c0a6d(0x1bf)]();if(!_0x5ac04d&&isRenderApp)this['render'](!![]);this[_0x5c0a6d(0x1b9)]=new Promise((_0x249aac,_0x39877c)=>{const _0x35ccff=_0x5c0a6d;this[_0x35ccff(0x1fa)]=_0x249aac,this[_0x35ccff(0x1c4)]=_0x39877c;});if(_0x5ac04d)this[_0x5c0a6d(0x165)]({'isSilent':!![],'isBackground':!![]})[_0x5c0a6d(0x142)](null);return this[_0x5c0a6d(0x1b9)];}async[_0x5d9d8c(0x19d)](){const _0x26bd1c=_0x5d9d8c,_0x4bde22=await this[_0x26bd1c(0x1ea)]();return this[_0x26bd1c(0x144)](_0x4bde22);}}AppSourceSelectorMulti[_0x5d9d8c(0x141)]=class extends AppFilter{static[_0x5d9d8c(0x1cd)](_0x87884c,_0x2d485e){const _0x54df73=_0x5d9d8c;_0x87884c=_0x87884c[_0x54df73(0x1a3)],_0x2d485e=_0x2d485e['item'];const _0x39c6e1=UtilDataSource['SOURCE_TYPE_ORDER__FILTER'][_0x54df73(0x133)](_0x87884c),_0x4477be=UtilDataSource[_0x54df73(0x18d)][_0x54df73(0x133)](_0x2d485e);return SortUtil[_0x54df73(0x1cb)](_0x39c6e1,_0x4477be);}constructor(){const _0xa3fab2=_0x5d9d8c;super(),this[_0xa3fab2(0x1b4)]=new Filter({'header':'Type','itemSortFn':AppSourceSelectorMulti[_0xa3fab2(0x141)][_0xa3fab2(0x1cd)]});}static[_0x5d9d8c(0x1cc)](){}[_0x5d9d8c(0x187)](_0x3a9f53,_0x22cffe){const _0x57453c=_0x5d9d8c;if(_0x22cffe)return;this[_0x57453c(0x1b4)][_0x57453c(0x1f1)](_0x3a9f53[_0x57453c(0x1e3)]);}async[_0x5d9d8c(0x150)](_0x96a0f4){const _0x230a78=_0x5d9d8c;_0x96a0f4[_0x230a78(0x1ed)]=[this[_0x230a78(0x1b4)]];}[_0x5d9d8c(0x172)](_0x1237c8,_0x5b4949){const _0x31a6ce=_0x5d9d8c;return this[_0x31a6ce(0x131)][_0x31a6ce(0x172)](_0x1237c8,_0x5b4949['filterTypes']);}};function _0xa703(){const _0x56f1b1=['constructor','url','ascSort','mutateForFilters','_sortTypeFilterItems','<button\x20class=\x22btn\x20btn-5et\x20btn-default\x20btn-xs\x22>Add\x20File</button>','specialMetas','handlePreClose','teardown','30uslmPa','addClass','_$getStageUrl','sourcesToDisplay','You\x20have\x20many\x20sources\x20selected,\x20which\x20may\x20negatively\x20impact\x20performance.\x20Do\x20you\x20want\x20to\x20continue?','_comp','handlePostClose','No\x20sources\x20selected!','warn','_$stgNone','mutateAndAddToFilters','_fnGetBlacklistFilteredData','<div\x20class=\x22veapp__list\x20mb-1\x20h-100\x20min-h-0\x22></div>','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20btn-danger\x20ml-2\x22\x20title=\x22Delete\x22><span\x20class=\x22glyphicon\x20glyphicon-trash\x22></span></button>','includes','$getIptStr','JSON\x20URL','filterTypes','dataSources','_state','pGetSelectedSources','appendTo','state','initBtnSortHandlers','_pGetInitialSources','<i\x20class=\x22fas\x20fa-fw\x20fa-user\x20ve-muted\x20mr-1\x22\x20title=\x22','_addHookBase','filters','getMaxWindowHeight','$wrpRow','init','addItem','_isRadio','empty','SOURCE_TYP_BREW_LOCAL','trim','displayName','activateListeners','_proxyAssignSimple','<input\x20type=\x22search\x22\x20class=\x22search\x20w-100\x20form-control\x22\x20placeholder=\x22Find\x20source...\x22>','_resolve','Continue\x20and\x20Remember','label','has','pGet','bind','_filterBox','AppSourceSelectorMulti__massSelectionWarning','indexOf','_handleFilterChange','comp','val','col-11-5','cbSel','<button\x20class=\x22btn\x20btn-5et\x20btn-default\x20btn-xs\x22>Add\x20Custom</button>','pGetAllContent','EVNT_VALCHANGE','1147008fUJwiJ','span','pSet','3354656ppGwze','_pageFilter','AppSourceSelectorAppFilter','then','_filterNamespace','_pGetOutputEntities','map','$btnUpload','pGetUserBoolean','pInitFilterBox','click','handleSelectClickRadio','_getFilterTypesIcon','fromObject','_savedSelectionKey','10drlbbu','_pGetInitialSourceIds','_pPopulateBoxOptions','Custom\x20Url','_pGetElements_pGetListElements','pageFilter','title','<i\x20class=\x22fab\x20fa-d-and-d\x20mr-1\x20sourceAL\x22\x20title=\x22','Failed\x20to\x20load\x20sources!\x20','<i\x20class=\x22fas\x20fa-fw\x20fa-beer\x20mr-1\x20sourceHomebrew\x20sourceHomebrew--local\x22\x20title=\x22','some','name','isStreamerMode','key','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-1\x22>Upload\x20File</button>','text-sneaky','savedSelectionKey','SOURCE_TYP_UNKNOWN','filter','getListItem','_getRenderedCollection','identifier','uploadedFileMetas','_pAcceptAndResolveSelection','SOURCE_TYP_ARCANA','13153rcLjhL','_list','items','\x22></div>','Cancel','<div\x20class=\x22ve-flex-col\x20w-100\x22></div>','/template/AppSourceSelectorMulti.hbs','text','addEventListener','268DxCPSv','Failed\x20to\x20read\x20file!\x20','toDisplay','<div\x20class=\x22fltr__mini-view\x20btn-group\x22></div>','_props','_addHookAll','<i\x20class=\x22fas\x20fa-fw\x20fa-question-circle\x20ve-muted\x20mr-1\x22\x20title=\x22','close','bindSelectAllCheckbox','pGetElements','SOURCE_TYP_OFFICIAL_BASE','_page','change','SOURCE_TYP_BREW','253298JiCKwY','SOURCE_TYP_CUSTOM','SOURCE_TYP_OFFICIAL_ALL','data','pDoMetaMerge','<button\x20class=\x22btn\x20btn-5et\x22\x20title=\x22Toggle\x20Filter\x20Summary\x20Display\x22><span\x20class=\x22glyphicon\x20glyphicon-resize-small\x22></span></button>','_sourcesToDisplay','placeholder','Enter\x20JSON\x20URL','addToFilters','isCustom','user','handleSelectClick','hideVe','error','SOURCE_TYPE_ORDER__FILTER','<div\x20class=\x22ve-flex-col\x20mb-1\x20w-100\x22>\x0a\x09\x09\x09<div\x20class=\x22ve-flex-v-center\x22><i>Select\x20a\x20source\x20to\x20view\x20import\x20options</i></div>\x0a\x09\x09\x09<hr\x20class=\x22hr-1\x22>\x0a\x09\x09</div>','isPlayerForceSelectAllowedSources','fnGetDedupedData','_$stgUpload','<input\x20type=\x22checkbox\x22\x20class=\x22no-events\x22>','parent','pAddToHomebrew','isRadio','No\x20sources\x20to\x20be\x20loaded!\x20Please\x20finish\x20entering\x20source\x20details\x20first.','col-0-5\x20ve-flex-vh-center','urlMetas','trimState','MODULE_LOCATION','getCustomUrls','9186bstbJa','pLoadInitialSelection','addToHomebrewSourceLookup','_renderCollection','files','notifications','_triggerCollectionUpdate','item','forEach','2842775dqzfPP','keydown','focus','filterBox','_$stgUrl','list-multi-selected','Continue','get','Select\x20file...','toObject','getValues','checked','toggleVe','\x22></i>','cacheKey','_typeFilter','isFile','uid','fnGetBlacklistFilteredData','isGmForceSelectAllowedSources','_pUserInput','sortListItems','_fnGetDedupedData','<div\x20class=\x22w-100\x20italic\x20','17590941GiILgS','_detachCollection','isForceSelectAllSources','_$getStageSpecial','_$getStageUpload','isShowCustomUrlForm','_$getStageNone','_reject','<button\x20class=\x22btn-5et\x20veapp__btn-list-reset\x22>Reset</button>','_$stgSpecial','length','STR_SEE_CONSOLE'];_0xa703=function(){return _0x56f1b1;};return _0xa703();}export{AppSourceSelectorMulti};