const _0x4b35e6=_0x2595;function _0x1ad3(){const _0x264b37=['length','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>','getClass_','pGetDereferencedSubclassData','_class_getFilteredFeatures','_class_renderClass_pStgLevelSelect','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points\x20Increase\x20Mode</div>','name','flags','[+]','_class_getExistingClassMeta','2114958cAhurA','_pGate','state','(Unknown)','7256vWKLNI','getFeaturesGroupedByOptionsSet','_class_renderClass_stgStartingProficiencies','constructor','compsClassHpIncreaseMode','getExistingClassItems','_compsClassHpInfo','_proxyAssignSimple','_getDefaultState','_pLoad_pDoHandleExistingClassItems','items','subclasses','_compsClassHpIncreaseMode','append','STR_WARN_SOURCE_SELECTION','_$wrpsClassTable','pIsNoChoice','_class_renderClass','subclass','Make\x20Primary','getExistingProficienciesFvttSavingThrows','Could\x20not\x20find\x20selected\x20class:\x20','pGetUserSelection','ExistingClassMeta','_classLevels','_class_isSubclassSelectionDisabled','html','<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>','getSubclass_','66Ymynjb','getClassStub','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btr-0\x20bbr-0\x20pr-2\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span>\x20Filter</button>','_pLoad_getExistingClassIndex','source','filter','pGetDereferencedClassData','_metaHksClassStgStartingProficiencies','getMaxCasterProgression','_class_unregisterFeatureSourceTrackingFeatureComps','1764642LBnJVX','unhook','\x22)\x20in\x20loaded\x20data.\x20','spellLevelHigh','getAllFeatures','classFeatures','entries','render','fastSetHtml','$getSelSearchable','spellLevelLow','modalFilterClasses','_pDoProxySetBase','class_ixMax','text','off','isPrimary','class_','modalTitle','notifications','compsClassStartingProficiencies','_class_pRenderFeatureOptionsSelects_','getSubclassStub','data','_class_renderEntriesSection','level','__state','$wrpTab','hover','Could\x20not\x20find\x20subclass\x20with\x20index\x20','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>','copy','class_getTotalLevels','traits','addClass','unregister','appendTo','ixClass','_class_renderClass_pClassTable','type','_data','_pLock','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','_pHkChangeSubclass','flat','_class_pGetMinMaxLevel','parent','class_ixPrimaryClass','warn','stringify','_unlock','class_pulseChange','title','toDisplay','MODE_PRIMARY','getTargetLevel','$iptDisplay','skills','Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','trim','weaponProf','get','subclassFeatures','tabClass','14IVSoqv','_modalFilterClasses','_subclass','showVe','details','getImportableFeatures','_class_renderClass_pDispSubclass','getExistingClassTotalLevels_','compSpell','mergeMap','getMappedSkillProficiencies','<hr\x20class=\x22hr-1\x22>','getValues','_existingClassMetas','bl-0','proficiency','class_getMinMaxSpellLevel','item','pLoad','_actor','110MOACpE','hideVe','keys','\x20classes\x20were\x20available)','class_getProps','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>','_class_renderClass_stgHpMode','isUnknownClass','Could\x20not\x20find\x20selected\x20subclass:\x20','_class_getLocks','_class_pRenderFeatureComps','Could\x20not\x20find\x20class\x20\x22','pPreloadHidden','_compsClassLevelSelect','setFeatures','MODE_MULTICLASS','_metaHksClassStgSkills','doApplyFilterToFeatureEntries','push','[‒]','empty','ability\x20score\x20improvement','compsClassFeatureOptionsSelect','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Proficiencies</div>','forEach','At\x20least\x20one\x20argument\x20must\x20be\x20provided!','1357690ODMBfB','isStrictMatching','_class_renderClass_stgSkills','findIndex','prop','40876TvwnRM','_compsClassFeatureOptionsSelect','proficienciesGained','isHpAvailable','startingProficiencies','pGetFormData','7983gCRnrH','Strict\x20source\x20matching\x20is:\x20','then','class','Select\x20a\x20Subclass','Primary\x20Class','\x22\x20(\x22','EVNT_VALCHANGE','_class_pRenderFeatureOptionsSelects','getItemSource','ixSubclass','startsWith','_metaHksClassStgSubclass','class_totalLevels','$getHoverContent_generic','1961336QLzYfZ','132zVVbfX','getCasterProgressionMeta','featureSourceTracker_','_class_renderClass_stgHpInfo','section','sourceJsonToAbv','exec','pageFilter','_compsClassSkillProficiencies','filterBox','_getExistingClassCount','getExisting','class_getPrimaryClass','.class_','getFilteredEntries','1DTrEGd','_parent','_addHookBase','max','_class_renderClass_pDispClass','_tabClass','1743762uUFnax','import','mode','casterProgression','onchange','_pHkChangeClass','toggleVe','pIsForceDisplay','map','_renderFeatureOptionsSelects','_compsClassStartingProficiencies','findAndCopyStateFrom','toLowerCase','min','_state','_class_isClassSelectionDisabled','toolProf','Select\x20a\x20Class','click','multiclassing','_removeHookBase','levels'];_0x1ad3=function(){return _0x264b37;};return _0x1ad3();}(function(_0x5a2b79,_0x2631e4){const _0x81f73c=_0x2595,_0x353381=_0x5a2b79();while(!![]){try{const _0x5aa2b7=parseInt(_0x81f73c(0xec))/0x1*(-parseInt(_0x81f73c(0xf2))/0x2)+parseInt(_0x81f73c(0x13e))/0x3+parseInt(_0x81f73c(0xc7))/0x4*(parseInt(_0x81f73c(0xa8))/0x5)+-parseInt(_0x81f73c(0x113))/0x6*(-parseInt(_0x81f73c(0x17e))/0x7)+parseInt(_0x81f73c(0x117))/0x8*(-parseInt(_0x81f73c(0xcd))/0x9)+-parseInt(_0x81f73c(0xc2))/0xa*(parseInt(_0x81f73c(0x134))/0xb)+-parseInt(_0x81f73c(0xdd))/0xc*(-parseInt(_0x81f73c(0xdc))/0xd);if(_0x5aa2b7===_0x2631e4)break;else _0x353381['push'](_0x353381['shift']());}catch(_0x3d543f){_0x353381['push'](_0x353381['shift']());}}}(_0x1ad3,0xa7a0e));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_HpInfo,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_FeatureOptionsSelect,Charactermancer_OtherProficiencySelect,Charactermancer_Util}from'./UtilCharactermancer.js';import{DataConverterClass}from'./DataConverterClass.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{SharedConsts}from'../shared/SharedConsts.js';import{LGT}from'./Util.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{Charactermancer_Spell_Util}from'./UtilCharactermancerSpellSlotLevelSelect.js';class ActorCharactermancerClass extends ActorCharactermancerBaseComponent{constructor(_0x125309){const _0x58765a=_0x2595;_0x125309=_0x125309||{},super(),this['_actor']=_0x125309['actor'],this[_0x58765a(0x166)]=_0x125309[_0x58765a(0x155)],this['_parent']=_0x125309[_0x58765a(0x16c)],this[_0x58765a(0xf1)]=_0x125309[_0x58765a(0x17d)],this[_0x58765a(0x17f)]=new ModalFilterClassesFvtt({'namespace':'ActorCharactermancer.classes','allData':this[_0x58765a(0x166)][_0x58765a(0xd0)]}),this[_0x58765a(0xd9)]=[],this[_0x58765a(0xfc)]=[],this['_compsClassHpIncreaseMode']=[],this[_0x58765a(0x11d)]=[],this[_0x58765a(0xb5)]=[],this['_compsClassFeatureOptionsSelect']=[],this[_0x58765a(0xe5)]=[],this[_0x58765a(0xb8)]=[],this['_metaHksClassStgStartingProficiencies']=[],this[_0x58765a(0x126)]=[],this[_0x58765a(0xa1)]=[];}get[_0x4b35e6(0x149)](){const _0x14d11f=_0x4b35e6;return this[_0x14d11f(0x17f)];}get[_0x4b35e6(0x152)](){const _0x296083=_0x4b35e6;return this[_0x296083(0xfc)];}get[_0x4b35e6(0x11b)](){const _0x2fcc1a=_0x4b35e6;return this[_0x2fcc1a(0x123)];}get['compsClassLevelSelect'](){const _0x29efd7=_0x4b35e6;return this[_0x29efd7(0xb5)];}get[_0x4b35e6(0xbe)](){const _0xa6ec52=_0x4b35e6;return this[_0xa6ec52(0xc8)];}get['compsClassSkillProficiencies'](){const _0x2a3a3c=_0x4b35e6;return this[_0x2a3a3c(0xe5)];}get['existingClassMetas'](){const _0x26df51=_0x4b35e6;return this[_0x26df51(0xa1)];}async[_0x4b35e6(0xa6)](){const _0x3531ae=_0x4b35e6;await this[_0x3531ae(0x17f)][_0x3531ae(0xb4)](),await this['_pLoad_pDoHandleExistingClassItems']();}async[_0x4b35e6(0x120)](){const _0x2d97a8=_0x4b35e6,_0x1b6986=this[_0x2d97a8(0xa7)][_0x2d97a8(0x121)][_0x2d97a8(0x139)](_0x20bf49=>_0x20bf49[_0x2d97a8(0x165)]==='class');this[_0x2d97a8(0xa1)]=_0x1b6986['map'](_0x42a2c1=>{const _0x1e7a7a=_0x2d97a8,_0x5ef2c8=this[_0x1e7a7a(0x137)](_0x42a2c1),_0x4fbaae=_0x42a2c1['data'][_0x1e7a7a(0x155)]?.[_0x1e7a7a(0x129)]||'';let _0x80c557=-0x1;if(~_0x5ef2c8){if(!_0x4fbaae)_0x80c557=null;else{const _0x2fe1c5=this['_data'][_0x1e7a7a(0xd0)][_0x5ef2c8];_0x80c557=_0x2fe1c5[_0x1e7a7a(0x122)]['findIndex'](_0x57f9a6=>_0x4fbaae[_0x1e7a7a(0xfe)]()[_0x1e7a7a(0x179)]()===_0x57f9a6[_0x1e7a7a(0x10f)][_0x1e7a7a(0xfe)]()[_0x1e7a7a(0x179)]());}}const _0x163733=this['_actor'][_0x1e7a7a(0x155)][_0x1e7a7a(0x155)]?.[_0x1e7a7a(0x98)]?.['originalClass']?this['_actor']['data'][_0x1e7a7a(0x155)]?.[_0x1e7a7a(0x98)]?.['originalClass']===_0x42a2c1['id']:!!_0x42a2c1[_0x1e7a7a(0x155)][_0x1e7a7a(0x110)]?.[SharedConsts['MODULE_NAME_FAKE']]?.['isPrimaryClass'],_0x4efe1c=~_0x5ef2c8?null:_0x1e7a7a(0xb3)+_0x42a2c1[_0x1e7a7a(0x10f)]+_0x1e7a7a(0xd3)+_0x42a2c1[_0x1e7a7a(0x155)][_0x1e7a7a(0x155)][_0x1e7a7a(0x138)]+_0x1e7a7a(0x140)+Charactermancer_Util[_0x1e7a7a(0x125)];_0x4efe1c&&(ui[_0x1e7a7a(0x151)]['warn'](_0x4efe1c),console[_0x1e7a7a(0x16e)](...LGT,_0x4efe1c,_0x1e7a7a(0xce)+Config[_0x1e7a7a(0x17b)](_0x1e7a7a(0xf3),_0x1e7a7a(0xc3))+'.'));const _0x96bafb=_0x80c557==null||~_0x80c557?null:'Could\x20not\x20find\x20subclass\x20\x22'+_0x4fbaae+'\x22\x20in\x20loaded\x20data.\x20'+Charactermancer_Util[_0x1e7a7a(0x125)];return _0x96bafb&&(ui[_0x1e7a7a(0x151)][_0x1e7a7a(0x16e)](_0x96bafb),console[_0x1e7a7a(0x16e)](...LGT,_0x96bafb,'Strict\x20source\x20matching\x20is:\x20'+Config[_0x1e7a7a(0x17b)](_0x1e7a7a(0xf3),_0x1e7a7a(0xc3))+'.')),new ActorCharactermancerClass[(_0x1e7a7a(0x12e))]({'item':_0x42a2c1,'ixClass':_0x5ef2c8,'isUnknownClass':!~_0x5ef2c8,'ixSubclass':_0x80c557,'isUnknownSubclass':_0x80c557==null&&!~_0x80c557,'level':Number(_0x42a2c1[_0x1e7a7a(0x155)][_0x1e7a7a(0x155)]['levels']||0x0),'isPrimary':_0x163733});});if(!this[_0x2d97a8(0xa1)][_0x2d97a8(0x108)])return;this['_state'][_0x2d97a8(0x14b)]=this['_existingClassMetas']['length']-0x1;for(let _0x1dad70=0x0;_0x1dad70<this[_0x2d97a8(0xa1)][_0x2d97a8(0x108)];++_0x1dad70){const _0x51e78e=this[_0x2d97a8(0xa1)][_0x1dad70],{propIxClass:_0x540380,propIxSubclass:_0x420e54}=ActorCharactermancerBaseComponent[_0x2d97a8(0xac)](_0x1dad70);await this[_0x2d97a8(0x14a)](_0x540380,_0x51e78e[_0x2d97a8(0x163)]),await this['_pDoProxySetBase'](_0x420e54,_0x51e78e[_0x2d97a8(0xd7)]);if(_0x51e78e['isPrimary'])this['_state'][_0x2d97a8(0x16d)]=_0x1dad70;}if(!this[_0x2d97a8(0xa1)]['some'](_0x2dc99a=>_0x2dc99a[_0x2d97a8(0x14e)]))this['_state'][_0x2d97a8(0x16d)]=0x0;}[_0x4b35e6(0x137)](_0x302a6a){const _0x4b68e6=_0x4b35e6,_0x5561e0=(_0x302a6a[_0x4b68e6(0x10f)]||'')[_0x4b68e6(0xfe)]()['trim']();let _0xc353fe=this[_0x4b68e6(0x166)][_0x4b68e6(0xd0)][_0x4b68e6(0xc5)](_0x38d706=>{const _0x478d7c=_0x4b68e6;return _0x5561e0===_0x38d706[_0x478d7c(0x10f)][_0x478d7c(0xfe)]()['trim']()&&(!Config[_0x478d7c(0x17b)](_0x478d7c(0xf3),'isStrictMatching')||(UtilDataConverter[_0x478d7c(0xd6)](_0x302a6a)[_0x478d7c(0x138)]||'')[_0x478d7c(0xfe)]()===Parser[_0x478d7c(0xe2)](_0x38d706[_0x478d7c(0x138)])[_0x478d7c(0xfe)]());});if(~_0xc353fe)return _0xc353fe;const _0x20b7db=/^(.*?)\(.*\)$/[_0x4b68e6(0xe3)](_0x5561e0);if(!_0x20b7db)return _0xc353fe;return this['_data'][_0x4b68e6(0xd0)][_0x4b68e6(0xc5)](_0x48f894=>{const _0x49222c=_0x4b68e6;return _0x20b7db[0x1][_0x49222c(0x179)]()===_0x48f894[_0x49222c(0x10f)][_0x49222c(0xfe)]()[_0x49222c(0x179)]()&&(!Config['get'](_0x49222c(0xf3),_0x49222c(0xc3))||(UtilDataConverter[_0x49222c(0xd6)](_0x302a6a)['source']||'')[_0x49222c(0xfe)]()===Parser[_0x49222c(0xe2)](_0x48f894[_0x49222c(0x138)])[_0x49222c(0xfe)]());});}['getExistingClassTotalLevels_'](){const _0x4764b2=_0x4b35e6;return this[_0x4764b2(0xa1)][_0x4764b2(0x139)](Boolean)[_0x4764b2(0xfa)](_0x2dead7=>_0x2dead7['level'])['sum']();}[_0x4b35e6(0xe7)](){const _0x2d9e30=_0x4b35e6;return this[_0x2d9e30(0xa1)][_0x2d9e30(0x139)](Boolean)[_0x2d9e30(0x108)];}[_0x4b35e6(0x10a)]({ix:_0x21cb4a,propIxClass:_0xd9156f}){const _0x21bedd=_0x4b35e6;if(_0x21cb4a==null&&_0xd9156f==null)throw new Error(_0x21bedd(0xc1));if(_0xd9156f!=null){if(this[_0x21bedd(0x100)][_0xd9156f]==null)return null;if(!~this['_state'][_0xd9156f])return DataConverterClass['getClassStub']();return this[_0x21bedd(0x166)][_0x21bedd(0xd0)][this[_0x21bedd(0x100)][_0xd9156f]];}if(_0x21cb4a!=null&&~_0x21cb4a)return this[_0x21bedd(0x166)][_0x21bedd(0xd0)][_0x21cb4a];return DataConverterClass[_0x21bedd(0x135)]();}[_0x4b35e6(0x133)]({cls:_0x273deb,propIxSubclass:_0x4e29ed,ix:_0x28532e}){const _0x321133=_0x4b35e6;if(_0x28532e==null&&_0x4e29ed==null)throw new Error(_0x321133(0xc1));if(!_0x273deb)return null;if(_0x4e29ed!=null){if(this['_state'][_0x4e29ed]==null)return null;if(!~this[_0x321133(0x100)][_0x4e29ed])return DataConverterClass['getSubclassStub']({'cls':_0x273deb});if(!_0x273deb[_0x321133(0x122)]?.[_0x321133(0x108)])return DataConverterClass['getSubclassStub']({'cls':_0x273deb});return _0x273deb[_0x321133(0x122)][this[_0x321133(0x100)][_0x4e29ed]];}if(_0x28532e!=null&&~_0x28532e)return _0x273deb[_0x321133(0x122)][_0x28532e];return DataConverterClass[_0x321133(0x154)]({'cls':_0x273deb});}[_0x4b35e6(0x101)]({ix:_0x59b7d1}){const _0x18a50f=_0x4b35e6;return!!this[_0x18a50f(0xa1)][_0x59b7d1];}['_class_isSubclassSelectionDisabled']({ix:_0xd56925}){const _0x51bb63=_0x4b35e6;return this[_0x51bb63(0xa1)][_0xd56925]&&(this[_0x51bb63(0xa1)][_0xd56925]['ixSubclass']!=null||this[_0x51bb63(0xa1)][_0xd56925][_0x51bb63(0xaf)]);}['render'](){const _0x3cd407=_0x4b35e6,_0xf6ca0c=this['_tabClass']?.[_0x3cd407(0x159)];if(!_0xf6ca0c)return;const _0x50b0f2=$$`<div class="ve-flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x2b5b27=$$`<div class="ve-flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0x5d4788=0x0;_0x5d4788<this[_0x3cd407(0x100)][_0x3cd407(0x14b)]+0x1;++_0x5d4788)this[_0x3cd407(0x128)](_0x50b0f2,_0x2b5b27,_0x5d4788);this['_addHookBase'](_0x3cd407(0x16d),()=>this[_0x3cd407(0x100)][_0x3cd407(0x171)]=!this[_0x3cd407(0x100)]['class_pulseChange']);const _0x340b1f=$(_0x3cd407(0x15c))[_0x3cd407(0x104)](()=>{const _0x299f5a=_0x3cd407;this[_0x299f5a(0x128)](_0x50b0f2,_0x2b5b27,++this[_0x299f5a(0x100)][_0x299f5a(0x14b)]);});$$`<div class="ve-flex w-100 h-100">
			<div class="ve-flex-col w-100">
				${_0x50b0f2}
				<div class="mt-2">${_0x340b1f}</div>
			</div>
			<div class="vr-1"></div>
			${_0x2b5b27}
		</div>`[_0x3cd407(0x162)](_0xf6ca0c);}static[_0x4b35e6(0xb1)](_0x495c32){const _0xdadd32=_0x4b35e6;return{'lockChangeClass':_0xdadd32(0x14f)+_0x495c32+_0xdadd32(0xf7),'lockChangeSubclass':_0xdadd32(0x14f)+_0x495c32+_0xdadd32(0x169),'lockRenderFeatureOptionsSelects':_0xdadd32(0x14f)+_0x495c32+_0xdadd32(0xfb)};}[_0x4b35e6(0x128)](_0x21e576,_0x37f21a,_0x21a0ea){const _0x17c7df=_0x4b35e6,{propPrefixClass:_0x139a77,propIxClass:_0x41ca50,propPrefixSubclass:_0x29790c,propIxSubclass:_0x34e132,propCntAsi:_0x5aefd5,propCurLevel:_0x341b0b,propTargetLevel:_0x374ffe}=ActorCharactermancerBaseComponent[_0x17c7df(0xac)](_0x21a0ea),_0x17b3a5=FilterBox[_0x17c7df(0xd4)]+'.class_'+_0x21a0ea+_0x17c7df(0x12f),_0xaa7531=FilterBox[_0x17c7df(0xd4)]+_0x17c7df(0xea)+_0x21a0ea+_0x17c7df(0x96),{lockChangeClass:_0x158518,lockChangeSubclass:_0x332947,lockRenderFeatureOptionsSelects:_0x1a9bc6}=this[_0x17c7df(0x11a)][_0x17c7df(0xb1)](_0x21a0ea);this['_addHookBase'](_0x41ca50,()=>this['_state'][_0x17c7df(0x171)]=!this['_state'][_0x17c7df(0x171)]);const {$wrp:_0x327339,$iptDisplay:_0x3a7984,$iptSearch:_0x13a3b5,fnUpdateHidden:_0xca24db}=ComponentUiUtil[_0x17c7df(0x147)](this,_0x41ca50,{'values':this['_data'][_0x17c7df(0xd0)][_0x17c7df(0xfa)]((_0x1f0e8a,_0x4228e3)=>_0x4228e3),'isAllowNull':!![],'fnDisplay':_0x5ce6ce=>{const _0x40b8e0=_0x17c7df,_0x1e0945=this['getClass_']({'ix':_0x5ce6ce});if(!_0x1e0945)return console['warn'](...LGT,'Could\x20not\x20find\x20class\x20with\x20index\x20'+_0x5ce6ce+'\x20('+this[_0x40b8e0(0x166)][_0x40b8e0(0xd0)][_0x40b8e0(0x108)]+_0x40b8e0(0xab)),_0x40b8e0(0x116);return _0x1e0945[_0x40b8e0(0x10f)]+'\x20'+(_0x1e0945[_0x40b8e0(0x138)]!==SRC_PHB?'['+Parser['sourceJsonToAbv'](_0x1e0945[_0x40b8e0(0x138)])+']':'');},'asMeta':!![],'isDisabled':this[_0x17c7df(0x101)]({'ix':_0x21a0ea})});_0x3a7984[_0x17c7df(0x160)](_0x17c7df(0xa2)),_0x13a3b5[_0x17c7df(0x160)](_0x17c7df(0xa2));const _0x125555=()=>{const _0x3a0559=_0x17c7df,_0x5f43b8=this[_0x3a0559(0x17f)][_0x3a0559(0xe4)][_0x3a0559(0xe6)][_0x3a0559(0xa0)](),_0x246135=this[_0x3a0559(0x166)][_0x3a0559(0xd0)][_0x3a0559(0xfa)](_0x43443f=>!this['_modalFilterClasses'][_0x3a0559(0xe4)]['toDisplay'](_0x5f43b8,_0x43443f));_0xca24db(_0x246135,![]);},_0x4281f9=()=>{const _0x249d93=_0x17c7df,_0x53fb08=this[_0x249d93(0x10a)]({'propIxClass':_0x41ca50});if(!_0x53fb08||!this[_0x249d93(0xd9)][_0x21a0ea])return;const _0x177b77=this[_0x249d93(0x17f)]['pageFilter'][_0x249d93(0xe6)][_0x249d93(0xa0)](),_0x2e5c64=_0x53fb08[_0x249d93(0x122)][_0x249d93(0xfa)](_0x284853=>!this['_modalFilterClasses'][_0x249d93(0xe4)][_0x249d93(0x173)](_0x177b77,_0x284853));this[_0x249d93(0xd9)][_0x21a0ea]['fnUpdateHidden'](_0x2e5c64,![]);};this[_0x17c7df(0x17f)][_0x17c7df(0xe4)][_0x17c7df(0xe6)]['on'](FilterBox[_0x17c7df(0xd4)],()=>_0x125555()),_0x125555();const _0x1d4390=$(_0x17c7df(0x136))[_0x17c7df(0x104)](async()=>{const _0x213217=_0x17c7df,_0x4586a6=this[_0x213217(0x10a)]({'propIxClass':_0x41ca50}),_0x599a64=this[_0x213217(0x133)]({'cls':_0x4586a6,'propIxSubclass':_0x34e132}),_0x4176d8=this[_0x213217(0x101)]({'ix':_0x21a0ea}),_0x4815d9=this[_0x213217(0x130)]({'ix':_0x21a0ea}),_0x43b4c4=await this[_0x213217(0x17f)][_0x213217(0x12d)]({'selectedClass':_0x4586a6,'selectedSubclass':_0x599a64,'isClassDisabled':_0x4176d8,'isSubclassDisabled':_0x4815d9});if(_0x4176d8&&_0x4815d9)return;if(_0x43b4c4==null||!_0x43b4c4[_0x213217(0xd0)])return;const _0x4740d3=this[_0x213217(0x166)]['class'][_0x213217(0xc5)](_0x2996a1=>_0x2996a1['name']===_0x43b4c4[_0x213217(0xd0)]['name']&&_0x2996a1[_0x213217(0x138)]===_0x43b4c4[_0x213217(0xd0)][_0x213217(0x138)]);if(!~_0x4740d3)throw new Error(_0x213217(0x12c)+JSON[_0x213217(0x16f)](_0x43b4c4[_0x213217(0xd0)]));this['_state'][_0x41ca50]=_0x4740d3,await this[_0x213217(0x114)](_0x158518);if(_0x43b4c4[_0x213217(0x129)]!=null){const _0x4e9f46=this['getClass_']({'propIxClass':_0x41ca50}),_0x7ed07a=_0x4e9f46[_0x213217(0x122)][_0x213217(0xc5)](_0x20c188=>_0x20c188[_0x213217(0x10f)]===_0x43b4c4[_0x213217(0x129)][_0x213217(0x10f)]&&_0x20c188[_0x213217(0x138)]===_0x43b4c4[_0x213217(0x129)][_0x213217(0x138)]);if(!~_0x7ed07a)throw new Error(_0x213217(0xb0)+JSON[_0x213217(0x16f)](_0x43b4c4['subclass']));this[_0x213217(0x100)][_0x34e132]=_0x7ed07a;}else this[_0x213217(0x100)][_0x34e132]=null;}),_0x423297=async _0x2779f2=>{const _0x3eb88e=_0x17c7df;this[_0x3eb88e(0x17f)]['pageFilter'][_0x3eb88e(0xe6)][_0x3eb88e(0x14d)](_0xaa7531);if(_0x2779f2){const _0xf9d41b=Object[_0x3eb88e(0xaa)](this[_0x3eb88e(0x158)])[_0x3eb88e(0x139)](_0xf7e206=>_0xf7e206[_0x3eb88e(0xd8)](_0x139a77)&&_0xf7e206!==_0x41ca50)[_0x3eb88e(0x9d)](_0x37de63=>({[_0x37de63]:null}));this['_proxyAssignSimple'](_0x3eb88e(0x115),_0xf9d41b);}const _0x19733f=this['getClass_']({'propIxClass':_0x41ca50}),_0x2de7b6=this[_0x3eb88e(0x133)]({'cls':_0x19733f,'propIxSubclass':_0x34e132});this['_class_renderClass_stgSelectSubclass']({'$stgSelectSubclass':_0x13fdcb,'cls':_0x19733f,'ix':_0x21a0ea,'propIxSubclass':_0x34e132,'idFilterBoxChangeSubclass':_0xaa7531,'doApplyFilterToSelSubclass':_0x4281f9}),this[_0x3eb88e(0xae)]({'$stgHpMode':_0x42fddc,'ix':_0x21a0ea,'cls':_0x19733f}),this[_0x3eb88e(0xe0)]({'$stgHpInfo':_0x2e5888,'ix':_0x21a0ea,'cls':_0x19733f}),this[_0x3eb88e(0x119)]({'$stgStartingProficiencies':_0x48a19c,'ix':_0x21a0ea,'cls':_0x19733f}),await this['_class_renderClass_pStgLevelSelect']({'$stgLevelSelect':_0x1af522,'$stgFeatureOptions':_0x57e61f,'ix':_0x21a0ea,'cls':_0x19733f,'sc':_0x2de7b6,'propIxSubclass':_0x34e132,'propCurLevel':_0x341b0b,'propTargetLevel':_0x374ffe,'propCntAsi':_0x5aefd5,'lockRenderFeatureOptionsSelects':_0x1a9bc6,'idFilterBoxChangeClassLevels':_0x17b3a5}),this[_0x3eb88e(0x100)][_0x3eb88e(0xda)]=this[_0x3eb88e(0x15e)](),this[_0x3eb88e(0xc4)]({'$stgSkills':_0x4ebd06,'ix':_0x21a0ea,'propIxClass':_0x41ca50}),await this[_0x3eb88e(0xf0)]({'ix':_0x21a0ea,'$dispClass':_0x538a89,'cls':_0x19733f,'sc':_0x2de7b6}),_0x25ed51[_0x3eb88e(0xbc)]();},_0x4fd344=async _0x3227d0=>{const _0x27c5fc=_0x17c7df;try{await this['_pLock'](_0x158518),await _0x423297(_0x3227d0);}finally{this[_0x27c5fc(0x170)](_0x158518);}};this[_0x17c7df(0xee)](_0x41ca50,_0x4fd344);const _0x212e5f=async()=>{const _0x17fb3e=_0x17c7df;this['_modalFilterClasses'][_0x17fb3e(0xe4)]['filterBox'][_0x17fb3e(0x14d)](_0xaa7531);const _0x366bce=Object[_0x17fb3e(0xaa)](this[_0x17fb3e(0x158)])[_0x17fb3e(0x139)](_0x161b4c=>_0x161b4c[_0x17fb3e(0xd8)](_0x29790c)&&_0x161b4c!==_0x34e132)['mergeMap'](_0x58cdff=>({[_0x58cdff]:null}));this[_0x17fb3e(0x11e)](_0x17fb3e(0x115),_0x366bce);const _0x460dcc=this['getClass_']({'propIxClass':_0x41ca50}),_0x4def3f=this['getSubclass_']({'cls':_0x460dcc,'propIxSubclass':_0x34e132}),_0x3311f7=this[_0x17fb3e(0x10c)](_0x460dcc,_0x4def3f);if(this['_compsClassLevelSelect'][_0x21a0ea])this[_0x17fb3e(0xb5)][_0x21a0ea][_0x17fb3e(0xb6)](_0x3311f7);await this['_class_pRenderFeatureOptionsSelects']({'ix':_0x21a0ea,'propCntAsi':_0x5aefd5,'filteredFeatures':_0x3311f7,'$stgFeatureOptions':_0x57e61f,'lockRenderFeatureOptionsSelects':_0x1a9bc6}),this['_modalFilterClasses']['pageFilter'][_0x17fb3e(0xe6)]['on'](_0xaa7531,()=>_0x4281f9()),_0x4281f9(),await this[_0x17fb3e(0x9a)]({'ix':_0x21a0ea,'$dispSubclass':_0x25ed51,'cls':_0x460dcc,'sc':_0x4def3f});},_0x536c0d=async()=>{const _0x41113f=_0x17c7df;try{await this[_0x41113f(0x167)](_0x332947),await _0x212e5f();}finally{this['_unlock'](_0x332947);}};this[_0x17c7df(0xee)](_0x34e132,_0x536c0d);const _0x3f56dd=$('<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>'),_0x13fdcb=$$`<div class="ve-flex-col w-100"></div>`[_0x17c7df(0xa9)](),_0x42fddc=$$`<div class="ve-flex-col"></div>`[_0x17c7df(0xa9)](),_0x2e5888=$$`<div class="ve-flex-col"></div>`[_0x17c7df(0xa9)](),_0x48a19c=$$`<div class="ve-flex-col"></div>`[_0x17c7df(0xa9)](),_0x1af522=$$`<div class="ve-flex-col"></div>`['hideVe'](),_0x57e61f=$$`<div class="ve-flex-col"></div>`[_0x17c7df(0xa9)](),_0x4ebd06=$$`<div class="ve-flex-col"></div>`['hideVe']();let _0x36bd57=null;if(!this[_0x17c7df(0xa1)][_0x17c7df(0x108)]){_0x36bd57=$(_0x17c7df(0xad))[_0x17c7df(0x104)](()=>this['_state']['class_ixPrimaryClass']=_0x21a0ea);const _0x4cbe66=()=>{const _0x5c72ab=_0x17c7df;_0x36bd57[_0x5c72ab(0x14c)](this[_0x5c72ab(0x100)][_0x5c72ab(0x16d)]===_0x21a0ea?_0x5c72ab(0xd2):_0x5c72ab(0x12a))[_0x5c72ab(0x172)](this[_0x5c72ab(0x100)][_0x5c72ab(0x16d)]===_0x21a0ea?'This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.':_0x5c72ab(0x178))[_0x5c72ab(0xc6)]('disabled',this[_0x5c72ab(0x100)][_0x5c72ab(0x16d)]===_0x21a0ea);};this[_0x17c7df(0xee)](_0x17c7df(0x16d),_0x4cbe66),_0x4cbe66();}const _0x4b4119=$(_0x17c7df(0x168))[_0x17c7df(0x104)](()=>{const _0x56792b=_0x17c7df,_0x305dfa=_0x4b4119[_0x56792b(0x14c)]()==='[+]';_0x4b4119['text'](_0x305dfa?_0x56792b(0xbb):'[+]');if(_0x305dfa)_0x3f56dd['text'](_0x56792b(0x103));else{const _0x2a988d=this[_0x56792b(0x10a)]({'propIxClass':_0x41ca50}),_0x59b23d=this[_0x56792b(0x133)]({'cls':_0x2a988d,'propIxSubclass':_0x34e132});if(_0x2a988d)_0x3f56dd[_0x56792b(0x14c)](''+_0x2a988d[_0x56792b(0x10f)]+(_0x59b23d?'\x20('+_0x59b23d[_0x56792b(0x10f)]+')':''));else _0x3f56dd[_0x56792b(0x14c)](_0x56792b(0x103));}_0x9954e2[_0x56792b(0xf8)]();}),_0x538a89=$$`<div class="ve-flex-col w-100"></div>`,_0x25ed51=$$`<div class="ve-flex-col w-100"></div>`,_0x9954e2=$$`<div class="ve-flex-col w-100 mt-2">
			<div class="ve-flex btn-group w-100">
				<div class="ve-flex no-shrink">
					${_0x1d4390}
				</div>
				<div class="ve-flex-col w-100">
					${_0x327339}
					${_0x13fdcb}
				</div>
			</div>
			${_0x42fddc}
			${_0x2e5888}
			${_0x48a19c}
			${_0x4ebd06}
			${_0x1af522}
			${_0x57e61f}
		</div>`,_0x540a75=$$`<div class="ve-flex-col">
			${_0x21a0ea>0x0?'<hr\x20class=\x22hr-3\x20hr--heavy\x22>':''}

			<div class="split-v-center">
				${_0x3f56dd}
				<div class="ve-flex-v-center">
					${_0x36bd57}
					${_0x4b4119}
				</div>
			</div>

			${_0x9954e2}
		</div>`['appendTo'](_0x21e576),_0x46519b=$$`<div>
			${_0x21a0ea>0x0?'<hr\x20class=\x22hr-2\x20hr--heavy\x22>':''}

			${_0x538a89}
			${_0x25ed51}
		</div>`[_0x17c7df(0x162)](_0x37f21a);_0x4fd344()[_0x17c7df(0xcf)](()=>_0x536c0d());}['_class_renderClass_stgSelectSubclass']({$stgSelectSubclass:_0x5b1803,cls:_0x430d7f,ix:_0x47c900,propIxSubclass:_0x3dc000,idFilterBoxChangeSubclass:_0xa560b1,doApplyFilterToSelSubclass:_0x3f7c38}){const _0x3a6937=_0x4b35e6;_0x5b1803[_0x3a6937(0xbc)]();if(this['_metaHksClassStgSubclass'][_0x47c900])this[_0x3a6937(0xd9)][_0x47c900][_0x3a6937(0x13f)]();if(_0x430d7f&&_0x430d7f[_0x3a6937(0x122)]&&_0x430d7f[_0x3a6937(0x122)][_0x3a6937(0x108)]){const _0xa2692a=ComponentUiUtil[_0x3a6937(0x147)](this,_0x3dc000,{'values':_0x430d7f[_0x3a6937(0x122)][_0x3a6937(0xfa)]((_0x692d5b,_0x41750b)=>_0x41750b),'isAllowNull':!![],'fnDisplay':_0x2ce5c4=>{const _0x2895ee=_0x3a6937,_0x182f8a=this[_0x2895ee(0x133)]({'cls':_0x430d7f,'ix':_0x2ce5c4});if(!_0x182f8a)return console['warn'](...LGT,_0x2895ee(0x15b)+_0x2ce5c4+'\x20('+_0x430d7f[_0x2895ee(0x122)][_0x2895ee(0x108)]+'\x20subclasses\x20were\x20available\x20for\x20class\x20'+_0x430d7f[_0x2895ee(0x10f)]+')'),_0x2895ee(0x116);return _0x182f8a[_0x2895ee(0x10f)]+'\x20'+(_0x182f8a[_0x2895ee(0x138)]!==SRC_PHB?'['+Parser[_0x2895ee(0xe2)](_0x182f8a['source'])+']':'');},'asMeta':!![],'isDisabled':this[_0x3a6937(0x130)]({'ix':_0x47c900}),'displayNullAs':_0x3a6937(0xd1)});_0xa2692a[_0x3a6937(0x176)]['addClass']('bl-0'),_0xa2692a['$iptSearch'][_0x3a6937(0x160)](_0x3a6937(0xa2)),this[_0x3a6937(0xd9)][_0x47c900]=_0xa2692a,this[_0x3a6937(0x17f)][_0x3a6937(0xe4)][_0x3a6937(0xe6)]['on'](_0xa560b1,()=>_0x3f7c38()),_0x3f7c38();const _0x63f5f9=$$`<div class="ve-flex-col w-100 mt-1">
				${_0xa2692a['$wrp']}
			</div>`;_0x5b1803[_0x3a6937(0x97)]()[_0x3a6937(0x124)](_0x63f5f9);}else _0x5b1803[_0x3a6937(0xa9)](),this['_metaHksClassStgSubclass'][_0x47c900]=null;}['_class_renderClass_stgHpMode']({$stgHpMode:_0x350afb,ix:_0x4993f0,cls:_0x4a7f85}){const _0x2dae3a=_0x4b35e6;_0x350afb[_0x2dae3a(0xbc)](),_0x4a7f85&&Charactermancer_Class_HpIncreaseModeSelect['isHpAvailable'](_0x4a7f85)?(_0x350afb[_0x2dae3a(0x97)]()[_0x2dae3a(0x124)](_0x2dae3a(0x10e)),this[_0x2dae3a(0x123)][_0x4993f0]=new Charactermancer_Class_HpIncreaseModeSelect(),this[_0x2dae3a(0x123)][_0x4993f0][_0x2dae3a(0x145)](_0x350afb)):(_0x350afb[_0x2dae3a(0xa9)](),this['_compsClassHpIncreaseMode'][_0x4993f0]=null);}['_class_renderClass_stgHpInfo']({$stgHpInfo:_0x1c20d8,ix:_0x3c1171,cls:_0x4d0463}){const _0x3b3d7a=_0x4b35e6;_0x1c20d8['empty'](),_0x4d0463&&Charactermancer_Class_HpIncreaseModeSelect[_0x3b3d7a(0xca)](_0x4d0463)?(_0x1c20d8[_0x3b3d7a(0x97)]()[_0x3b3d7a(0x124)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points</div>'),this[_0x3b3d7a(0x11d)][_0x3c1171]=new Charactermancer_Class_HpInfo({'className':_0x4d0463['name'],'hitDice':_0x4d0463['hd']}),this['_compsClassHpInfo'][_0x3c1171][_0x3b3d7a(0x145)](_0x1c20d8)):(_0x1c20d8['hideVe'](),this['_compsClassHpInfo'][_0x3c1171]=null);}['_class_renderClass_stgStartingProficiencies']({$stgStartingProficiencies:_0x210302,ix:_0x24aa46,cls:_0x21eb3c}){const _0x3cadd8=_0x4b35e6,_0x55585d=this[_0x3cadd8(0x112)](_0x24aa46);if(_0x55585d)return;if(this[_0x3cadd8(0x13b)][_0x24aa46])this[_0x3cadd8(0x13b)][_0x24aa46][_0x3cadd8(0x13f)]();_0x210302[_0x3cadd8(0xbc)](),this[_0x3cadd8(0xed)][_0x3cadd8(0xdf)][_0x3cadd8(0x161)](this['_compsClassStartingProficiencies'][_0x24aa46]);_0x21eb3c&&(_0x21eb3c[_0x3cadd8(0xcb)]||_0x21eb3c[_0x3cadd8(0x105)]?.['proficienciesGained'])?(_0x210302['showVe']()[_0x3cadd8(0x124)](_0x3cadd8(0xbf)),this[_0x3cadd8(0xfc)][_0x24aa46]=Charactermancer_Class_StartingProficiencies[_0x3cadd8(0x17b)]({'featureSourceTracker':this[_0x3cadd8(0xed)]['featureSourceTracker_'],'primaryProficiencies':_0x21eb3c[_0x3cadd8(0xcb)],'multiclassProficiencies':_0x21eb3c[_0x3cadd8(0x105)]?.[_0x3cadd8(0xc9)],'savingThrowsProficiencies':_0x21eb3c[_0x3cadd8(0xa3)],'existingProficienciesFvttArmor':MiscUtil[_0x3cadd8(0x17b)](this[_0x3cadd8(0xa7)],'data',_0x3cadd8(0x155),_0x3cadd8(0x15f),'armorProf'),'existingProficienciesFvttWeapons':MiscUtil['get'](this['_actor'],_0x3cadd8(0x155),_0x3cadd8(0x155),_0x3cadd8(0x15f),_0x3cadd8(0x17a)),'existingProficienciesFvttTools':MiscUtil[_0x3cadd8(0x17b)](this[_0x3cadd8(0xa7)],_0x3cadd8(0x155),_0x3cadd8(0x155),_0x3cadd8(0x15f),_0x3cadd8(0x102)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies[_0x3cadd8(0x12b)](this[_0x3cadd8(0xa7)])}),this[_0x3cadd8(0xfc)][_0x24aa46][_0x3cadd8(0x145)](_0x210302)):(_0x210302[_0x3cadd8(0xa9)](),this['_compsClassStartingProficiencies'][_0x24aa46]=null);const _0x36822b=()=>{const _0x914429=_0x3cadd8;if(this[_0x914429(0xfc)][_0x24aa46])this['_compsClassStartingProficiencies'][_0x24aa46][_0x914429(0xf4)]=this['_state']['class_ixPrimaryClass']===_0x24aa46?Charactermancer_Class_ProficiencyImportModeSelect[_0x914429(0x174)]:Charactermancer_Class_ProficiencyImportModeSelect[_0x914429(0xb7)];};this[_0x3cadd8(0xee)](_0x3cadd8(0x16d),_0x36822b),this[_0x3cadd8(0x13b)][_0x24aa46]={'unhook':()=>this[_0x3cadd8(0x106)](_0x3cadd8(0x16d),_0x36822b)},_0x36822b();}[_0x4b35e6(0x112)](_0x10b114){const _0x386776=_0x4b35e6;if(this['_existingClassMetas'][_0x10b114])return this[_0x386776(0xa1)][_0x10b114];const {propIxClass:_0xb05c6d}=ActorCharactermancerBaseComponent[_0x386776(0xac)](_0x10b114),_0x17e1c2=this[_0x386776(0x10a)]({'propIxClass':_0xb05c6d}),_0xf702d5=Charactermancer_Class_Util[_0x386776(0x11c)](this['_actor'],_0x17e1c2),_0x5a89a1=_0xf702d5['length']?_0xf702d5[0x0]:null;if(!_0x5a89a1)return null;return{'item':_0x5a89a1,'level':Number(_0x5a89a1['data'][_0x386776(0x155)][_0x386776(0x107)]||0x0)};}async[_0x4b35e6(0x10d)]({$stgLevelSelect:_0x127c83,$stgFeatureOptions:_0x2ffa50,ix:_0x6a99d1,cls:_0x3dfc9a,sc:_0x4e789b,propIxSubclass:_0x1414ae,propCurLevel:_0x2f871f,propTargetLevel:_0x2ba7b6,propCntAsi:_0x4b1600,lockRenderFeatureOptionsSelects:_0xb149ce,idFilterBoxChangeClassLevels:_0x14e936}){const _0x46a80f=_0x4b35e6;_0x127c83['empty']();if(_0x3dfc9a){_0x127c83[_0x46a80f(0x97)]()[_0x46a80f(0x124)](_0x46a80f(0x109));const _0x49950a=this[_0x46a80f(0x10c)](_0x3dfc9a,_0x4e789b),_0x3e1d25=this[_0x46a80f(0x112)](_0x6a99d1);this[_0x46a80f(0xb5)][_0x6a99d1]=new Charactermancer_Class_LevelSelect({'features':_0x49950a,'isRadio':!![],'isForceSelect':this[_0x46a80f(0x9b)]()===0x0||!_0x3e1d25,'maxPreviousLevel':_0x3e1d25?.[_0x46a80f(0x157)],'isSubclass':!![]}),this[_0x46a80f(0xb5)][_0x6a99d1][_0x46a80f(0x145)](_0x127c83);const _0x2433c7=async()=>{const _0x1545a0=_0x46a80f,_0x2e6471=this[_0x1545a0(0x133)]({'cls':_0x3dfc9a,'propIxSubclass':_0x1414ae}),_0x2ff344=this[_0x1545a0(0x10c)](_0x3dfc9a,_0x2e6471);await this['_class_pRenderFeatureOptionsSelects']({'ix':_0x6a99d1,'propCntAsi':_0x4b1600,'filteredFeatures':_0x2ff344,'$stgFeatureOptions':_0x2ffa50,'lockRenderFeatureOptionsSelects':_0xb149ce}),this['_state'][_0x2f871f]=this[_0x1545a0(0xb5)][_0x6a99d1]['getCurLevel'](),this['_state'][_0x2ba7b6]=this['_compsClassLevelSelect'][_0x6a99d1][_0x1545a0(0x175)](),this[_0x1545a0(0x100)][_0x1545a0(0xda)]=this['class_getTotalLevels']();};this[_0x46a80f(0xb5)][_0x6a99d1][_0x46a80f(0xf6)](_0x2433c7),await _0x2433c7(),this['_modalFilterClasses']['pageFilter'][_0x46a80f(0xe6)]['on'](_0x14e936,()=>{const _0x54a641=_0x46a80f;if(!this[_0x54a641(0xb5)][_0x6a99d1])return;const _0x50afc1=this[_0x54a641(0x133)]({'cls':_0x3dfc9a,'propIxSubclass':_0x1414ae}),_0x230c2f=this[_0x54a641(0x10c)](_0x3dfc9a,_0x50afc1);if(this[_0x54a641(0xb5)][_0x6a99d1])this['_compsClassLevelSelect'][_0x6a99d1][_0x54a641(0xb6)](_0x230c2f);this[_0x54a641(0xd5)]({'ix':_0x6a99d1,'propCntAsi':_0x4b1600,'filteredFeatures':_0x230c2f,'$stgFeatureOptions':_0x2ffa50,'lockRenderFeatureOptionsSelects':_0xb149ce});});}else _0x127c83[_0x46a80f(0xa9)](),this[_0x46a80f(0xb5)][_0x6a99d1]=null,_0x2ffa50[_0x46a80f(0xbc)]()[_0x46a80f(0xa9)](),this[_0x46a80f(0x13d)](_0x6a99d1),this[_0x46a80f(0x100)][_0x4b1600]=null,this[_0x46a80f(0x17f)][_0x46a80f(0xe4)][_0x46a80f(0xe6)]['off'](_0x14e936);}[_0x4b35e6(0xc4)]({$stgSkills:_0x3efb06,ix:_0x27035d,propIxClass:_0x4b228b}){const _0x334685=_0x4b35e6,_0x572551=this[_0x334685(0x112)](_0x27035d);if(_0x572551)return;if(this[_0x334685(0xb8)][_0x27035d])this[_0x334685(0xb8)][_0x27035d]['unhook']();const _0x2a747e=()=>{const _0x12a82d=_0x334685;_0x3efb06[_0x12a82d(0xbc)]();const _0x59e88d=this['getClass_']({'propIxClass':_0x4b228b}),_0xd769da=this[_0x12a82d(0x100)][_0x12a82d(0x16d)]===_0x27035d;this['_parent'][_0x12a82d(0xdf)][_0x12a82d(0x161)](this[_0x12a82d(0xe5)][_0x27035d]);if(_0x59e88d&&(_0xd769da&&_0x59e88d[_0x12a82d(0xcb)]?.['skills']||!_0xd769da&&_0x59e88d[_0x12a82d(0x105)]?.[_0x12a82d(0xc9)]?.['skills'])){_0x3efb06[_0x12a82d(0x97)]()[_0x12a82d(0x124)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>');const _0x45b15a=_0xd769da?_0x59e88d[_0x12a82d(0xcb)][_0x12a82d(0x177)]:_0x59e88d['multiclassing'][_0x12a82d(0xc9)][_0x12a82d(0x177)],_0x2ae26d={'skillProficiencies':MiscUtil['get'](this['_actor'],_0x12a82d(0x155),_0x12a82d(0x155),_0x12a82d(0x177))};this[_0x12a82d(0xe5)][_0x27035d]=new Charactermancer_OtherProficiencySelect({'featureSourceTracker':this[_0x12a82d(0xed)][_0x12a82d(0xdf)],'existing':Charactermancer_OtherProficiencySelect[_0x12a82d(0xe8)](_0x2ae26d),'existingFvtt':_0x2ae26d,'available':Charactermancer_OtherProficiencySelect[_0x12a82d(0x9e)](_0x45b15a)}),this[_0x12a82d(0xe5)][_0x27035d]['render'](_0x3efb06);}else _0x3efb06[_0x12a82d(0xa9)](),this[_0x12a82d(0xe5)][_0x27035d]=null;};this[_0x334685(0xee)]('class_ixPrimaryClass',_0x2a747e),this[_0x334685(0xb8)][_0x27035d]={'unhook':()=>this[_0x334685(0x106)](_0x334685(0x16d),_0x2a747e)},_0x2a747e();}async[_0x4b35e6(0xf0)]({ix:_0x56e1cf,$dispClass:_0x58d47c,cls:_0x126167,sc:_0x3e81e7}){const _0xf5a314=_0x4b35e6;if(this[_0xf5a314(0x126)][_0x56e1cf])this[_0xf5a314(0x126)][_0x56e1cf]['detach']();else this[_0xf5a314(0x126)][_0x56e1cf]=$('<div\x20class=\x22ve-flex-col\x20w-100\x22></div>');_0x58d47c['empty']();if(_0x126167){const _0x2a4bc6=await DataUtil[_0xf5a314(0xd0)][_0xf5a314(0x13a)](_0x126167);let _0x1850e8=MiscUtil[_0xf5a314(0x15d)](_0x2a4bc6[_0xf5a314(0x143)]||[])[_0xf5a314(0x16a)]();_0x1850e8=Charactermancer_Class_Util['getFilteredEntries'](_0x1850e8,this[_0xf5a314(0x17f)][_0xf5a314(0xe4)],this[_0xf5a314(0x17f)][_0xf5a314(0xe4)]['filterBox'][_0xf5a314(0xa0)]());const _0x2153f7={'type':_0xf5a314(0xe1),'entries':_0x1850e8};this[_0xf5a314(0x156)](_0x58d47c,_0x126167[_0xf5a314(0x10f)],_0x2153f7,{'$wrpTable':this[_0xf5a314(0x126)][_0x56e1cf]}),await this[_0xf5a314(0x164)]({'ix':_0x56e1cf,'cls':_0x126167,'sc':_0x3e81e7});}}async['_class_renderClass_pDispSubclass']({ix:_0x395a1b,$dispSubclass:_0x1fa1cf,cls:_0x4402e3,sc:_0x429a73}){const _0x4a2e8f=_0x4b35e6;_0x1fa1cf[_0x4a2e8f(0xbc)]();if(_0x429a73){_0x1fa1cf['append'](_0x4a2e8f(0x9f));const _0x3ef272=await DataUtil[_0x4a2e8f(0xd0)][_0x4a2e8f(0x10b)](_0x429a73);let _0x31588d=MiscUtil[_0x4a2e8f(0x15d)](_0x3ef272[_0x4a2e8f(0x17c)])[_0x4a2e8f(0x16a)]();_0x31588d=Charactermancer_Class_Util[_0x4a2e8f(0xeb)](_0x31588d,this[_0x4a2e8f(0x17f)][_0x4a2e8f(0xe4)],this[_0x4a2e8f(0x17f)][_0x4a2e8f(0xe4)][_0x4a2e8f(0xe6)][_0x4a2e8f(0xa0)]());const _0x4b5f41={'type':'section','entries':_0x31588d};if(_0x4b5f41[_0x4a2e8f(0x144)][0x0]&&_0x4b5f41[_0x4a2e8f(0x144)][0x0][_0x4a2e8f(0x10f)])delete _0x4b5f41[_0x4a2e8f(0x144)][0x0][_0x4a2e8f(0x10f)];this['_class_renderEntriesSection'](_0x1fa1cf,_0x429a73['name'],_0x4b5f41);}await this['_class_renderClass_pClassTable']({'ix':_0x395a1b,'cls':_0x4402e3,'sc':_0x429a73});}async[_0x4b35e6(0x164)]({ix:_0xa8c4f5,cls:_0x561330,sc:_0x18059d}){const _0x3dc0e4=_0x4b35e6,_0x5a7d61=_0x561330?await DataUtil[_0x3dc0e4(0xd0)][_0x3dc0e4(0x13a)](_0x561330):null,_0x47dfdc=_0x18059d?await DataUtil[_0x3dc0e4(0xd0)]['pGetDereferencedSubclassData'](_0x18059d):null,_0x1edc21=_0x5a7d61?.[_0x3dc0e4(0x143)]||_0x47dfdc?.[_0x3dc0e4(0x17c)]?this[_0x3dc0e4(0x17f)][_0x3dc0e4(0xe4)][_0x3dc0e4(0xe6)][_0x3dc0e4(0xa0)]():null;_0x5a7d61?.[_0x3dc0e4(0x143)]&&(_0x5a7d61[_0x3dc0e4(0x143)]=_0x5a7d61[_0x3dc0e4(0x143)][_0x3dc0e4(0xfa)](_0x36eee2=>{const _0x5c472e=_0x3dc0e4;return _0x36eee2=MiscUtil['copy'](_0x36eee2),_0x36eee2=Charactermancer_Class_Util['getFilteredEntries'](_0x36eee2,this[_0x5c472e(0x17f)][_0x5c472e(0xe4)],_0x1edc21),_0x36eee2;}));_0x47dfdc?.[_0x3dc0e4(0x17c)]&&(_0x47dfdc['subclassFeatures']=_0x47dfdc['subclassFeatures'][_0x3dc0e4(0xfa)](_0x3e75c2=>{const _0x28bae6=_0x3dc0e4;return _0x3e75c2=MiscUtil[_0x28bae6(0x15d)](_0x3e75c2),_0x3e75c2=Charactermancer_Class_Util['getFilteredEntries'](_0x3e75c2,this[_0x28bae6(0x17f)]['pageFilter'],_0x1edc21),_0x3e75c2;}));const _0x362ea1=DataConverterClass['getRenderedClassTableFromDereferenced'](_0x5a7d61,_0x47dfdc);this[_0x3dc0e4(0x126)][_0xa8c4f5][_0x3dc0e4(0x131)]('')[_0x3dc0e4(0x146)](_0x362ea1);}[_0x4b35e6(0x10c)](_0xb06647,_0x517fd3){const _0x1b11b0=_0x4b35e6;if(!_0xb06647)return[];return _0xb06647=MiscUtil[_0x1b11b0(0x15d)](_0xb06647),_0xb06647[_0x1b11b0(0x122)]=[_0x517fd3]['filter'](Boolean),Charactermancer_Util['getFilteredFeatures'](Charactermancer_Class_Util[_0x1b11b0(0x142)](_0xb06647),this[_0x1b11b0(0x17f)][_0x1b11b0(0xe4)],this[_0x1b11b0(0x17f)][_0x1b11b0(0xe4)]['filterBox'][_0x1b11b0(0xa0)]());}async[_0x4b35e6(0xd5)](_0x532a5e){const _0x292c3e=_0x4b35e6,{lockRenderFeatureOptionsSelects:_0x4c8493}=_0x532a5e;try{return await this[_0x292c3e(0x167)](_0x4c8493),this[_0x292c3e(0x153)](_0x532a5e);}finally{this[_0x292c3e(0x170)](_0x4c8493);}}async['_class_pRenderFeatureOptionsSelects_']({ix:_0x131045,propCntAsi:_0x6c5109,filteredFeatures:_0x16f6e0,$stgFeatureOptions:_0x29ceb8}){const _0x3a4a5d=_0x4b35e6,_0x39c5d5=this[_0x3a4a5d(0xc8)][_0x131045]||[];_0x39c5d5[_0x3a4a5d(0xc0)](_0x5bc78a=>this[_0x3a4a5d(0xed)][_0x3a4a5d(0xdf)][_0x3a4a5d(0x161)](_0x5bc78a)),_0x29ceb8[_0x3a4a5d(0xbc)]();const _0x55bafb=this[_0x3a4a5d(0xa1)][_0x131045]?new Charactermancer_Class_Util['ExistingFeatureChecker'](this[_0x3a4a5d(0xa7)]):null,_0x37622b=Charactermancer_Util[_0x3a4a5d(0x99)](_0x16f6e0),_0x4eab86=MiscUtil[_0x3a4a5d(0x15d)](_0x37622b);Charactermancer_Util[_0x3a4a5d(0xb9)](_0x4eab86,this['_modalFilterClasses'][_0x3a4a5d(0xe4)],this[_0x3a4a5d(0x17f)]['pageFilter']['filterBox'][_0x3a4a5d(0xa0)]());const _0x4bce29=Charactermancer_Util[_0x3a4a5d(0x118)](_0x4eab86),{lvlMin:_0x54d877,lvlMax:_0x5d0f1c}=await this[_0x3a4a5d(0x16b)](_0x131045);this[_0x3a4a5d(0x13d)](_0x131045);let _0x318365=0x0;for(const _0x5cf1f0 of _0x4bce29){const {topLevelFeature:_0xe23ef,optionsSets:_0x32fe7b}=_0x5cf1f0;if(_0xe23ef[_0x3a4a5d(0x157)]<_0x54d877||_0xe23ef[_0x3a4a5d(0x157)]>_0x5d0f1c)continue;const _0x45c1a1=_0xe23ef[_0x3a4a5d(0x10f)][_0x3a4a5d(0xfe)]();if(_0x45c1a1===_0x3a4a5d(0xbd)){_0x318365++;continue;}for(const _0xd0774a of _0x32fe7b){const _0x1dd853=new Charactermancer_FeatureOptionsSelect({'featureSourceTracker':this[_0x3a4a5d(0xed)][_0x3a4a5d(0xdf)],'existingFeatureChecker':_0x55bafb,'actor':this[_0x3a4a5d(0xa7)],'optionsSet':_0xd0774a,'level':_0xe23ef[_0x3a4a5d(0x157)],'modalFilterSpells':this['_parent'][_0x3a4a5d(0x9c)]['modalFilterSpells']});this[_0x3a4a5d(0xc8)][_0x131045]['push'](_0x1dd853),_0x1dd853[_0x3a4a5d(0xfd)](_0x39c5d5);}}this[_0x3a4a5d(0x100)][_0x6c5109]=_0x318365,await this['_class_pRenderFeatureComps'](_0x131045,{'$stgFeatureOptions':_0x29ceb8});}[_0x4b35e6(0x13d)](_0x13c7c0){const _0x507b07=_0x4b35e6;(this[_0x507b07(0xc8)][_0x13c7c0]||[])[_0x507b07(0xc0)](_0x40af2b=>_0x40af2b['unregisterFeatureSourceTracking']()),this[_0x507b07(0xc8)][_0x13c7c0]=[];}async[_0x4b35e6(0x16b)](_0x51b09f){const _0x28941f=_0x4b35e6;let _0x49e69e=0x0,_0x37cd8c=0x0;if(this[_0x28941f(0xb5)][_0x51b09f]){const _0x17599b=await this['_compsClassLevelSelect'][_0x51b09f][_0x28941f(0xcc)]()[_0x28941f(0x155)];_0x49e69e=Math[_0x28941f(0xff)](..._0x17599b)+0x1,_0x37cd8c=Math[_0x28941f(0xef)](..._0x17599b)+0x1;}return{'lvlMin':_0x49e69e,'lvlMax':_0x37cd8c};}async[_0x4b35e6(0xb2)](_0x2c56b5,{$stgFeatureOptions:_0x3db3e7}){const _0x2ecdab=_0x4b35e6;for(const _0xebe89b of this[_0x2ecdab(0xc8)][_0x2c56b5]){if(await _0xebe89b[_0x2ecdab(0x127)]()&&!await _0xebe89b[_0x2ecdab(0xf9)]())continue;_0x3db3e7[_0x2ecdab(0x97)]()[_0x2ecdab(0x124)](''+(_0xebe89b[_0x2ecdab(0x150)]?_0x2ecdab(0x132)+_0xebe89b[_0x2ecdab(0x150)]+'</div>':'')),_0xebe89b[_0x2ecdab(0x145)](_0x3db3e7);}}[_0x4b35e6(0x156)](_0x21d7f3,_0x25b8df,_0x5d8659,{$wrpTable:$wrpTable=null}={}){const _0x28de51=_0x4b35e6,_0x39d841=$('<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x28de51(0x104)](()=>{const _0x588e53=_0x28de51;_0x39d841[_0x588e53(0x14c)](_0x39d841[_0x588e53(0x14c)]()==='[+]'?_0x588e53(0xbb):_0x588e53(0x111));if($wrpTable)$wrpTable[_0x588e53(0xf8)]();_0x1bafe['toggleVe']();}),_0x1bafe=Renderer[_0x28de51(0x15a)][_0x28de51(0xdb)](_0x5d8659);$$`<div class="ve-flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x25b8df||'')['qq']()}</div></div>
				${_0x39d841}
			</div>
			${$wrpTable}
			${_0x1bafe}
		</div>`['appendTo'](_0x21d7f3);}[_0x4b35e6(0xe9)](){const _0x5e2d6c=_0x4b35e6;if(!~this[_0x5e2d6c(0x100)][_0x5e2d6c(0x16d)])return null;const {propIxClass:_0x28992c}=ActorCharactermancerBaseComponent[_0x5e2d6c(0xac)](this[_0x5e2d6c(0x100)]['class_ixPrimaryClass']);return this[_0x5e2d6c(0x166)][_0x5e2d6c(0xd0)][this['_state'][_0x28992c]];}['class_getTotalLevels'](){const _0x4668e3=_0x4b35e6;return this[_0x4668e3(0xb5)][_0x4668e3(0x139)](Boolean)['map'](_0xc145e1=>_0xc145e1[_0x4668e3(0x175)]())['reduce']((_0x28f619,_0xc3c204)=>_0x28f619+_0xc3c204,0x0);}[_0x4b35e6(0xa4)](){const _0x32ef2b=_0x4b35e6,_0x1a500c=[],_0x482a16=[];for(let _0x449006=0x0;_0x449006<this['_state'][_0x32ef2b(0x14b)]+0x1;++_0x449006){const {propIxClass:_0x4d809c,propIxSubclass:_0x493070,propCurLevel:_0x4f761d,propTargetLevel:_0x5419ed}=ActorCharactermancerBaseComponent[_0x32ef2b(0xac)](_0x449006),_0x30df74=this[_0x32ef2b(0x10a)]({'propIxClass':_0x4d809c});if(!_0x30df74)continue;const _0x1414b1=this[_0x32ef2b(0x133)]({'cls':_0x30df74,'propIxSubclass':_0x493070}),_0x12df97=this['_state'][_0x4f761d],_0x48c0f5=this[_0x32ef2b(0x100)][_0x5419ed],_0xd10b8b=DataConverter[_0x32ef2b(0x13c)](_0x30df74['casterProgression'],_0x1414b1?.[_0x32ef2b(0xf5)]),_0x5b8366=Charactermancer_Spell_Util[_0x32ef2b(0xde)]({'casterProgression':_0xd10b8b,'curLevel':_0x12df97,'targetLevel':_0x48c0f5,'isBreakpointsOnly':!![]})?.[_0x32ef2b(0x148)];if(_0x5b8366!=null)_0x1a500c[_0x32ef2b(0xba)](_0x5b8366);const _0x55c192=Charactermancer_Spell_Util[_0x32ef2b(0xde)]({'casterProgression':_0xd10b8b,'curLevel':_0x12df97,'targetLevel':_0x48c0f5,'isBreakpointsOnly':!![]})?.[_0x32ef2b(0x141)];if(_0x55c192!=null)_0x482a16[_0x32ef2b(0xba)](_0x55c192);}return{'min':_0x1a500c['length']?Math[_0x32ef2b(0xff)](..._0x1a500c):null,'max':_0x482a16['length']?Math[_0x32ef2b(0xef)](..._0x482a16):null};}[_0x4b35e6(0x11f)](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![]};}}ActorCharactermancerClass[_0x4b35e6(0x12e)]=class{constructor({item:_0x40958e,ixClass:_0x110c59,ixSubclass:_0x1c59c7,level:_0x4dfe63}){const _0x38f5ba=_0x4b35e6;this[_0x38f5ba(0xa5)]=_0x40958e,this[_0x38f5ba(0x163)]=_0x110c59,this['ixSubclass']=_0x1c59c7,this[_0x38f5ba(0x157)]=_0x4dfe63;if(isNaN(this[_0x38f5ba(0x157)]))this[_0x38f5ba(0x157)]=0x0;}};function _0x2595(_0x337895,_0x27016e){const _0x1ad327=_0x1ad3();return _0x2595=function(_0x259502,_0x596d7e){_0x259502=_0x259502-0x96;let _0x3af7e3=_0x1ad327[_0x259502];return _0x3af7e3;},_0x2595(_0x337895,_0x27016e);}export{ActorCharactermancerClass};