const _0x38dd88=_0x5f49;(function(_0x5e1c82,_0xf6f943){const _0x3c9b3d=_0x5f49,_0x2b4d77=_0x5e1c82();while(!![]){try{const _0x46ca1a=-parseInt(_0x3c9b3d(0x194))/0x1*(parseInt(_0x3c9b3d(0x193))/0x2)+parseInt(_0x3c9b3d(0x1be))/0x3*(parseInt(_0x3c9b3d(0x1c2))/0x4)+-parseInt(_0x3c9b3d(0x197))/0x5+-parseInt(_0x3c9b3d(0x1b6))/0x6+parseInt(_0x3c9b3d(0x1a5))/0x7*(-parseInt(_0x3c9b3d(0x196))/0x8)+-parseInt(_0x3c9b3d(0x1b1))/0x9+-parseInt(_0x3c9b3d(0x19a))/0xa*(-parseInt(_0x3c9b3d(0x1ca))/0xb);if(_0x46ca1a===_0xf6f943)break;else _0x2b4d77['push'](_0x2b4d77['shift']());}catch(_0x5a3448){_0x2b4d77['push'](_0x2b4d77['shift']());}}}(_0x535e,0x97c48));import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';function _0x535e(){const _0x1bbc62=['copy','pGetFluff','STUB_BACKGROUND','get','_IMG_FALLBACK','1114449nJmAoD','<hr>','_pGetSaveImagePath','_SIDE_LOAD_OPTS_FEATURE','isAddPermission','player','permissions','isImportDescription','/media/icon/farmer.svg','importBackground','permission','backgroundFeature','11179917yeqTwM','pGetBackgroundItem','_getBackgroundFlags','getSourceWithPagePart','entries','7279176dozPXW','modules/','mutEffectsDisabledTransfer','filterValues','</div>','foundryBackgroundFeature','<div>','_pGetDataSideLoaded','846297nzhlEA','fluff','name','getBackgroundStub','4sdnElR','defaultPermission','source','PG_BACKGROUNDS','getNameWithSourcePart','pGeBackgroundSideData','pGetBackgroundFeatureItem','length','3091MCewOB','background','feat','setFirstSection','backgroundName','12XHhftB','33521VtjegT','_getFauxBackgroundFeature','48ohhbyM','771865KkRNpE','Unknown\x20Background','URL_TO_HASH_BUILDER','146110uJeeEY','foundryBackground','filter','_pGetFlagsSideLoaded','srd','MODULE_NAME_FAKE'];_0x535e=function(){return _0x1bbc62;};return _0x535e();}import{Vetools}from'./Vetools.js';import{UtilDataConverter}from'./UtilDataConverter.js';function _0x5f49(_0x164100,_0x447973){const _0x535e73=_0x535e();return _0x5f49=function(_0x5f49b0,_0x2d9392){_0x5f49b0=_0x5f49b0-0x192;let _0x5c8182=_0x535e73[_0x5f49b0];return _0x5c8182;},_0x5f49(_0x164100,_0x447973);}class DataConverterBackground extends DataConverter{static ['_SIDE_LOAD_OPTS']={'propBrew':_0x38dd88(0x19b),'fnLoadJson':Vetools[_0x38dd88(0x1c7)],'propJson':'background'};static [_0x38dd88(0x1a8)]={'propBrew':_0x38dd88(0x1bb),'fnLoadJson':Vetools['pGeBackgroundSideData'],'propJson':_0x38dd88(0x1b0),'propsMatch':['backgroundSource',_0x38dd88(0x192),_0x38dd88(0x1c4),_0x38dd88(0x1c0)]};static [_0x38dd88(0x1a4)]=_0x38dd88(0x1b7)+SharedConsts['MODULE_NAME']+_0x38dd88(0x1ad);static async[_0x38dd88(0x1b2)](_0x2869a3,_0x410f1b){const _0x259e52=_0x38dd88;_0x410f1b=_0x410f1b||{};const _0x1fcd50=_0x410f1b[_0x259e52(0x1bf)]||await Renderer['background'][_0x259e52(0x1a1)](_0x2869a3),_0x209479=Config[_0x259e52(0x1a3)](_0x259e52(0x1ae),_0x259e52(0x1ac))?await UtilDataConverter['pGetWithDescriptionPlugins'](()=>{const _0x3894ba=_0x259e52,_0xc1f309=[_0x1fcd50?.[_0x3894ba(0x1b5)]?.[_0x3894ba(0x1c9)]?Renderer[_0x3894ba(0x1a3)]()[_0x3894ba(0x1cd)](!![])['render']({'type':_0x3894ba(0x1b5),'entries':_0x1fcd50?.[_0x3894ba(0x1b5)]}):'',Renderer[_0x3894ba(0x1a3)]()[_0x3894ba(0x1cd)](!![])['render']({'type':_0x3894ba(0x1b5),'entries':_0x2869a3[_0x3894ba(0x1b5)]})][_0x3894ba(0x19c)](Boolean);return _0x3894ba(0x1bc)+_0xc1f309['join'](_0x3894ba(0x1a6))+_0x3894ba(0x1ba);}):'',_0x588833=await this[_0x259e52(0x1a7)](_0x2869a3,{'fluff':_0x1fcd50}),_0x363764=await this[_0x259e52(0x1bd)](_0x2869a3),_0x17dce3=await this[_0x259e52(0x19d)](_0x2869a3),_0x383ae1=await this['_pGetEffectsSideLoaded']({'ent':_0x2869a3,'img':_0x588833});DataConverter['mutEffectsDisabledTransfer'](_0x383ae1,'importBackground');const _0x24acea={'name':UtilApplications['getCleanEntityName'](UtilDataConverter[_0x259e52(0x1c6)](_0x2869a3)),'type':_0x259e52(0x1cc),'data':{'description':{'value':_0x209479,'chat':'','unidentified':''},'source':UtilDataConverter[_0x259e52(0x1b4)](_0x2869a3),'damage':{'parts':[]},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'ability':null,'actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'formula':'','save':{'ability':'','dc':null},'requirements':'','recharge':{'value':null,'charged':![]},'consume':{'type':'','target':'','amount':null},..._0x363764},'flags':{...this[_0x259e52(0x1b3)](_0x2869a3,_0x410f1b),..._0x17dce3},'effects':_0x383ae1,'img':_0x588833};if(_0x410f1b[_0x259e52(0x1c3)]!=null)_0x24acea[_0x259e52(0x1af)]={'default':_0x410f1b['defaultPermission']};else{if(_0x410f1b[_0x259e52(0x1a9)])_0x24acea[_0x259e52(0x1af)]={'default':Config['get'](_0x259e52(0x1ae),_0x259e52(0x1ab))};}return _0x24acea;}static['_getBackgroundFlags'](_0x4af525,_0x4be078){const _0x5089ea=_0x38dd88;return{[SharedConsts[_0x5089ea(0x19f)]]:{'page':UrlUtil['PG_BACKGROUNDS'],'source':_0x4af525[_0x5089ea(0x1c4)],'hash':UrlUtil[_0x5089ea(0x199)][UrlUtil[_0x5089ea(0x1c5)]](_0x4af525),'propDroppable':_0x5089ea(0x1cb),'filterValues':_0x4be078[_0x5089ea(0x1b9)]}};}static async[_0x38dd88(0x1c8)](_0x4be736,_0x327a27,_0x351674,_0x3359b5){const _0x38bba4=_0x38dd88,_0x56f86=this[_0x38bba4(0x195)](_0x4be736,_0x327a27),_0x2d1240=await this[_0x38bba4(0x1a7)](_0x4be736,{'fluff':_0x3359b5[_0x38bba4(0x1bf)]}),_0x39c770=await this['_pGetEffectsSideLoaded']({'ent':_0x56f86,'img':_0x2d1240},{'propOpts':'_SIDE_LOAD_OPTS_FEATURE'});return DataConverter[_0x38bba4(0x1b8)](_0x39c770,_0x38bba4(0x1ae)),DataConverter['pGetItemActorPassive'](_0x327a27,{'mode':_0x38bba4(0x1aa),'img':_0x2d1240,'fvttType':_0x38bba4(0x1cc),'source':_0x4be736[_0x38bba4(0x1c4)],'actor':_0x351674,'additionalData':await this['_pGetDataSideLoaded'](_0x56f86,{'propOpts':_0x38bba4(0x1a8)}),'additionalFlags':await this[_0x38bba4(0x19d)](_0x56f86,{'propOpts':'_SIDE_LOAD_OPTS_FEATURE'}),'effects':_0x39c770});}static[_0x38dd88(0x195)](_0x2af53d,_0x40f62f){const _0x28ec10=_0x38dd88;return{'source':_0x2af53d[_0x28ec10(0x1c4)],'backgroundName':_0x2af53d[_0x28ec10(0x1c0)],'backgroundSource':_0x2af53d[_0x28ec10(0x1c4)],'srd':_0x2af53d[_0x28ec10(0x19e)]||_0x2af53d['_baseSrd'],...MiscUtil[_0x28ec10(0x1a0)](_0x40f62f)};}static[_0x38dd88(0x1c1)](){const _0x5cac19=_0x38dd88;return MiscUtil[_0x5cac19(0x1a0)](DataConverterBackground['STUB_BACKGROUND']);}}DataConverterBackground[_0x38dd88(0x1a2)]={'name':_0x38dd88(0x198),'source':SRC_PHB,'_isStub':!![]};export{DataConverterBackground};