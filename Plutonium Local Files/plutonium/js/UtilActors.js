const _0x3a14e7=_0x3a06;(function(_0x5e9198,_0x49e82e){const _0x49ae98=_0x3a06,_0x14ef88=_0x5e9198();while(!![]){try{const _0x3cb249=-parseInt(_0x49ae98(0x1c3))/0x1*(parseInt(_0x49ae98(0x1e6))/0x2)+parseInt(_0x49ae98(0x1f0))/0x3*(parseInt(_0x49ae98(0xbf))/0x4)+-parseInt(_0x49ae98(0xb1))/0x5*(-parseInt(_0x49ae98(0x1b2))/0x6)+-parseInt(_0x49ae98(0x13d))/0x7*(parseInt(_0x49ae98(0x11b))/0x8)+parseInt(_0x49ae98(0x217))/0x9+parseInt(_0x49ae98(0xa9))/0xa*(parseInt(_0x49ae98(0xaa))/0xb)+parseInt(_0x49ae98(0x218))/0xc*(-parseInt(_0x49ae98(0x1ef))/0xd);if(_0x3cb249===_0x49e82e)break;else _0x14ef88['push'](_0x14ef88['shift']());}catch(_0x1c385d){_0x14ef88['push'](_0x14ef88['shift']());}}}(_0xe430,0x39610));import{Config}from'./Config.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{ConfigConsts}from'./ConfigConsts.js';function _0x3a06(_0x168e0c,_0x4e5ab9){const _0xe43036=_0xe430();return _0x3a06=function(_0x3a06df,_0x2c0fd9){_0x3a06df=_0x3a06df-0xa4;let _0x1e3840=_0xe43036[_0x3a06df];return _0x1e3840;},_0x3a06(_0x168e0c,_0x4e5ab9);}import{SharedConsts}from'../shared/SharedConsts.js';import{UtilDocuments}from'./UtilDocuments.js';class UtilActors{static[_0x3a14e7(0xe4)](){const _0x15f53d=_0x3a14e7;UtilActors[_0x15f53d(0x171)]=Object[_0x15f53d(0x18d)](MiscUtil[_0x15f53d(0x1d4)](CONFIG,_0x15f53d(0x1ca),_0x15f53d(0xed))||{}),UtilActors[_0x15f53d(0x140)]=Object[_0x15f53d(0x18d)](MiscUtil[_0x15f53d(0x1d4)](CONFIG,_0x15f53d(0x1ca),_0x15f53d(0x174))||{});}static async[_0x3a14e7(0x149)]({actor:_0x1ca887,isAllowAutoDetectPreparationMode:isAllowAutoDetectPreparationMode=![]}={}){const _0x54216f=_0x3a14e7,_0x503490={'isActorItem':!![],'isActorItemNpc':_0x1ca887?.[_0x54216f(0x211)]==='npc','isPrepared':!!Config['get'](_0x54216f(0xf9),'prepareActorSpells'),'preparationMode':Config['get']('importSpell',_0x54216f(0xa7))};if(!_0x1ca887||this[_0x54216f(0x14a)](_0x1ca887))return _0x503490;const _0x1ecd77=MiscUtil[_0x54216f(0x1d4)](_0x1ca887,'data','data',_0x54216f(0xbc),_0x54216f(0x117));if(_0x1ecd77)_0x503490[_0x54216f(0xcc)]=_0x1ecd77[_0x54216f(0xba)];if(_0x1ca887&&isAllowAutoDetectPreparationMode){const _0x1b9cd3=await this['_pGetActorSpellItemOpts_getAutoPreparationMode']({'actor':_0x1ca887});if(_0x1b9cd3!=null)_0x503490[_0x54216f(0x15d)]=_0x1b9cd3;}return _0x503490;}static[_0x3a14e7(0x14a)](_0x4aa8ec){const _0x199681=_0x3a14e7;return!!MiscUtil['get'](_0x4aa8ec,_0x199681(0x205),_0x199681(0x1bd),SharedConsts['MODULE_NAME_FAKE'],_0x199681(0x14a));}static async[_0x3a14e7(0xcb)]({actor:_0x2e1b4d}){const _0x48cd63=_0x3a14e7;if(!Config['get'](_0x48cd63(0xf9),_0x48cd63(0xf0)))return null;const _0x127b7=_0x2e1b4d[_0x48cd63(0x120)][_0x48cd63(0x128)](_0x14b5ec=>_0x14b5ec[_0x48cd63(0x211)]===_0x48cd63(0x1ed)&&_0x14b5ec[_0x48cd63(0x205)][_0x48cd63(0x205)]?.[_0x48cd63(0x117)]?.[_0x48cd63(0x1f5)]!=='none');if(!_0x127b7[_0x48cd63(0xb3)]||_0x127b7[_0x48cd63(0xb3)]>0x1)return null;const _0x55d1e9=_0x127b7[0x0],_0x298a37=_0x55d1e9[_0x48cd63(0x205)][_0x48cd63(0x205)][_0x48cd63(0x117)]['progression'];switch(_0x298a37){case'full':case _0x48cd63(0x1a3):case _0x48cd63(0x1cf):case'artificer':{const _0x29ff7e=await UtilDataConverter[_0x48cd63(0xb8)]({'sheetItem':_0x55d1e9});if(_0x29ff7e[_0x48cd63(0x214)][_0x48cd63(0xb3)]!==0x1)return null;return _0x29ff7e['matchingClasses'][0x0][_0x48cd63(0x1cb)]?'prepared':_0x48cd63(0x162);}case _0x48cd63(0x122):return _0x48cd63(0x122);default:return null;}}static['getSpellItemItemOpts'](){const _0x3132aa=_0x3a14e7,_0x314d2a={};return _0x314d2a[_0x3132aa(0xdc)]=!!Config[_0x3132aa(0x1d4)](_0x3132aa(0xf9),'prepareSpellItems'),_0x314d2a[_0x3132aa(0x15d)]=Config[_0x3132aa(0x1d4)]('importSpell',_0x3132aa(0x111)),_0x314d2a;}static async[_0x3a14e7(0xf3)](_0xbf9b96,_0x144ead,{isTemporary:isTemporary=![]}={},_0x36807d){const _0x5add79=_0x3a14e7;if(!_0x144ead?.[_0x5add79(0xb3)])return[];return UtilDocuments[_0x5add79(0x1d3)](_0xbf9b96,_0x144ead,{'isTemporary':isTemporary,'propData':_0x5add79(0x120),'ClsEmbed':Item},_0x36807d);}static async[_0x3a14e7(0x13a)](_0x5816b9,_0x59cfa2,{isTemporary:isTemporary=![]}={},_0x1b671e){const _0x30c9a6=_0x3a14e7;if(!_0x59cfa2?.['length'])return[];return UtilDocuments[_0x30c9a6(0x1d3)](_0x5816b9,_0x59cfa2,{'isTemporary':isTemporary,'propData':_0x30c9a6(0x11e),'ClsEmbed':ActiveEffect},_0x1b671e);}static[_0x3a14e7(0x207)](_0x560911){const _0x213233=_0x3a14e7;_0x560911=_0x560911[_0x213233(0x10f)]()['trim']();if(this[_0x213233(0x1e8)][_0x560911])return this[_0x213233(0x1e8)][_0x560911];return _0x560911=_0x560911[_0x213233(0x20f)]('|')[0x0],this[_0x213233(0x1e8)][_0x560911];}static[_0x3a14e7(0xd3)](_0x5ca632){const _0x4f62cb=_0x3a14e7;if(!_0x5ca632)return null;return Parser[_0x4f62cb(0x100)](this['VALID_TOOL_PROFICIENCIES'],_0x5ca632,null);}static[_0x3a14e7(0x1c7)](_0x1a6218){const _0x350122=_0x3a14e7;return _0x1a6218=_0x1a6218[_0x350122(0x10f)]()[_0x350122(0x1ac)](),this[_0x350122(0xbe)][_0x1a6218];}static[_0x3a14e7(0x104)](_0x54e4dc){if(!_0x54e4dc)return _0x54e4dc;return this['_VET_CASTER_TYPE_TO_FVTT'][_0x54e4dc];}static['getMappedArmorProficiency'](_0x1902d1){const _0x1fed14=_0x3a14e7;if(!_0x1902d1)return null;return Parser[_0x1fed14(0x20c)](this[_0x1fed14(0x1a9)],_0x1902d1,null);}static[_0x3a14e7(0x127)](_0x5bc22a){const _0x382fc8=_0x3a14e7;if(!_0x5bc22a)return null;return Parser[_0x382fc8(0x100)](this[_0x382fc8(0x1a9)],_0x5bc22a,null);}static[_0x3a14e7(0x183)](_0x381862){const _0x57c0c7=_0x3a14e7;if(!_0x381862)return null;return Parser[_0x57c0c7(0x20c)](this[_0x57c0c7(0x179)],_0x381862,null);}static['getUnmappedWeaponProficiency'](_0x274c2e){const _0x428374=_0x3a14e7;if(!_0x274c2e)return null;return Parser['_parse_bToA'](this[_0x428374(0x179)],_0x274c2e,null);}static[_0x3a14e7(0x21f)](_0xb4feca){const _0x9e93a1=_0x3a14e7;if(!_0xb4feca)return null;_0xb4feca=_0xb4feca[_0x9e93a1(0x1ac)]();const _0x4f1a07=this[_0x9e93a1(0x14f)](_0xb4feca);if(_0x4f1a07)return _0x4f1a07;return Parser['_parse_aToB'](this[_0x9e93a1(0x182)],_0xb4feca,null);}static[_0x3a14e7(0xff)](_0x335394){const _0x4cb644=_0x3a14e7;if(!_0x335394)return null;_0x335394=_0x335394[_0x4cb644(0x1ac)]();const _0x54a35e=this['_getItemUidFromTag'](_0x335394);if(_0x54a35e)return _0x54a35e;return Parser['_parse_aToB'](this['_TOOL_PROFICIENCIES_TO_ITEM_UIDS'],_0x335394,null);}static[_0x3a14e7(0x14f)](_0x4c2551){const _0x7a5f71=_0x3a14e7,_0x8d0387=/^{@item ([^}]+)}$/['exec'](_0x4c2551);if(!_0x8d0387)return null;const {name:_0x253ca4,source:_0x400ddb}=DataUtil[_0x7a5f71(0x177)][_0x7a5f71(0x12b)](_0x8d0387[0x1],_0x7a5f71(0x16d),{'isLower':!![]});return _0x253ca4+'|'+_0x400ddb;}static[_0x3a14e7(0xe2)](_0x144228){const _0x14021a=_0x3a14e7;if(!_0x144228)return[];const _0x3fde1c=TokenDocument[_0x14021a(0x1d2)](_0x144228['data'][_0x14021a(0x205)],[]);return _0x3fde1c[_0x14021a(0x1f3)]=_0x3fde1c[_0x14021a(0x1f3)][_0x14021a(0x156)](_0x2019f7=>_0x2019f7[_0x14021a(0x10c)]('.')),_0x3fde1c[_0x14021a(0x1f3)][_0x14021a(0x20b)]((_0x17b621,_0x53aade)=>_0x17b621[_0x14021a(0x160)](_0x53aade)),_0x3fde1c[_0x14021a(0xba)]=_0x3fde1c[_0x14021a(0xba)][_0x14021a(0x156)](_0x2131bc=>_0x2131bc['join']('.')),_0x3fde1c[_0x14021a(0xba)][_0x14021a(0x20b)]((_0x2e822a,_0xf7c408)=>_0x2e822a['localeCompare'](_0xf7c408)),{[game[_0x14021a(0x219)][_0x14021a(0x18a)]('TOKEN.BarAttributes')]:_0x3fde1c[_0x14021a(0x1f3)],[game[_0x14021a(0x219)][_0x14021a(0x18a)]('TOKEN.BarValues')]:_0x3fde1c[_0x14021a(0xba)]};}static[_0x3a14e7(0x16b)](_0x64273e){const _0x2e4771=_0x3a14e7;return _0x64273e[_0x2e4771(0x120)][_0x2e4771(0x128)](_0x1a9a6f=>_0x1a9a6f['type']===_0x2e4771(0x1ed))['map'](_0x4b6bb3=>_0x4b6bb3['data'][_0x2e4771(0x205)][_0x2e4771(0x13f)]||0x0)[_0x2e4771(0x21c)]((_0x33db29,_0x20d9e1)=>_0x33db29+_0x20d9e1,0x0);}static[_0x3a14e7(0xc2)](_0x1dfe42){const _0x63dc91=_0x3a14e7;let _0x34d951=Number(_0x1dfe42?.[_0x63dc91(0x205)]?.[_0x63dc91(0x205)]?.[_0x63dc91(0x13b)]?.['xp']?.[_0x63dc91(0xba)]);if(isNaN(_0x34d951))_0x34d951=0x0;const _0x116713=_0x1dfe42[_0x63dc91(0x120)][_0x63dc91(0x128)](_0x17aba7=>_0x17aba7[_0x63dc91(0x211)]===_0x63dc91(0x1ed))[_0x63dc91(0x156)](_0x34c1fb=>_0x34c1fb[_0x63dc91(0x205)][_0x63dc91(0x205)]['levels']||0x0)[_0x63dc91(0x12f)]();let _0x43be76=Parser[_0x63dc91(0x106)][_0x116713];if(isNaN(_0x43be76))_0x43be76=Number[_0x63dc91(0x112)];return _0x34d951>=_0x43be76;}static async[_0x3a14e7(0x154)]({currency:_0x6941a,actor:_0x21e66b}){const _0x3304bf=_0x3a14e7;if(!_0x6941a||!_0x21e66b)return;const _0x3998c7=this[_0x3304bf(0x170)]({'actor':_0x21e66b});Parser[_0x3304bf(0x137)][_0x3304bf(0x12a)](_0x460669=>_0x3998c7[_0x460669]+=_0x6941a[_0x460669]||0x0);const _0x23b86c={'data':{'currency':_0x3998c7}};await UtilDocuments[_0x3304bf(0x190)](_0x21e66b,_0x23b86c);}static[_0x3a14e7(0x170)]({actor:_0x52d34a}){const _0x35d195=_0x3a14e7,_0x2e6bc9={},_0x5208e0=MiscUtil[_0x35d195(0x1d4)](_0x52d34a,_0x35d195(0x205),_0x35d195(0x205),_0x35d195(0x216))||{};return Parser['COIN_ABVS'][_0x35d195(0x12a)](_0x1777a9=>_0x2e6bc9[_0x1777a9]=_0x5208e0[_0x1777a9]||0x0),_0x2e6bc9;}static async[_0x3a14e7(0x1d9)]({actor:_0x154681,totalSpellcastingLevels:totalSpellcastingLevels=null}){const _0x2296fe=_0x3a14e7;return SpellPointsItemBuilder[_0x2296fe(0x110)]({'actor':_0x154681,'totalLevels':totalSpellcastingLevels});}static async[_0x3a14e7(0x158)]({actor:_0x517f20,totalMysticLevels:totalMysticLevels=null}){const _0x4ba2f4=_0x3a14e7;return PsiPointsItemBuilder[_0x4ba2f4(0x110)]({'actor':_0x517f20,'totalLevels':totalMysticLevels});}static[_0x3a14e7(0x155)]({actor:_0x133355,sheetItems:_0x19e541,isForceSpellcastingMulticlass:isForceSpellcastingMulticlass=![]}={}){const _0x4ceac9=_0x3a14e7;if(_0x133355&&_0x19e541)throw new Error(_0x4ceac9(0x1c0));const _0x35afb5=(_0x133355?.[_0x4ceac9(0x120)]||_0x19e541)[_0x4ceac9(0x128)](_0x478fc5=>_0x478fc5['type']==='class')[_0x4ceac9(0x128)](_0x1b00cf=>_0x1b00cf[_0x4ceac9(0x205)]?.['data']?.[_0x4ceac9(0x117)]);if(!_0x35afb5[_0x4ceac9(0xb3)])return{'totalSpellcastingLevels':0x0,'casterClassCount':0x0,'maxPactCasterLevel':0x0,'isSpellcastingMulticlass':isForceSpellcastingMulticlass};let _0x4ab86a=0x0,_0x62c62e=0x0;const _0x8be632=isForceSpellcastingMulticlass||_0x35afb5[_0x4ceac9(0xb3)]>0x1,_0x63e7f1=(_0x37051a,_0xbce1dc)=>{const _0x399a2a=_0x4ceac9;switch(_0xbce1dc){case _0x399a2a(0x1a3):return Math[_0x399a2a(0x129)](_0x37051a/0x2);case'third':return Math[_0x399a2a(0x129)](_0x37051a/0x3);case _0x399a2a(0x139):return _0x37051a===0x1?0x1:_0x63e7f1(_0x37051a,_0x399a2a(0x1a3));default:throw new Error(_0x399a2a(0x1fa)+_0xbce1dc+'\x22');}},_0x26fc05=(_0x28727a,_0x59f540)=>{const _0x20d954=_0x4ceac9;switch(_0x59f540){case _0x20d954(0x1a3):return Math[_0x20d954(0x1f2)](_0x28727a/0x2);case _0x20d954(0x1cf):return Math[_0x20d954(0x1f2)](_0x28727a/0x3);case _0x20d954(0x139):return Math['ceil'](_0x28727a/0x2);default:throw new Error('Unhandled\x20spellcaster\x20type\x20\x22'+_0x59f540+'\x22');}},_0xe8c2a0=_0x8be632?_0x26fc05:_0x63e7f1;return _0x35afb5[_0x4ceac9(0x12a)](_0x49fcd3=>{const _0x27db74=_0x4ceac9,_0xfb9f2e=_0x49fcd3['data']['data']['levels']||0x0;switch(_0x49fcd3[_0x27db74(0x205)][_0x27db74(0x205)]['spellcasting'][_0x27db74(0x1f5)]){case _0x27db74(0x209):_0x4ab86a+=_0xfb9f2e;break;case _0x27db74(0x1a3):_0x4ab86a+=_0xe8c2a0(_0xfb9f2e,_0x49fcd3[_0x27db74(0x205)]['data'][_0x27db74(0x117)][_0x27db74(0x1f5)]);break;case'third':_0x4ab86a+=_0xe8c2a0(_0xfb9f2e,_0x49fcd3[_0x27db74(0x205)][_0x27db74(0x205)][_0x27db74(0x117)]['progression']);break;case _0x27db74(0x122):Math[_0x27db74(0xb4)](_0x62c62e,_0xfb9f2e);break;case _0x27db74(0x139):_0x4ab86a+=_0xe8c2a0(_0xfb9f2e,_0x49fcd3[_0x27db74(0x205)][_0x27db74(0x205)][_0x27db74(0x117)][_0x27db74(0x1f5)]);break;}}),{'totalSpellcastingLevels':_0x4ab86a,'casterClassCount':_0x35afb5[_0x4ceac9(0xb3)],'maxPactCasterLevel':_0x62c62e,'isSpellcastingMulticlass':_0x8be632};}}UtilActors['SKILL_ABV_TO_FULL']={'acr':'acrobatics','ani':_0x3a14e7(0x1e7),'arc':'arcana','ath':_0x3a14e7(0x1ea),'dec':_0x3a14e7(0xf1),'his':_0x3a14e7(0x175),'ins':'insight','itm':_0x3a14e7(0x13c),'inv':_0x3a14e7(0x1f9),'med':'medicine','nat':'nature','prc':_0x3a14e7(0x14c),'prf':_0x3a14e7(0x1b7),'per':_0x3a14e7(0x148),'rel':_0x3a14e7(0x161),'slt':'sleight\x20of\x20hand','ste':_0x3a14e7(0xb7),'sur':_0x3a14e7(0x1ce)},UtilActors[_0x3a14e7(0x167)]={'1':_0x3a14e7(0x1d7),'2':_0x3a14e7(0x142),'0.5':_0x3a14e7(0x165)},UtilActors[_0x3a14e7(0xfc)]={'1':_0x3a14e7(0x13e),'2':_0x3a14e7(0xc5),'0.5':_0x3a14e7(0xc8),'0':''},UtilActors[_0x3a14e7(0x1c6)]={[SZ_TINY]:_0x3a14e7(0x1df),[SZ_SMALL]:'sm',[SZ_MEDIUM]:_0x3a14e7(0x164),[SZ_LARGE]:'lg',[SZ_HUGE]:_0x3a14e7(0xc3),[SZ_GARGANTUAN]:'grg'},UtilActors['VET_SPELL_SCHOOL_TO_ABV']={'A':'abj','C':_0x3a14e7(0x1c4),'D':_0x3a14e7(0x21b),'E':'enc','V':'evo','I':'ill','N':_0x3a14e7(0x151),'T':_0x3a14e7(0x119)},UtilActors[_0x3a14e7(0x136)]=0x5,UtilActors['VALID_DAMAGE_TYPES']=null,UtilActors[_0x3a14e7(0x140)]=null,UtilActors[_0x3a14e7(0x132)]=[_0x3a14e7(0x114),_0x3a14e7(0x204),'calligrapher\x27s\x20supplies','carpenter\x27s\x20tools',_0x3a14e7(0x208),_0x3a14e7(0x12e),_0x3a14e7(0x1d0),_0x3a14e7(0x185),'jeweler\x27s\x20tools',_0x3a14e7(0x1de),_0x3a14e7(0x224),_0x3a14e7(0x21d),_0x3a14e7(0x1e1),_0x3a14e7(0xe9),'tinker\x27s\x20tools',_0x3a14e7(0xc6),'woodcarver\x27s\x20tools'],UtilActors['TOOL_PROFICIENCIES']=[_0x3a14e7(0x1e3),...UtilActors[_0x3a14e7(0x132)],_0x3a14e7(0x109),'forgery\x20kit',_0x3a14e7(0x10a),'herbalism\x20kit',_0x3a14e7(0x223),_0x3a14e7(0x1e0),'thieves\x27\x20tools',_0x3a14e7(0xd1),_0x3a14e7(0x215),_0x3a14e7(0x159)],UtilActors[_0x3a14e7(0xfd)]={'alchemist\x27s\x20supplies':_0x3a14e7(0x144),'brewer\x27s\x20supplies':_0x3a14e7(0x103),'calligrapher\x27s\x20supplies':_0x3a14e7(0x202),'carpenter\x27s\x20tools':'carpenter\x27s\x20tools|phb','cartographer\x27s\x20tools':_0x3a14e7(0xb2),'cobbler\x27s\x20tools':_0x3a14e7(0xf2),'cook\x27s\x20utensils':'cook\x27s\x20utensils|phb','glassblower\x27s\x20tools':_0x3a14e7(0x1b8),'jeweler\x27s\x20tools':_0x3a14e7(0x16f),'leatherworker\x27s\x20tools':_0x3a14e7(0xe3),'mason\x27s\x20tools':_0x3a14e7(0x21e),'painter\x27s\x20supplies':'painter\x27s\x20supplies|phb','potter\x27s\x20tools':_0x3a14e7(0x1b9),'smith\x27s\x20tools':_0x3a14e7(0x1ae),'tinker\x27s\x20tools':_0x3a14e7(0x213),'weaver\x27s\x20tools':_0x3a14e7(0xf6),'woodcarver\x27s\x20tools':'woodcarver\x27s\x20tools|phb','disguise\x20kit':_0x3a14e7(0xdf),'forgery\x20kit':_0x3a14e7(0x1e2),'gaming\x20set':_0x3a14e7(0xb9),'herbalism\x20kit':'herbalism\x20kit|phb','musical\x20instrument':_0x3a14e7(0x1e9),'navigator\x27s\x20tools':'navigator\x27s\x20tools|phb','thieves\x27\x20tools':_0x3a14e7(0x1d5),'poisoner\x27s\x20kit':_0x3a14e7(0x1c1)},UtilActors[_0x3a14e7(0x1e8)]={'artisan\x27s\x20tools':_0x3a14e7(0x195),'alchemist\x27s\x20supplies':_0x3a14e7(0x194),'brewer\x27s\x20supplies':_0x3a14e7(0x1a6),'calligrapher\x27s\x20supplies':'calligrapher','carpenter\x27s\x20tools':_0x3a14e7(0xad),'cartographer\x27s\x20tools':'cartographer','cobbler\x27s\x20tools':_0x3a14e7(0x188),'cook\x27s\x20utensils':'cook','glassblower\x27s\x20tools':_0x3a14e7(0xae),'jeweler\x27s\x20tools':'jeweler','leatherworker\x27s\x20tools':_0x3a14e7(0xce),'mason\x27s\x20tools':_0x3a14e7(0xd6),'painter\x27s\x20supplies':_0x3a14e7(0xa4),'potter\x27s\x20tools':_0x3a14e7(0x1ab),'smith\x27s\x20tools':_0x3a14e7(0x1bc),'tinker\x27s\x20tools':'tinker','weaver\x27s\x20tools':_0x3a14e7(0x1fc),'woodcarver\x27s\x20tools':_0x3a14e7(0x138),'disguise\x20kit':'disg','forgery\x20kit':'forg','gaming\x20set':_0x3a14e7(0xd7),'dice\x20set':_0x3a14e7(0xb0),'dragonchess\x20set':_0x3a14e7(0xe0),'playing\x20card\x20set':'card','three-dragon\x20ante\x20set':'card','herbalism\x20kit':_0x3a14e7(0xee),'musical\x20instrument':_0x3a14e7(0x20a),'bagpipes':'bagpipes','drum':_0x3a14e7(0x1a7),'dulcimer':_0x3a14e7(0x210),'flute':_0x3a14e7(0x15b),'lute':_0x3a14e7(0x193),'lyre':_0x3a14e7(0xef),'horn':_0x3a14e7(0x126),'pan\x20flute':_0x3a14e7(0xab),'shawm':_0x3a14e7(0x1cc),'viol':'viol','navigator\x27s\x20tools':'navg','poisoner\x27s\x20kit':_0x3a14e7(0x20d),'thieves\x27\x20tools':_0x3a14e7(0xdd),'vehicle\x20(land\x20or\x20water)':'vehicle','vehicle\x20(air)':_0x3a14e7(0xde),'vehicle\x20(land)':_0x3a14e7(0x108),'vehicle\x20(water)':_0x3a14e7(0x125)},UtilActors[_0x3a14e7(0xbe)]={'common':_0x3a14e7(0x173),'aarakocra':_0x3a14e7(0xf5),'abyssal':_0x3a14e7(0x15e),'aquan':_0x3a14e7(0xbd),'auran':'auran','celestial':_0x3a14e7(0xe5),'deep\x20speech':_0x3a14e7(0x18b),'draconic':'draconic','druidic':_0x3a14e7(0x1b5),'dwarvish':'dwarvish','elvish':_0x3a14e7(0x1a2),'giant':'giant','gith':'gith','gnomish':_0x3a14e7(0x1da),'goblin':_0x3a14e7(0x17c),'gnoll':_0x3a14e7(0x1c5),'halfling':_0x3a14e7(0x135),'ignan':_0x3a14e7(0xf7),'infernal':'infernal','orc':_0x3a14e7(0x220),'primordial':_0x3a14e7(0xfa),'sylvan':'sylvan','terran':_0x3a14e7(0x1fd),'thieves\x27\x20cant':'cant','undercommon':_0x3a14e7(0xc4)},UtilActors[_0x3a14e7(0x180)]=[_0x3a14e7(0xbd),'auran',_0x3a14e7(0xf7),'terran'],UtilActors[_0x3a14e7(0x19f)]={'full':_0x3a14e7(0x209),'1/2':_0x3a14e7(0x1a3),'1/3':_0x3a14e7(0x1cf),'pact':_0x3a14e7(0x122)},UtilActors['ARMOR_PROFICIENCIES']=[_0x3a14e7(0x11c),_0x3a14e7(0x10d),_0x3a14e7(0x14d),'shield|phb'],UtilActors['VALID_ARMOR_PROFICIENCIES']={'light':_0x3a14e7(0x163),'medium':_0x3a14e7(0x164),'heavy':_0x3a14e7(0x1dc),'shield|phb':_0x3a14e7(0xe8)},UtilActors[_0x3a14e7(0xfe)]=[_0x3a14e7(0x1b3),_0x3a14e7(0x18f),'dagger|phb',_0x3a14e7(0x115),_0x3a14e7(0xcf),'greataxe|phb',_0x3a14e7(0x105),_0x3a14e7(0xc7),'halberd|phb',_0x3a14e7(0x1ff),'javelin|phb',_0x3a14e7(0x197),_0x3a14e7(0x189),_0x3a14e7(0x147),_0x3a14e7(0x16a),_0x3a14e7(0x20e),_0x3a14e7(0xc0),_0x3a14e7(0x17f),_0x3a14e7(0x1a8),'rapier|phb',_0x3a14e7(0x1b6),_0x3a14e7(0x1f4),_0x3a14e7(0x201),_0x3a14e7(0x1ad),_0x3a14e7(0x200),_0x3a14e7(0x1db),_0x3a14e7(0x124),'warhammer|phb',_0x3a14e7(0x169),_0x3a14e7(0xd2),_0x3a14e7(0x145),_0x3a14e7(0xec),_0x3a14e7(0xd5),_0x3a14e7(0x131),_0x3a14e7(0x1af),_0x3a14e7(0x184),_0x3a14e7(0x133),_0x3a14e7(0xea)],UtilActors[_0x3a14e7(0x179)]={'simple':_0x3a14e7(0xd9),'martial':'mar','club|phb':_0x3a14e7(0x1d8),'dagger|phb':_0x3a14e7(0xca),'dart|phb':_0x3a14e7(0x166),'greatclub|phb':_0x3a14e7(0x1c8),'handaxe|phb':_0x3a14e7(0x18c),'javelin|phb':'javelin','light\x20crossbow|phb':_0x3a14e7(0x1dd),'light\x20hammer|phb':_0x3a14e7(0x1f6),'mace|phb':_0x3a14e7(0x16e),'quarterstaff|phb':'quarterstaff','shortbow|phb':_0x3a14e7(0x17a),'sickle|phb':_0x3a14e7(0x1e4),'sling|phb':_0x3a14e7(0x178),'spear|phb':_0x3a14e7(0xc1),'battleaxe|phb':'battleaxe','blowgun|phb':_0x3a14e7(0x192),'flail|phb':'flail','glaive|phb':_0x3a14e7(0x1d6),'greataxe|phb':_0x3a14e7(0xaf),'greatsword|phb':_0x3a14e7(0xbb),'halberd|phb':_0x3a14e7(0xf4),'hand\x20crossbow|phb':_0x3a14e7(0x1ec),'heavy\x20crossbow|phb':_0x3a14e7(0xb5),'lance|phb':_0x3a14e7(0x168),'longbow|phb':_0x3a14e7(0x141),'longsword|phb':'longsword','maul|phb':_0x3a14e7(0x19a),'morningstar|phb':_0x3a14e7(0xa6),'net|phb':_0x3a14e7(0x130),'pike|phb':'pike','rapier|phb':_0x3a14e7(0x1ee),'scimitar|phb':_0x3a14e7(0x1c9),'shortsword|phb':_0x3a14e7(0xd4),'trident|phb':'trident','war\x20pick|phb':_0x3a14e7(0x19b),'warhammer|phb':_0x3a14e7(0x1a4),'whip|phb':_0x3a14e7(0x19c)},UtilActors[_0x3a14e7(0x182)]={'battleaxes':'battleaxe|phb','clubs':_0x3a14e7(0x18f),'daggers':_0x3a14e7(0x1cd),'flails':'flail|phb','glaives':_0x3a14e7(0xcf),'greataxes':_0x3a14e7(0x12c),'greatclubs':_0x3a14e7(0x105),'greatswords':_0x3a14e7(0xc7),'halberds':_0x3a14e7(0x11a),'handaxes':_0x3a14e7(0x1ff),'javelins':'javelin|phb','lances':_0x3a14e7(0x197),'light\x20hammers':_0x3a14e7(0x189),'longswords':_0x3a14e7(0x147),'maces':_0x3a14e7(0x16a),'mauls':_0x3a14e7(0x20e),'morningstars':_0x3a14e7(0xc0),'pikes':_0x3a14e7(0x17f),'quarterstaffs':_0x3a14e7(0x1a8),'rapiers':_0x3a14e7(0x10b),'scimitars':_0x3a14e7(0x1b6),'shortswords':_0x3a14e7(0x1f4),'sickles':_0x3a14e7(0x201),'spears':_0x3a14e7(0x1ad),'staffs':_0x3a14e7(0x200),'tridents':_0x3a14e7(0x1db),'war\x20picks':_0x3a14e7(0x124),'warhammers':_0x3a14e7(0x222),'whips':_0x3a14e7(0x169),'blowguns':'blowgun|phb','darts':'dart|phb','hand\x20crossbows':_0x3a14e7(0xec),'heavy\x20crossbows':_0x3a14e7(0xd5),'light\x20crossbows':_0x3a14e7(0x131),'longbows':_0x3a14e7(0x1af),'nets':'net|phb','shortbows':'shortbow|phb','slings':_0x3a14e7(0xea),'battleaxe':_0x3a14e7(0x1b3),'club':_0x3a14e7(0x18f),'dagger':_0x3a14e7(0x1cd),'flail':_0x3a14e7(0x115),'glaive':_0x3a14e7(0xcf),'greataxe':'greataxe|phb','greatclub':_0x3a14e7(0x105),'greatsword':_0x3a14e7(0xc7),'halberd':_0x3a14e7(0x11a),'handaxe':'handaxe|phb','javelin':_0x3a14e7(0x1ba),'lance':_0x3a14e7(0x197),'light\x20hammer':_0x3a14e7(0x189),'longsword':'longsword|phb','mace':_0x3a14e7(0x16a),'maul':_0x3a14e7(0x20e),'morningstar':_0x3a14e7(0xc0),'pike':_0x3a14e7(0x17f),'quarterstaff':_0x3a14e7(0x1a8),'rapier':'rapier|phb','scimitar':_0x3a14e7(0x1b6),'shortsword':_0x3a14e7(0x1f4),'sickle':_0x3a14e7(0x201),'spear':_0x3a14e7(0x1ad),'staff':_0x3a14e7(0x200),'trident':_0x3a14e7(0x1db),'war\x20pick':_0x3a14e7(0x124),'warhammer':'warhammer|phb','whip':'whip|phb','blowgun':_0x3a14e7(0xd2),'dart':_0x3a14e7(0x145),'hand\x20crossbow':'hand\x20crossbow|phb','heavy\x20crossbow':_0x3a14e7(0xd5),'light\x20crossbow':'light\x20crossbow|phb','longbow':_0x3a14e7(0x1af),'net':'net|phb','shortbow':_0x3a14e7(0x133),'sling':'sling|phb'},UtilActors['_TOOL_PROFICIENCIES_TO_ITEM_UIDS']={'alchemist\x27s\x20supplies':_0x3a14e7(0x144),'artisan\x27s\x20tools':_0x3a14e7(0x1a1),'bagpipes':_0x3a14e7(0x1c2),'brewer\x27s\x20supplies':'brewer\x27s\x20supplies|phb','calligrapher\x27s\x20supplies':_0x3a14e7(0x202),'carpenter\x27s\x20tools':_0x3a14e7(0x152),'cartographer\x27s\x20tools':_0x3a14e7(0xb2),'cobbler\x27s\x20tools':_0x3a14e7(0xf2),'cook\x27s\x20utensils':'cook\x27s\x20utensils|phb','disguise\x20kit':_0x3a14e7(0xdf),'drum':_0x3a14e7(0xc9),'dulcimer':_0x3a14e7(0x1f1),'flute':_0x3a14e7(0x18e),'forgery\x20kit':_0x3a14e7(0x1e2),'glassblower\x27s\x20tools':_0x3a14e7(0x1b8),'herbalism\x20kit':_0x3a14e7(0x1b0),'horn':_0x3a14e7(0x17d),'jeweler\x27s\x20tools':_0x3a14e7(0x16f),'leatherworker\x27s\x20tools':'leatherworker\x27s\x20tools|phb','lute':_0x3a14e7(0x157),'lyre':_0x3a14e7(0x113),'mason\x27s\x20tools':_0x3a14e7(0x21e),'musical\x20instrument':'musical\x20instrument|phb','navigator\x27s\x20tools':'navigator\x27s\x20tools|phb','painter\x27s\x20supplies':_0x3a14e7(0x101),'pan\x20flute':_0x3a14e7(0x11d),'poisoner\x27s\x20kit':'poisoner\x27s\x20kit|phb','potter\x27s\x20tools':_0x3a14e7(0x1b9),'shawm':_0x3a14e7(0x12d),'smith\x27s\x20tools':'smith\x27s\x20tools|phb','thieves\x27\x20tools':_0x3a14e7(0x1d5),'tinker\x27s\x20tools':_0x3a14e7(0x213),'viol':_0x3a14e7(0x143),'weaver\x27s\x20tools':'weaver\x27s\x20tools|phb','woodcarver\x27s\x20tools':'woodcarver\x27s\x20tools|phb'},UtilActors[_0x3a14e7(0x10e)]=[{'choose':{'from':Object[_0x3a14e7(0x18d)](Parser[_0x3a14e7(0xeb)]),'count':0x2}}],UtilActors[_0x3a14e7(0x15f)]=[{'anyStandardLanguage':0x2},{'anyStandardLanguage':0x1,'anyTool':0x1},{'anyTool':0x2}];function _0xe430(){const _0x404ca8=['flail|phb','7th','spellcasting','2nd','trs','halberd|phb','384mexbhO','light','pan\x20flute|phb','effects','totalSpellcastingLevels','items','1st','pact','render','war\x20pick|phb','water','horn','getUnmappedArmorProficiency','filter','ceil','forEach','unpackUid','greataxe|phb','shawm|phb','cobbler\x27s\x20tools','sum','net','light\x20crossbow|phb','TOOL_PROFICIENCIES_ARTISANS','shortbow|phb','_pGetPoints','halfling','PACT_CASTER_MAX_SPELL_LEVEL','COIN_ABVS','woodcarver','artificer','pAddActorEffects','details','intimidation','3017kiwDIW','Proficient','levels','VALID_CONDITIONS','longbow','fa-check-double','viol|phb','alchemist\x27s\x20supplies|phb','dart|phb','document','longsword|phb','persuasion','pGetActorSpellItemOpts','isImporterTempActor','table','perception','heavy','page','_getItemUidFromTag','_FLAG_TYPE','nec','carpenter\x27s\x20tools|phb','Spell\x20Points','pAddCurrencyToActor','getActorSpellcastingInfo','map','lute|phb','pGetCreateActorPsiPointsItem','vehicles\x20(water)','C_SPELL_POINTS_RESOURCE__SHEET_ITEM','flute','./UtilCharactermancerClass.js','preparationMode','abyssal','LANG_TOOL_PROFS_CUSTOMIZE','localeCompare','religion','always','lgt','med','fa-adjust','dart','PROF_TO_ICON_CLASS','lance','whip|phb','mace|phb','getTotalClassLevels','name','item','mace','jeweler\x27s\x20tools|phb','getActorCurrency','VALID_DAMAGE_TYPES','Psi\x20Limit','common','conditionTypes','history','</div>\x0a\x09\x09<hr\x20class=\x22hr-2\x22>\x0a\x09\x09<div>','generic','sling','VALID_WEAPON_PROFICIENCIES','shortbow','_source','goblin','horn|phb','4th','pike|phb','LANGUAGES_PRIMORDIAL','hover','_WEAPON_PROFICIENCIES_TO_ITEM_UIDS','getMappedWeaponProficiency','net|phb','glassblower\x27s\x20tools','16th','8th','cobbler','light\x20hammer|phb','localize','deep','handaxe','keys','flute|phb','club|phb','pUpdateDocument','3rd','blowgun','lute','alchemist','art','uses','lance|phb','_pGetTotalLevelsIfNull','_pGetItemDescription','maul','warpick','whip','contents','_ITEM_IMG','_VET_CASTER_TYPE_TO_FVTT','getPsiPointTotal','artisan\x27s\x20tools|phb','elvish','half','warhammer','PG_VARIANTRULES','brewer','drum','quarterstaff|phb','VALID_ARMOR_PROFICIENCIES','spellPointsResource','potter','trim','spear|phb','smith\x27s\x20tools|phb','longbow|phb','herbalism\x20kit|phb','_ITEM_NAME','3660aEjzpi','battleaxe|phb','_getItemSource','druidic','scimitar|phb','performance','glassblower\x27s\x20tools|phb','potter\x27s\x20tools|phb','javelin|phb','psiPointsTracker','smith','flags','importPsionic','15th','Only\x20one\x20of\x20\x22actor\x22\x20or\x20\x22sheetItems\x22\x20may\x20be\x20specified!','poisoner\x27s\x20kit|phb','bagpipes|phb','80467KrpwRh','con','gnoll','VET_SIZE_TO_ABV','getMappedLanguage','greatclub','scimitar','DND5E','preparedSpells','shawm','dagger|phb','survival','third','cook\x27s\x20utensils','col-4\x20text-center','getTrackedAttributes','pCreateEmbeddedDocuments','get','thieves\x27\x20tools|phb','glaive','fa-check','club','pGetCreateActorSpellPointsItem','gnomish','trident|phb','hvy','lightcrossbow','leatherworker\x27s\x20tools','tiny','navigator\x27s\x20tools','potter\x27s\x20tools','forgery\x20kit|phb','artisan\x27s\x20tools','sickle','pGetWithDescriptionPlugins','8nOPxfc','animal\x20handling','VALID_TOOL_PROFICIENCIES','musical\x20instrument|phb','athletics','17th','handcrossbow','class','rapier','2819648rIbRPc','651003biUMnr','dulcimer|phb','floor','bar','shortsword|phb','progression','lighthammer','9th','getSpellPointTotal','investigation','Unhandled\x20spellcaster\x20type\x20\x22','none','weaver','terran','feat','handaxe|phb','staff|phb','sickle|phb','calligrapher\x27s\x20supplies|phb','_isEnabled','brewer\x27s\x20supplies','data','getSourceWithPagePart','getMappedTool','cartographer\x27s\x20tools','full','music','sort','_parse_aToB','pois','maul|phb','split','dulcimer','type','You\x20have\x20an\x20internal\x20reservoir\x20of\x20energy\x20that\x20can\x20be\x20devoted\x20to\x20psionic\x20disciplines\x20you\x20know.\x20This\x20energy\x20is\x20represented\x20by\x20psi\x20points.\x20Each\x20psionic\x20discipline\x20describes\x20effects\x20you\x20can\x20create\x20with\x20it\x20by\x20spending\x20a\x20certain\x20number\x20of\x20psi\x20points.\x20A\x20psionic\x20talent\x20requires\x20no\x20psi\x20points.','tinker\x27s\x20tools|phb','matchingClasses','vehicles\x20(land)','currency','3288348JaTRFq','36kMuYka','i18n','Though\x20you\x20have\x20access\x20to\x20a\x20potent\x20amount\x20of\x20psionic\x20energy,\x20it\x20takes\x20training\x20and\x20practice\x20to\x20channel\x20that\x20energy.\x20There\x20is\x20a\x20limit\x20on\x20the\x20number\x20of\x20psi\x20points\x20you\x20can\x20spend\x20to\x20activate\x20a\x20psionic\x20discipline.\x20The\x20limit\x20is\x20based\x20on\x20your\x20mystic\x20level,\x20as\x20shown\x20in\x20the\x20Psi\x20Limit\x20column\x20of\x20the\x20Mystic\x20table.\x20For\x20example,\x20as\x20a\x203rd-level\x20mystic,\x20you\x20can\x20spend\x20no\x20more\x20than\x203\x20psi\x20points\x20on\x20a\x20discipline\x20each\x20time\x20you\x20use\x20it,\x20no\x20matter\x20how\x20many\x20psi\x20points\x20you\x20have.','div','reduce','painter\x27s\x20supplies','mason\x27s\x20tools|phb','getItemUIdFromWeaponProficiency','orc','11th','warhammer|phb','musical\x20instrument','mason\x27s\x20tools','painter','psiPointsResource','morningstar','actorSpellPreparationMode','Level','289360LOUJfA','154LXnSDK','panflute','getMysticProgression','carpenter','glassblower','greataxe','dice','195WLNgcd','cartographer\x27s\x20tools|phb','length','max','heavycrossbow','entries','stealth','pGetClassItemClassAndSubclass','gaming\x20set|phb','value','greatsword','attributes','aquan','VALID_LANGUAGES','8BlklXm','morningstar|phb','spear','isLevelUp','huge','undercommon','Proficient\x20with\x20Expertise','weaver\x27s\x20tools','greatsword|phb','Half-Proficient','drum|phb','dagger','_pGetActorSpellItemOpts_getAutoPreparationMode','abilityAbv','Psi\x20Points','leatherworker','glaive|phb','6th','poisoner\x27s\x20kit','blowgun|phb','getUnmappedTool','shortsword','heavy\x20crossbow|phb','mason','game','npc','sim','</div>','13th','isPrepared','thief','air','disguise\x20kit|phb','chess','<div>','getActorBarAttributes','leatherworker\x27s\x20tools|phb','init','celestial','source','setFirstSection','shl','smith\x27s\x20tools','sling|phb','SKILL_TO_ATB_ABV','hand\x20crossbow|phb','damageTypes','herb','lyre','isAutoDetectActorSpellPreparationMode','deception','cobbler\x27s\x20tools|phb','pAddActorItems','halberd','aarakocra','weaver\x27s\x20tools|phb','ignan','icons/magic/perception/third-eye-blue-red.webp','importSpell','primordial','10th','PROF_TO_TEXT','TOOL_PROFICIENCIES_TO_UID','WEAPON_PROFICIENCIES','getItemUIdFromToolProficiency','_parse_bToA','painter\x27s\x20supplies|phb','Unimplemented!','brewer\x27s\x20supplies|phb','getMappedCasterType','greatclub|phb','LEVEL_XP_REQUIRED','{@note\x20This\x20item\x20was\x20automatically\x20generated\x20to\x20track\x20your\x20spell\x20points.\x20It\x20can\x20be\x20freely\x20modified.}','land','disguise\x20kit','gaming\x20set','rapier|phb','join','medium','BG_SKILL_PROFS_CUSTOMIZE','toLowerCase','pGetCreateItem','spellItemPreparationMode','MAX_SAFE_INTEGER','lyre|phb','alchemist\x27s\x20supplies'];_0xe430=function(){return _0x404ca8;};return _0xe430();}class SpellPsiPointsItemBuilder{static [_0x3a14e7(0x1b1)]='';static [_0x3a14e7(0x19e)]='';static [_0x3a14e7(0x150)]='';static async[_0x3a14e7(0x110)]({actor:_0x37fbd0,totalLevels:totalLevels=null}){const _0x3e8205=_0x3a14e7;if(!this[_0x3e8205(0x203)]({'actor':_0x37fbd0}))return null;const _0x3940d2=_0x37fbd0['items']['contents']['find'](_0x1dda98=>_0x1dda98[_0x3e8205(0x205)]?.[_0x3e8205(0x1bd)]?.[SharedConsts['MODULE_NAME_FAKE']]?.[_0x3e8205(0x211)]===this[_0x3e8205(0x150)]);if(_0x3940d2){if(totalLevels==null)return _0x3940d2;const _0x23583e=(_0x3940d2[_0x3e8205(0x205)][_0x3e8205(0x17b)]||_0x3940d2['data'])?.[_0x3e8205(0x205)]?.[_0x3e8205(0x196)]?.[_0x3e8205(0xba)]||0x0,_0x414884=(_0x3940d2[_0x3e8205(0x205)][_0x3e8205(0x17b)]||_0x3940d2[_0x3e8205(0x205)])?.['data']?.[_0x3e8205(0x196)]?.[_0x3e8205(0xb4)]||0x0,_0x3aef9c=await this[_0x3e8205(0x134)]({'totalLevels':totalLevels});if(_0x3aef9c>_0x414884){const _0x3abe50=_0x3aef9c-_0x414884;await UtilDocuments['pUpdateEmbeddedDocuments'](_0x37fbd0,[{'_id':_0x3940d2['id'],'data':{'uses':{'value':_0x23583e+_0x3abe50,'max':_0x3aef9c}}}],{'propData':'items','ClsEmbed':Item});}return _0x3940d2;}if(totalLevels==null)totalLevels=await this[_0x3e8205(0x198)]({'actor':_0x37fbd0});const _0x324f75=await this[_0x3e8205(0x134)]({'totalLevels':totalLevels}),_0x2b3b9e={'name':this[_0x3e8205(0x1b1)],'type':_0x3e8205(0x1fe),'data':{'description':{'value':await UtilDataConverter[_0x3e8205(0x1e5)](()=>this['_pGetItemDescription']())},'source':this[_0x3e8205(0x1b4)](),'activation':{'cost':0x0,'type':_0x3e8205(0x1fb)},'uses':{'value':_0x324f75,'max':Math[_0x3e8205(0xb4)](_0x324f75,0x1),'per':'lr'}},'img':this[_0x3e8205(0x19e)],'flags':{[SharedConsts['MODULE_NAME_FAKE']]:{'type':this['_FLAG_TYPE']}}},_0x2f11ee=await UtilActors['pAddActorItems'](_0x37fbd0,[_0x2b3b9e]);return _0x2f11ee[0x0][_0x3e8205(0x146)];}static[_0x3a14e7(0x203)](){const _0x14ccbd=_0x3a14e7;throw new Error(_0x14ccbd(0x102));}static async[_0x3a14e7(0x198)](){throw new Error('Unimplemented!');}static async[_0x3a14e7(0x134)](){const _0x364919=_0x3a14e7;throw new Error(_0x364919(0x102));}static async['_pGetItemDescription'](){const _0x20b430=_0x3a14e7;throw new Error(_0x20b430(0x102));}static['_getItemSource'](){const _0x593824=_0x3a14e7;throw new Error(_0x593824(0x102));}}class SpellPointsItemBuilder extends SpellPsiPointsItemBuilder{static [_0x3a14e7(0x1b1)]=_0x3a14e7(0x153);static [_0x3a14e7(0x19e)]='icons/magic/light/explosion-star-glow-silhouette.webp';static [_0x3a14e7(0x150)]='spellPointsTracker';static[_0x3a14e7(0x203)]({actor:_0x219db2}){const _0x4c2ec0=_0x3a14e7,_0x54df8d=_0x219db2?.[_0x4c2ec0(0x211)]===_0x4c2ec0(0xd8)?'isSpellPointsNpc':'isSpellPoints';if(!Config[_0x4c2ec0(0x1d4)]('importSpell',_0x54df8d))return![];if(Config[_0x4c2ec0(0x1d4)](_0x4c2ec0(0xf9),_0x4c2ec0(0x1aa))!==ConfigConsts[_0x4c2ec0(0x15a)])return![];return!![];}static async[_0x3a14e7(0x198)]({actor:_0x5669de}){const _0x24570e=_0x3a14e7;return UtilActors[_0x24570e(0x155)]({'actor':_0x5669de})?.[_0x24570e(0x11f)];}static[_0x3a14e7(0x134)]({totalLevels:_0x5f7fda}){const _0x44d44a=_0x3a14e7;return UtilDataConverter[_0x44d44a(0x1f8)]({'totalSpellcastingLevels':_0x5f7fda});}static async[_0x3a14e7(0x199)](){const _0x52e8b7=_0x3a14e7,_0x28f0db=await Renderer[_0x52e8b7(0x181)]['pCacheAndGet'](UrlUtil[_0x52e8b7(0x1a5)],SRC_DMG,UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil['PG_VARIANTRULES']]({'name':_0x52e8b7(0x153),'source':SRC_DMG}),{'isCopy':!![]});return delete _0x28f0db?.[_0x52e8b7(0x16c)],delete _0x28f0db?.[_0x52e8b7(0x14e)],delete _0x28f0db?.[_0x52e8b7(0xe6)],_0x52e8b7(0xe1)+Renderer[_0x52e8b7(0x1d4)]()[_0x52e8b7(0x123)](_0x52e8b7(0x107))+_0x52e8b7(0x176)+Renderer[_0x52e8b7(0x1d4)]()[_0x52e8b7(0xe7)](!![])[_0x52e8b7(0x123)](_0x28f0db||'')+_0x52e8b7(0xda);}static[_0x3a14e7(0x1b4)](){const _0xe927d9=_0x3a14e7;return UtilDataConverter[_0xe927d9(0x206)]({'source':SRC_DMG,'page':0x120});}}class PsiPointsItemBuilder extends SpellPsiPointsItemBuilder{static [_0x3a14e7(0x1b1)]=_0x3a14e7(0xcd);static ['_ITEM_IMG']=_0x3a14e7(0xf8);static ['_FLAG_TYPE']=_0x3a14e7(0x1bb);static[_0x3a14e7(0x203)](){const _0x59ae79=_0x3a14e7;return Config[_0x59ae79(0x1d4)](_0x59ae79(0x1be),_0x59ae79(0xa5))===ConfigConsts['C_SPELL_POINTS_RESOURCE__SHEET_ITEM'];}static async[_0x3a14e7(0x198)]({actor:_0x32eef5}){const _0x58e3fe=_0x3a14e7,{Charactermancer_Class_Util:_0x4cb29e}=await import(_0x58e3fe(0x15c));return _0x4cb29e[_0x58e3fe(0xac)]({'otherExistingClassItems':_0x32eef5['items'][_0x58e3fe(0x19d)]['filter'](_0x259a80=>_0x259a80[_0x58e3fe(0x211)]===_0x58e3fe(0x1ed))})['totalMysticLevels'];}static[_0x3a14e7(0x134)]({totalLevels:_0x35c8d6}){const _0x18a4e7=_0x3a14e7;return UtilDataConverter[_0x18a4e7(0x1a0)]({'totalMysticLevels':_0x35c8d6});}static async[_0x3a14e7(0x199)](){const _0xf1a2c7=_0x3a14e7,_0x4ff01a={'type':_0xf1a2c7(0xb6),'entries':[{'type':'entries','name':_0xf1a2c7(0xcd),'entries':[_0xf1a2c7(0x212),'The\x20number\x20of\x20psi\x20points\x20you\x20have\x20is\x20based\x20on\x20your\x20mystic\x20level,\x20as\x20shown\x20in\x20the\x20Psi\x20Points\x20column\x20of\x20the\x20Mystic\x20table.\x20The\x20number\x20shown\x20for\x20your\x20level\x20is\x20your\x20psi\x20point\x20maximum.\x20Your\x20psi\x20point\x20total\x20returns\x20to\x20its\x20maximum\x20when\x20you\x20finish\x20a\x20long\x20rest.\x20The\x20number\x20of\x20psi\x20points\x20you\x20have\x20can\x27t\x20go\x20below\x200\x20or\x20over\x20your\x20maximum.']},{'type':_0xf1a2c7(0xb6),'name':_0xf1a2c7(0x172),'entries':[_0xf1a2c7(0x21a)]},{'type':_0xf1a2c7(0x14b),'caption':'Mystic','colLabels':[_0xf1a2c7(0xa8),'Psi\x20Points',_0xf1a2c7(0x172)],'colStyles':[_0xf1a2c7(0x1d1),_0xf1a2c7(0x1d1),_0xf1a2c7(0x1d1)],'rows':[[_0xf1a2c7(0x121),0x4,0x2],[_0xf1a2c7(0x118),0x6,0x2],[_0xf1a2c7(0x191),0xe,0x3],[_0xf1a2c7(0x17e),0x11,0x3],['5th',0x1b,0x5],[_0xf1a2c7(0xd0),0x20,0x5],[_0xf1a2c7(0x116),0x26,0x6],[_0xf1a2c7(0x187),0x2c,0x6],[_0xf1a2c7(0x1f7),0x39,0x7],[_0xf1a2c7(0xfb),0x40,0x7],[_0xf1a2c7(0x221),0x40,0x7],['12th',0x40,0x7],[_0xf1a2c7(0xdb),0x40,0x7],['14th',0x40,0x7],[_0xf1a2c7(0x1bf),0x40,0x7],[_0xf1a2c7(0x186),0x40,0x7],[_0xf1a2c7(0x1eb),0x40,0x7],['18th',0x47,0x7],['19th',0x47,0x7],['20th',0x47,0x7]]}]};return'<div>'+Renderer[_0xf1a2c7(0x1d4)]()[_0xf1a2c7(0x123)]('{@note\x20This\x20item\x20was\x20automatically\x20generated\x20to\x20track\x20your\x20psi\x20points.\x20It\x20can\x20be\x20freely\x20modified.}')+_0xf1a2c7(0x176)+Renderer['get']()[_0xf1a2c7(0xe7)](!![])['render'](_0x4ff01a)+_0xf1a2c7(0xda);}static['_getItemSource'](){const _0x192853=_0x3a14e7;return UtilDataConverter[_0x192853(0x206)]({'source':SRC_UATMC,'page':0x3});}}export{UtilActors};