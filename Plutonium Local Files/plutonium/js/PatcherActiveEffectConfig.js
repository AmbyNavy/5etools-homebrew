const _0x353f0e=_0x5a82;function _0x5a82(_0x2c5954,_0x18bcd6){const _0xba805d=_0xba80();return _0x5a82=function(_0x5a824b,_0x59caba){_0x5a824b=_0x5a824b-0xcd;let _0x2856b4=_0xba805d[_0x5a824b];return _0x2856b4;},_0x5a82(_0x2c5954,_0x18bcd6);}function _0xba80(){const _0xd5adaa=['addItem','<div\x20class=\x22priority\x22>Priority</div>','click','keys','priority','Find\x20Active\x20Effect\x20Attribute\x20Key','pGetShowApplicationModal','Active\x20Effects\x20Priority\x20Help','get','1661283qTmcaS','addClass','EFFECT.MODE_','<i\x20class=\x22fas\x20fa-fw\x20fa-times\x22></i>','PLUT.Reset','</button>','resizable','split','<button\x20class=\x22no-grow\x20no-shrink\x20text-center\x20p-0\x20m-0\x20aeff__btn-inline\x20btl-0\x20bbl-0\x20bl-0\x22\x20title=\x22Priority\x20Help\x22><i\x20class=\x22fas\x20fa-fw\x20fa-question-circle\x22></i></button>','_onHookActiveEffectConfig','i18n','h-27p','getAvailableEffects','prependTo','.priority\x22\x20value=\x22','<button\x20class=\x22btn-5et\x20veapp__btn-list-reset\x22\x20name=\x22btn-reset\x22>','width','<input\x20class=\x22btr-0\x20bbr-0\x20h-27p\x22\x20type=\x22number\x22\x20name=\x22changes.','.effect-controls','path','1222765cVMMkS','each','isUseExtendedActiveEffectsParser','3263564TXzSrD','find','first','18XQswjH','before','1725954ziYBkt','LIBWRAPPER_MODE_WRAPPER','</div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22col-3\x20text-center\x22>','val','default','<input\x20type=\x22search\x22\x20class=\x22search\x20w-100\x20form-control\x22\x20placeholder=\x22Find\x20keys...\x22>','2054311WNroiv','ActiveEffectConfig.defaultOptions','<div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<p>Active\x20Effects\x20are\x20applied\x20with\x20the\x20following\x20priorities\x20by\x20default:</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22ve-flex-v-center\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22bold\x20col-4-5\x20text-center\x22>Change\x20Mode</div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22bold\x20col-4-5\x20text-center\x22>Priority</div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22bold\x20col-3\x20text-center\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09','join','trim','map','changes','.mode\x20select','register','<div\x20class=\x22veapp__list\x20h-100\x20mb-1\x22></div>','3340746qkJYKf','MODULE_NAME','initBtnSortHandlers','.key\x20input','data','localize','8zvNmHX','update','stringify','</div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22col-4-5\x20text-center\x22>','</i>','stopPropagation','copy','.changes-list\x20.effect-change','.value\x20input','object','Close','ACTIVE_EFFECT_MODES','css','forEach','preventDefault','bbl-0\x20btl-0\x20h-27p','reset','length','_source','822786szZXED','parent','insertBefore'];_0xba80=function(){return _0xd5adaa;};return _0xba80();}(function(_0x56e2fa,_0x270859){const _0x2dfffd=_0x5a82,_0x140657=_0x56e2fa();while(!![]){try{const _0x3d500a=parseInt(_0x2dfffd(0xf6))/0x1+-parseInt(_0x2dfffd(0xcd))/0x2+parseInt(_0x2dfffd(0xdd))/0x3+-parseInt(_0x2dfffd(0x119))/0x4+-parseInt(_0x2dfffd(0x116))/0x5*(-parseInt(_0x2dfffd(0x11c))/0x6)+parseInt(_0x2dfffd(0xd3))/0x7*(-parseInt(_0x2dfffd(0xe3))/0x8)+parseInt(_0x2dfffd(0x102))/0x9;if(_0x3d500a===_0x270859)break;else _0x140657['push'](_0x140657['shift']());}catch(_0x278499){_0x140657['push'](_0x140657['shift']());}}}(_0xba80,0xd7661));import{libWrapper,UtilLibWrapper}from'./PatcherLibWrapper.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{UtilCompat}from'./UtilCompat.js';import{UtilApplications}from'./UtilApplications.js';class Patcher_ActiveEffectConfig{static['init'](){const _0x1e49c8=_0x5a82;libWrapper[_0x1e49c8(0xdb)](SharedConsts[_0x1e49c8(0xde)],_0x1e49c8(0xd4),function(_0x37172c,..._0x256069){const _0x2f4bc1=_0x1e49c8,_0x67eb25=_0x37172c(..._0x256069);if(!Config['get']('actor',_0x2f4bc1(0x118)))return _0x67eb25;return _0x67eb25[_0x2f4bc1(0x112)]=0x280,_0x67eb25[_0x2f4bc1(0x108)]=!![],_0x67eb25;},UtilLibWrapper[_0x1e49c8(0xce)]),Hooks['on']('renderActiveEffectConfig',(_0x2837da,_0x53760a,_0x28857b)=>{const _0x29aa0b=_0x1e49c8;this[_0x29aa0b(0x10b)](_0x2837da,_0x53760a,_0x28857b);});}static[_0x353f0e(0x10b)](_0x54b81d,_0x5707d8,_0x400d21){const _0x303119=_0x353f0e;if(!Config['get']('ui','isExpandActiveEffectConfig')||UtilCompat['isDaeActive']())return;const _0x362473=_0x5707d8['find']('.effect-change.effects-header');_0x362473[_0x303119(0x11a)]('.key')[_0x303119(0xef)]({'marginLeft':0x18}),_0x362473[_0x303119(0x11a)](_0x303119(0x114))[_0x303119(0x11d)](_0x303119(0xfa)),_0x5707d8[_0x303119(0x11a)](_0x303119(0xea))[_0x303119(0x117)]((_0x3928e3,_0x59c116)=>{const _0x12f1e9=_0x303119,_0x1a36dc=$(_0x59c116),_0x521673=Number(_0x59c116['dataset']['index']),_0x5a4091=_0x1a36dc['find'](_0x12f1e9(0xe0))[_0x12f1e9(0x103)](_0x12f1e9(0xf2)),_0x365fc2=_0x1a36dc[_0x12f1e9(0x11a)](_0x12f1e9(0xda)),_0xd2c1b1=_0x1a36dc[_0x12f1e9(0x11a)](_0x12f1e9(0xeb))[_0x12f1e9(0x103)](_0x12f1e9(0x10d));$('<button\x20class=\x22no-grow\x20no-shrink\x20text-center\x20p-0\x20m-0\x20btr-0\x20bbr-0\x20br-0\x20aeff__btn-inline\x22\x20title=\x22Find\x20Active\x20Effect\x20Attribute\x20Key\x22><i\x20class=\x22fas\x20fa-fw\x20fa-search\x22></i></button>')[_0x12f1e9(0xfb)](async _0x9de432=>{const _0xdbd486=_0x12f1e9;_0x9de432['preventDefault'](),_0x9de432[_0xdbd486(0xe8)]();const _0x3d1370=UtilActiveEffects[_0xdbd486(0x10e)](_0x54b81d['object'][_0xdbd486(0xf7)],_0x400d21),{$modalInner:_0xd50823,doClose:_0x4788ea,doAutoResize:_0x36cb9c}=await UtilApplications[_0xdbd486(0xff)]({'title':_0xdbd486(0xfe),'isWidth100':!![],'isHeight100':!![]}),_0x3fe333=$(_0xdbd486(0xd2)),_0x17fb30=$(_0xdbd486(0x111)+game[_0xdbd486(0x10c)]['localize'](_0xdbd486(0x106))+_0xdbd486(0x107))['click'](()=>_0x1a74b0[_0xdbd486(0xf3)]()),_0x4c2954=$$`<div class="ve-flex-v-stretch input-group input-group--bottom mb-1">
							<button class="btn-5et col-4-5 sort" data-sort="name">Name</button>
							<button class="btn-5et col-2-5 sort" data-sort="value">Current Value</button>
							<button class="btn-5et col-2-5 sort" data-sort="baseValue" title="The underlying value, without any current effects/etc. applied.">Current Base Value</button>
							<button class="btn-5et col-2-5 sort" data-sort="default">Default Value</button>
						</div>`,_0x4a5092=$(_0xdbd486(0xdc)),_0x1a74b0=new List({'isUseJquery':!![],'$iptSearch':_0x3fe333,'$wrpList':_0x4a5092});SortUtil[_0xdbd486(0xdf)](_0x4c2954,_0x1a74b0),_0x3d1370[_0xdbd486(0xf0)]((_0x34504a,_0x56ccb2)=>{const _0x5132bb=_0xdbd486,_0x3ef0f7=MiscUtil['get'](_0x54b81d[_0x5132bb(0xec)][_0x5132bb(0xf7)][_0x5132bb(0xe1)],..._0x34504a[_0x5132bb(0x115)]['split']('.')),_0x4dc3e1=MiscUtil[_0x5132bb(0x101)](_0x54b81d[_0x5132bb(0xec)][_0x5132bb(0xf7)][_0x5132bb(0xe1)][_0x5132bb(0xf5)],..._0x34504a[_0x5132bb(0x115)][_0x5132bb(0x109)]('.')),_0x2a431d=$$`<label class="ve-flex w-100 veapp__list-row clickable veapp__list-row-hoverable">
								<span class="col-4-5 px-2">${_0x34504a[_0x5132bb(0x115)]}</span>
								<span class="col-2-5 text-center code">${JSON['stringify'](_0x3ef0f7)}</span>
								<span class="col-2-5 text-center code">${JSON[_0x5132bb(0xe5)](_0x4dc3e1)}</span>
								<span class="col-2-5 text-center code">${JSON['stringify'](_0x34504a[_0x5132bb(0xd1)])}</span>
							</label>`[_0x5132bb(0xfb)](()=>{const _0x50ef55=_0x5132bb,_0x54f71f=_0x34504a[_0x50ef55(0xd1)]==null?_0x34504a[_0x50ef55(0xd1)]:typeof _0x34504a[_0x50ef55(0xd1)]===_0x50ef55(0xec)?JSON[_0x50ef55(0xe5)](_0x34504a['default']):_0x34504a[_0x50ef55(0xd1)];_0x5a4091['val'](_0x34504a[_0x50ef55(0x115)]),_0x365fc2[_0x50ef55(0xd0)](''+CONST[_0x50ef55(0xee)]['OVERRIDE']);if(!(_0xd2c1b1[_0x50ef55(0xd0)]()||'')[_0x50ef55(0xd7)]())_0xd2c1b1['val'](_0x54f71f);_0x4788ea();}),_0x589692=new ListItem(_0x56ccb2,_0x2a431d,_0x34504a['path'],{'value':_0x3ef0f7?MiscUtil[_0x5132bb(0xe9)](_0x3ef0f7):_0x3ef0f7,'default':_0x34504a[_0x5132bb(0xd1)],'baseValue':_0x4dc3e1?MiscUtil[_0x5132bb(0xe9)](_0x4dc3e1):_0x4dc3e1});_0x1a74b0[_0x5132bb(0xf9)](_0x589692);}),_0x1a74b0['init'](),_0x1a74b0[_0xdbd486(0xe4)](),$$(_0xd50823)`<div class="ve-flex-col h-100 min-h-0">
							<div class="ve-flex-v-stretch input-group input-group--top">
								${_0x3fe333}
								${_0x17fb30}
							</div>
							${_0x4c2954}
							${_0x4a5092}
						</div>`,_0x36cb9c();})[_0x12f1e9(0x10f)](_0x1a36dc);const _0x2033bc=_0x1a36dc['find']('.effect-controls'),_0x4ac539=$(_0x12f1e9(0x113)+_0x521673+_0x12f1e9(0x110)+(_0x54b81d?.[_0x12f1e9(0xec)]?.[_0x12f1e9(0xe1)][_0x12f1e9(0xd9)]?.[_0x521673]?.[_0x12f1e9(0xfd)]||'')+'\x22>'),_0x44317e=$(_0x12f1e9(0x10a))[_0x12f1e9(0xfb)](_0x4d4070=>{const _0x113bca=_0x12f1e9;_0x4d4070['stopPropagation'](),_0x4d4070[_0x113bca(0xf1)]();const _0x1b8734=Object[_0x113bca(0xfc)](CONST[_0x113bca(0xee)])[_0x113bca(0xf4)],_0x41e352=Object['entries'](CONST[_0x113bca(0xee)])[_0x113bca(0xd8)](([_0x1b8136,_0xbe446b],_0x3f24f5)=>{const _0x3c8087=_0x113bca;return'<div\x20class=\x22ve-flex-v-center\x20py-1\x20stripe-even\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22col-4-5\x20ve-flex-vh-center\x22>'+game['i18n'][_0x3c8087(0xe2)](_0x3c8087(0x104)+_0x1b8136)+_0x3c8087(0xe6)+_0xbe446b*0xa+_0x3c8087(0xcf)+(_0x3f24f5===0x0||_0x3f24f5===_0x1b8734-0x1?'<i\x20class=\x22ve-muted\x20ml-2\x22>Applied\x20'+(_0x3f24f5===0x0?_0x3c8087(0x11b):'last')+_0x3c8087(0xe7):'')+'</div>\x0a\x09\x09\x09\x09\x09\x09\x09</div>';});new Dialog({'title':_0x113bca(0x100),'content':_0x113bca(0xd5)+_0x41e352[_0x113bca(0xd6)]('')+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<p>Setting\x20a\x20&quot;priority&quot;\x20value\x20allows\x20you\x20to\x20change\x20this,\x20and\x20apply\x20the\x20effects\x20in\x20any\x20order\x20you\x20choose.</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<p>For\x20example,\x20if\x20you\x20wished\x20to\x20create\x20an\x20Active\x20Effect\x20for\x20your\x20plate\x20armor\x20and\x20an\x20Active\x20Effect\x20for\x20your\x20shield,\x20you\x20could\x20create\x20an\x20&quot;Override&quot;\x20effect\x20for\x20the\x20plate,\x20with\x2018\x20AC,\x20and\x20an\x20&quot;Add&quot;\x20effect\x20for\x20the\x20shield,\x20with\x202\x20AC.\x20You\x20would\x20then\x20set\x20the\x20plate\x27s\x20priority\x20to\x20a\x20number\x20in\x20the\x20range\x200â€“19,\x20so\x20it\x20is\x20applied\x20before\x20the\x20shield.\x20If\x20you\x20did\x20not,\x20it\x20would\x20default\x20to\x20&quot;50&quot;,\x20and\x20thus\x20be\x20applied\x20after\x20(and\x20override/ignore)\x20your\x20shield.</p>\x0a\x09\x09\x09\x09\x09\x09\x09</div>','buttons':{'one':{'icon':_0x113bca(0x105),'label':_0x113bca(0xed)}}})['render'](!![]);});$$`<div class="ve-flex-v-center">
					${_0x4ac539}
					${_0x44317e}
				</div>`[_0x12f1e9(0xf8)](_0x2033bc);});}}export{Patcher_ActiveEffectConfig};