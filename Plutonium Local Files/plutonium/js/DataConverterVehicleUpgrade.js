const _0x51d439=_0x4b02;(function(_0x20a609,_0x49d8ec){const _0x1de735=_0x4b02,_0x4a86a0=_0x20a609();while(!![]){try{const _0x4e3a25=-parseInt(_0x1de735(0x9b))/0x1*(parseInt(_0x1de735(0x75))/0x2)+parseInt(_0x1de735(0x99))/0x3+-parseInt(_0x1de735(0xa0))/0x4*(-parseInt(_0x1de735(0x92))/0x5)+-parseInt(_0x1de735(0xa7))/0x6+parseInt(_0x1de735(0xa4))/0x7+parseInt(_0x1de735(0x88))/0x8+parseInt(_0x1de735(0x7b))/0x9*(-parseInt(_0x1de735(0x81))/0xa);if(_0x4e3a25===_0x49d8ec)break;else _0x4a86a0['push'](_0x4a86a0['shift']());}catch(_0x4edaf1){_0x4a86a0['push'](_0x4a86a0['shift']());}}}(_0x1959,0x395bc));import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';function _0x4b02(_0xb9f91a,_0x58c822){const _0x1959f5=_0x1959();return _0x4b02=function(_0x4b023e,_0x50e941){_0x4b023e=_0x4b023e-0x72;let _0x2bce8b=_0x1959f5[_0x4b023e];return _0x2bce8b;},_0x4b02(_0xb9f91a,_0x58c822);}import{DataConverterFeature}from'./DataConverterFeature.js';class DataConverterVehicleUpgrade extends DataConverterFeature{static [_0x51d439(0x82)]={'propBrew':'foundryVehicleUpgrade','fnLoadJson':async()=>this[_0x51d439(0x7d)](),'propJson':'vehicleUpgrade'};static [_0x51d439(0x83)]='modules/'+SharedConsts['MODULE_NAME']+_0x51d439(0x84);static[_0x51d439(0x8c)](){const _0x57bdaa=_0x51d439;PageFilterClassesFoundry[_0x57bdaa(0xa5)]('reward',this);}static async[_0x51d439(0x86)](_0x5b8b82){const _0x442c2b=_0x51d439;if(_0x5b8b82[_0x442c2b(0x74)])return MiscUtil[_0x442c2b(0x98)](_0x5b8b82);const _0x54ed9b=UrlUtil[_0x442c2b(0x7f)][UrlUtil[_0x442c2b(0x76)]](_0x5b8b82);return Renderer['hover'][_0x442c2b(0x80)](UrlUtil[_0x442c2b(0x76)],_0x5b8b82[_0x442c2b(0x95)],_0x54ed9b,{'isCopy':!![]});}static async[_0x51d439(0x8e)](_0x5b76f8,{actor:actor=null}={}){const _0x42b848=_0x51d439,_0x44f088={'vehicleUpgrade':_0x5b76f8[_0x42b848(0x8b)]+'|'+_0x5b76f8[_0x42b848(0x95)]};return await PageFilterClassesFoundry['pInitVehicleUpgradeLoadeds']({'vehicleUpgrade':_0x44f088,'raw':_0x5b76f8,'actor':actor}),_0x44f088;}static async[_0x51d439(0x93)](_0x547e1e,_0x5baab6){const _0x266cd1=_0x51d439;_0x5baab6=_0x5baab6||{};if(_0x5baab6[_0x266cd1(0x87)])_0x5baab6[_0x266cd1(0x7a)]=!![];return this[_0x266cd1(0x73)](_0x547e1e,_0x5baab6);}static async[_0x51d439(0x73)](_0x5b4be2,_0x213d46){const _0x187e85=_0x51d439,_0x80e584=await this['_pGetDescriptionValue'](_0x5b4be2),_0x2bbced=_0x5b4be2[_0x187e85(0x78)]||{},_0x51f86b=await this[_0x187e85(0x8d)](_0x5b4be2),_0x2beeb3=await this[_0x187e85(0x79)](_0x5b4be2),_0x4c902d=await this[_0x187e85(0xa9)](_0x5b4be2),_0x109e23=await this[_0x187e85(0x72)](_0x5b4be2,_0x4c902d,_0x213d46)||[],_0x21c0f2={'name':UtilApplications[_0x187e85(0xa6)](UtilDataConverter['getNameWithSourcePart'](_0x5b4be2,{'isActorItem':_0x213d46[_0x187e85(0x7a)]})),'data':{'source':UtilDataConverter[_0x187e85(0x9a)](_0x5b4be2),'description':{'value':_0x80e584,'chat':'','unidentified':''},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':0x0,'units':''},'target':{'value':0x0,'units':'','type':''},'range':{'value':0x0,'long':0x0,'units':null},'uses':{'value':0x0,'max':0x0,'per':''},'ability':'','actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null},'requirements':_0x2bbced[_0x187e85(0x96)]||'','recharge':{'value':0x0,'charged':!![]},..._0x51f86b},'permission':{'default':0x0},'type':_0x187e85(0xaa),'img':_0x4c902d,'flags':{...this[_0x187e85(0xb0)](_0x5b4be2,_0x213d46),..._0x2beeb3},'effects':_0x109e23};if(_0x213d46['defaultPermission']!=null)_0x21c0f2[_0x187e85(0x9f)]={'default':_0x213d46[_0x187e85(0xa2)]};else{if(_0x213d46[_0x187e85(0x9c)])_0x21c0f2[_0x187e85(0x9f)]={'default':Config[_0x187e85(0x94)](_0x187e85(0xab),'permissions')};}return _0x21c0f2;}static[_0x51d439(0x7c)](_0x3caae7){const _0x4882da=_0x51d439;if(!Config[_0x4882da(0x94)](_0x4882da(0xab),_0x4882da(0x8a)))return'';return UtilDataConverter[_0x4882da(0x9d)](()=>{const _0x1c9d35=_0x4882da;return'<div>\x0a\x09\x09\x09\x09<p><i>'+Renderer['vehicle'][_0x1c9d35(0xaf)](_0x3caae7)+'</i></div></p>\x0a\x09\x09\x09\x09'+Renderer[_0x1c9d35(0x94)]()[_0x1c9d35(0x97)](!![])[_0x1c9d35(0x9e)]({'entries':_0x3caae7['entries']},0x1)+_0x1c9d35(0x77);});}static async[_0x51d439(0xa1)](_0x100ccf,_0x48fd98,_0xc4d4ac,_0x40f6bd){const _0x1b36a2=_0x51d439,_0x435f04=await this['pGetSideLoadedMatch'](_0xc4d4ac);this[_0x1b36a2(0x85)](_0x100ccf,_0x48fd98,_0xc4d4ac,{'sideData':_0x435f04});}static[_0x51d439(0xb0)](_0x38e95f,_0x1a8b85){const _0x1bb870=_0x51d439;_0x1a8b85=_0x1a8b85||{};const _0x501e4a={[SharedConsts[_0x1bb870(0x8f)]]:{'page':UrlUtil[_0x1bb870(0x76)],'source':_0x38e95f[_0x1bb870(0x95)],'hash':UrlUtil[_0x1bb870(0x7f)][UrlUtil['PG_VEHICLES']](_0x38e95f)}};return _0x1a8b85[_0x1bb870(0x90)]&&(_0x501e4a[SharedConsts[_0x1bb870(0x8f)]]['propDroppable']=_0x1bb870(0xad),_0x501e4a[SharedConsts[_0x1bb870(0x8f)]][_0x1bb870(0xa3)]=_0x1a8b85['filterValues']),_0x501e4a;}static async[_0x51d439(0x91)](_0x3da1d3){const _0x2a7ff2=_0x51d439;return this[_0x2a7ff2(0x7e)](_0x3da1d3,this[_0x2a7ff2(0x82)]);}static async['_pGetVehicleUpgradeEffects'](_0x13278b,_0x428f99,{isActorItem:_0xe1bd47}={}){const _0x4a5de7=_0x51d439;if(_0xe1bd47)return[];if(await this['pHasVehicleUpgradeSideLoadedEffects'](null,_0x13278b))return this[_0x4a5de7(0x89)](null,_0x13278b,null,{'img':_0x428f99});return[];}static async['pHasVehicleUpgradeSideLoadedEffects'](_0x33e83c,_0x3324d5){const _0x3aae66=_0x51d439;return(await DataConverter['_pGetEffectsRawSideLoaded_'](_0x3324d5,this[_0x3aae66(0x82)]))?.['length']>0x0;}static async['pGetVehicleUpgradeItemEffects'](_0x416750,_0x1cf35a,_0xe68ef2,{additionalData:_0x2d3fc2,img:_0x4785a9}={}){const _0x36b7f1=_0x51d439,_0x3aedcd=await DataConverter[_0x36b7f1(0xa8)](_0x1cf35a,this[_0x36b7f1(0x82)]);return UtilActiveEffects[_0x36b7f1(0xae)](_0x3aedcd||[],{'actor':_0x416750,'sheetItem':_0xe68ef2,'parentName':_0x1cf35a[_0x36b7f1(0x8b)],'additionalData':_0x2d3fc2,'img':_0x4785a9});}static async[_0x51d439(0x7d)](){const _0x142590=_0x51d439;if(!this[_0x142590(0xac)])this['_SIDE_DATA']=await Vetools['pGetVehicleUpgradeSideData']();return this['_SIDE_DATA'];}}function _0x1959(){const _0x368d94=['pGetInitVehicleUpgradeFeatureLoadeds','MODULE_NAME_FAKE','isAddDataFlags','pGetSideLoadedMatch','244845BUKsNp','pGetVehicleUpgradeItem','get','source','requirements','setFirstSection','copy','81003JEuGFG','getSourceWithPagePart','5509KKvuMx','isAddPermission','pGetWithDescriptionPlugins','render','permission','8haCcGJ','pMutActorUpdateVehicleUpgrade','defaultPermission','filterValues','1119937SdGKkA','setImplSideData','getCleanEntityName','128514brALdx','_pGetEffectsRawSideLoaded_','_pGetSaveImagePath','feat','importVehicleUpgrade','_SIDE_DATA','vehicleUpgrade','getExpandedEffects','getUpgradeSummary','_getVehicleUpgradeFlags','_pGetVehicleUpgradeEffects','_pGetVehicleUpgradeItem_other','entries','12OOkEKj','PG_VEHICLES','\x0a\x09\x09\x09</div>','_foundryData','_pGetFlagsSideLoaded','isActorItem','63AoCwju','_pGetDescriptionValue','_pGetPreloadSideData','_pGetSideLoadedMatch','URL_TO_HASH_BUILDER','pCacheAndGet','533110PHqjXi','_SIDE_LOAD_OPTS','_IMG_FALLBACK','/media/icon/gears.svg','mutActorUpdate','pGetDereferencedVehicleUpgradeFeatureItem','actor','3021280VNHVhX','pGetVehicleUpgradeItemEffects','isImportDescription','name','init','_pGetDataSideLoaded'];_0x1959=function(){return _0x368d94;};return _0x1959();}export{DataConverterVehicleUpgrade};