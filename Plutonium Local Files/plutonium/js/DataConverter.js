const _0x3c65bb=_0xde85;(function(_0x5a6b5e,_0x304cf7){const _0x2a13c0=_0xde85,_0x3c8505=_0x5a6b5e();while(!![]){try{const _0x3bacf7=-parseInt(_0x2a13c0(0x15a))/0x1+-parseInt(_0x2a13c0(0x1ba))/0x2+-parseInt(_0x2a13c0(0x176))/0x3+parseInt(_0x2a13c0(0xbe))/0x4+-parseInt(_0x2a13c0(0x1ec))/0x5*(parseInt(_0x2a13c0(0x1fd))/0x6)+-parseInt(_0x2a13c0(0x147))/0x7+parseInt(_0x2a13c0(0x133))/0x8;if(_0x3bacf7===_0x304cf7)break;else _0x3c8505['push'](_0x3c8505['shift']());}catch(_0x1c67d8){_0x3c8505['push'](_0x3c8505['shift']());}}}(_0x15fb,0x1a165));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';function _0xde85(_0x2fa4f5,_0x3adc5c){const _0x15fbe9=_0x15fb();return _0xde85=function(_0xde856b,_0x210a1f){_0xde856b=_0xde856b-0x8d;let _0x18383c=_0x15fbe9[_0xde856b];return _0x18383c;},_0xde85(_0x2fa4f5,_0x3adc5c);}import{Charactermancer_ConditionImmunitySelect,Charactermancer_DamageVulnerabilitySelect,Charactermancer_DamageResistanceSelect,Charactermancer_DamageImmunitySelect,Charactermancer_OtherProficiencySelect,Charactermancer_ExpertiseSelect}from'./UtilCharactermancer.js';import{LGT,Util}from'./Util.js';import{UtilCompat}from'./UtilCompat.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{UtilCompendium}from'./UtilCompendium.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{ConfigConsts}from'./ConfigConsts.js';class DataConverter{static ['_SIDE_LOAD_OPTS']=null;static async[_0x3c65bb(0x188)](_0x236653,{propOpts:propOpts=_0x3c65bb(0x12a)}={}){const _0xddc16d=_0x3c65bb,_0x3556c0=this['_getSideLoadOpts'](_0x236653)||this[propOpts];if(!_0x3556c0)return null;return DataConverter[_0xddc16d(0x10e)](_0x236653,_0x3556c0);}static async['_pGetFlagsSideLoaded'](_0x149117,{propOpts:propOpts=_0x3c65bb(0x12a)}={}){const _0x37e39e=_0x3c65bb,_0x306704=this[_0x37e39e(0x99)](_0x149117)||this[propOpts];if(!_0x306704)return null;return DataConverter[_0x37e39e(0x21b)](_0x149117,_0x306704);}static async['_pGetImgSideLoaded'](_0x2eada6,{propOpts:propOpts=_0x3c65bb(0x12a)}={}){const _0x29ea79=_0x3c65bb,_0x523a87=this[_0x29ea79(0x99)](_0x2eada6)||this[propOpts];if(!_0x523a87)return null;return DataConverter['_pGetImgSideLoaded_'](_0x2eada6,_0x523a87);}static async[_0x3c65bb(0x1c4)](_0x4d9a1f,{propOpts:propOpts=_0x3c65bb(0x12a)}={}){const _0x140dc7=_0x3c65bb,_0x5265d1=this[_0x140dc7(0x99)](_0x4d9a1f)||this[propOpts];if(!_0x5265d1)return null;return DataConverter[_0x140dc7(0x18d)](_0x4d9a1f,_0x5265d1);}static async[_0x3c65bb(0x10c)](_0x4ef870,{propOpts:propOpts=_0x3c65bb(0x12a)}={}){const _0x50299f=_0x3c65bb,_0x393331=this[_0x50299f(0x99)](_0x4ef870)||this[propOpts];if(!_0x393331)return null;return DataConverter[_0x50299f(0x119)](_0x4ef870,_0x393331);}static async[_0x3c65bb(0x134)]({ent:_0xc075ff,actor:actor=null,sheetItem:sheetItem=null,additionalData:additionalData=null,img:img=null},{propOpts:propOpts=_0x3c65bb(0x12a)}={}){const _0x4d1698=_0x3c65bb,_0x2f107d=await this['_pGetEffectsRawSideLoaded'](_0xc075ff,{'propOpts':propOpts});if(!_0x2f107d?.['length'])return null;return UtilActiveEffects[_0x4d1698(0x196)](_0x2f107d,{'actor':actor,'sheetItem':sheetItem,'parentName':_0xc075ff[_0x4d1698(0x1a7)]||_0xc075ff['name'],'img':img});}static[_0x3c65bb(0x99)](_0x25ce2a){return null;}static ['_IMG_FALLBACK']=null;static async[_0x3c65bb(0xec)](_0x46e830,{fluff:_0x3122aa,propCompendium:_0x46d1fd}={}){const _0x4ddac0=_0x3c65bb;return this[_0x4ddac0(0x156)](_0x46e830,{'fluff':_0x3122aa,'propCompendium':_0x46d1fd});}static async['_pGetSaveImagePath'](_0x3f18fa,{fluff:_0x4a88f6,propCompendium:_0x28dd93}={}){const _0x3b9444=_0x3c65bb;return Vetools[_0x3b9444(0x1ff)](await this[_0x3b9444(0xec)](_0x3f18fa,{'fluff':_0x4a88f6,'propCompendium':_0x28dd93}));}static async[_0x3c65bb(0x156)](_0x4f8d3b,{fluff:_0xd2a221,propCompendium:_0x4a137d}={}){const _0xee5e1d=_0x3c65bb;if(_0x4f8d3b[_0xee5e1d(0x1e5)])return _0x4f8d3b['foundryImg'];const _0x1a20d8=await this[_0xee5e1d(0xf2)](_0x4f8d3b);if(_0x1a20d8)return _0x1a20d8;const _0x3a14fa=[async()=>{const _0x1da6f0=_0xee5e1d,_0x483c50=await this[_0x1da6f0(0x169)](_0x4f8d3b);if(_0x483c50)return _0x483c50;if(_0xd2a221){const _0x2374ea=await Vetools['pGetImageUrlFromFluff'](_0xd2a221);if(_0x2374ea)return _0x2374ea;}},async()=>{const _0x243274=_0xee5e1d;if(!_0x4a137d)return null;const _0x4a85d5=await this[_0x243274(0x11c)]({'ent':_0x4f8d3b,'propCompendium':_0x4a137d});if(_0x4a85d5)return _0x4a85d5;}];if(Config['get'](_0xee5e1d(0x1f9),_0xee5e1d(0xe0)))_0x3a14fa[_0xee5e1d(0x1a2)]();for(const _0x464119 of _0x3a14fa){const _0x19241e=await _0x464119();if(_0x19241e)return _0x19241e;}const _0x4af67d=this[_0xee5e1d(0xf7)](_0x4f8d3b);if(_0x4af67d)return _0x4af67d;return this[_0xee5e1d(0xb2)];}static async['_pGetImagePath_pGetCompendiumImage']({ent:_0x3fa718,propCompendium:_0x2df398}){const _0x2a29ea=_0x3c65bb;return UtilCompendium['pGetCompendiumImage'](_0x2df398,_0x3fa718,{'fnGetAliases':this[_0x2a29ea(0x1c5)][_0x2a29ea(0x1a6)](this),'isIgnoreSrd':!![]});}static async[_0x3c65bb(0x169)](_0x36fe49){return null;}static['_getImgFallback'](_0x2843d2){return null;}static[_0x3c65bb(0x1c5)](_0x5bdb16){return[];}static[_0x3c65bb(0x1dd)](_0x1fbfd3,_0x26403e){const _0x33171b=_0x3c65bb,_0x5b228f=new RegExp('{@'+_0x1fbfd3+_0x33171b(0xa5),'gi'),_0x2db1e1=[];return _0x26403e[_0x33171b(0x167)](_0x5b228f,(..._0x1ed5bf)=>_0x2db1e1[_0x33171b(0xb8)](_0x1ed5bf[0x1])),_0x2db1e1;}static async[_0x3c65bb(0x139)](_0x59d7d2,_0xb2604e){const _0x2bcc95=_0x3c65bb;switch(_0x59d7d2){case _0x2bcc95(0xd9):case _0x2bcc95(0x1c8):{const _0x19bdbd=await Vetools[_0x2bcc95(0x111)](_0x59d7d2),_0xbb142d=MiscUtil[_0x2bcc95(0x1b2)](_0x19bdbd,_0xb2604e[_0x2bcc95(0x150)],_0xb2604e[_0x2bcc95(0x1f4)]);if(!_0xbb142d)return null;return _0x2bcc95(0x127)+SharedConsts[_0x2bcc95(0x19a)]+'/'+_0xbb142d;}default:return null;}}static[_0x3c65bb(0x1b5)](_0x13e339,_0x16b770){const _0x2f9691=_0x3c65bb;if(!_0x16b770&&!_0x13e339)return{};const _0x56a32c=MiscUtil[_0x2f9691(0x183)](_0x16b770||{});return Object[_0x2f9691(0x175)](_0x56a32c,MiscUtil[_0x2f9691(0x183)](_0x13e339||{})),_0x56a32c;}static['getCombinedFoundryFlags'](_0x4f3761,_0x37434){const _0x29b4c3=_0x3c65bb;if(!_0x4f3761&&!_0x37434)return{};const _0x41b2f8=MiscUtil[_0x29b4c3(0x183)](_0x37434||{});return Object['entries'](MiscUtil[_0x29b4c3(0x183)](_0x4f3761||{}))[_0x29b4c3(0x12e)](([_0x3c43bf,_0x253c9b])=>{const _0x432512=_0x29b4c3;if(!_0x41b2f8[_0x3c43bf])return _0x41b2f8[_0x3c43bf]=_0x253c9b;Object[_0x432512(0x175)](_0x41b2f8[_0x3c43bf],_0x253c9b);}),_0x41b2f8;}static async[_0x3c65bb(0x221)](_0x3573e9,_0x12586b){const _0x473ad5=_0x3c65bb;_0x12586b=_0x12586b||{},_0x12586b[_0x473ad5(0x128)]=_0x12586b[_0x473ad5(0x128)]||_0x473ad5(0x18b);let _0x46b240='';if(_0x3573e9[_0x12586b['prop']]){let _0x3bc052=MiscUtil[_0x473ad5(0x183)](_0x3573e9[_0x12586b[_0x473ad5(0x128)]]);_0x3bc052=UtilDataConverter[_0x473ad5(0x165)][_0x473ad5(0x21a)](_0x3bc052,{'string':_0x1b8c73=>{const _0x44d7b9=_0x473ad5;return _0x1b8c73[_0x44d7b9(0x167)](/{@hitYourSpellAttack}/gi,()=>_0x44d7b9(0x18e))[_0x44d7b9(0x167)](/{(@dice|@damage|@scaledice|@scaledamage|@hit) ([^}]+)}/gi,(..._0x1efb3f)=>{const _0x39d52a=_0x44d7b9,[,_0x14ee08,_0x2ad115]=_0x1efb3f;let [_0x5bb9e0,_0x47510b,_0x54c519,..._0x41257a]=Renderer[_0x39d52a(0x1e1)](_0x2ad115);const _0x550a30=_0x5bb9e0;return _0x5bb9e0=this[_0x39d52a(0x1c3)](_0x5bb9e0,_0x12586b),_0x47510b=this['_pGetEntryDescription_getCleanDisplayPart']({'displayText':_0x47510b,'originalText':_0x550a30,'text':_0x5bb9e0}),'{'+_0x14ee08+'\x20'+[_0x5bb9e0,_0x47510b||'',_0x54c519||'',..._0x41257a][_0x39d52a(0xac)]('|')+'}';})[_0x44d7b9(0x167)](/{(@dc) ([^}]+)}/gi,(..._0x15ecc2)=>{const _0x35b858=_0x44d7b9,[,_0x49cbe5,_0x5026e6]=_0x15ecc2;let [_0xbd58f5,_0x16f536]=Renderer[_0x35b858(0x1e1)](_0x5026e6);const _0x191336=_0xbd58f5;return _0xbd58f5=this[_0x35b858(0x1c3)](_0xbd58f5,_0x12586b),_0x16f536=this[_0x35b858(0x17a)]({'displayText':_0x16f536,'originalText':_0x191336,'text':_0xbd58f5}),'{'+_0x49cbe5+'\x20'+[_0xbd58f5,_0x16f536||''][_0x35b858(0xac)]('|')+'}';});}}),_0x46b240=await UtilDataConverter['pGetWithDescriptionPlugins'](()=>Renderer[_0x473ad5(0x1b2)]()['setFirstSection'](!![])['render']({'type':_0x473ad5(0x18b),'entries':_0x3bc052},_0x12586b[_0x473ad5(0x1bc)]!=null?_0x12586b[_0x473ad5(0x1bc)]:0x2));}return _0x46b240;}static[_0x3c65bb(0x1c3)](_0x2419a1,_0x471b39){const _0x2ce104=_0x3c65bb;return _0x2419a1[_0x2ce104(0x167)](/\bPB\b/gi,_0x2ce104(0x145))[_0x2ce104(0x167)](/\bsummonSpellLevel\b/gi,''+(_0x471b39[_0x2ce104(0x154)]??0x0));}static['_pGetEntryDescription_getCleanDisplayPart']({displayText:_0x1db26e,originalText:_0x1d38ea,text:_0x36183b}){const _0x122837=_0x3c65bb;return!_0x1db26e&&_0x1d38ea!==_0x36183b&&(_0x1db26e=_0x1d38ea[_0x122837(0x167)](/\bsummonSpellLevel\b/gi,'the\x20spell\x27s\x20level')),_0x1db26e;}static[_0x3c65bb(0x10d)](_0x20d3d9,_0x226d42,_0x26a64e,_0x540800){const _0x592d0a=_0x3c65bb;_0x540800=_0x540800||{},this[_0x592d0a(0x211)](_0x20d3d9,_0x226d42,_0x540800),this[_0x592d0a(0x194)](_0x20d3d9,_0x226d42,_0x540800);}static['_mutActorUpdate_mutFromSideDataMod'](_0x3c9315,_0x24ba2,_0x45c30a){const _0x15d8f6=_0x3c65bb;return this[_0x15d8f6(0x14e)](_0x3c9315,_0x24ba2,_0x45c30a,_0x15d8f6(0x1db),_0x15d8f6(0x114));}static[_0x3c65bb(0x194)](_0xb4a30f,_0x471a70,_0x13d290){const _0x536889=_0x3c65bb;return this[_0x536889(0x14e)](_0xb4a30f,_0x471a70,_0x13d290,_0x536889(0x179),_0x536889(0x216));}static[_0x3c65bb(0x14e)](_0x36d9dd,_0x1c9116,_0x3bfe40,_0x4ccb9c,_0xf63dd5){const _0x3efe19=_0x3c65bb;if(!_0x3bfe40[_0x3efe19(0x115)]||!_0x3bfe40[_0x3efe19(0x115)][_0x4ccb9c])return;Object[_0x3efe19(0x18b)](_0x3bfe40[_0x3efe19(0x115)][_0x4ccb9c])[_0x3efe19(0x12e)](([_0x1df861,_0x4e1d0c])=>this[_0x3efe19(0x11f)](_0x36d9dd,_0x1c9116,_0x3bfe40,_0x4ccb9c,_0xf63dd5,_0x1df861,_0x4e1d0c));}static[_0x3c65bb(0x11f)](_0x3c05ad,_0x4d3320,_0xd01139,_0x28cc1f,_0xeb3aae,_0x795903,_0x284e2d){const _0x466d7c=_0x3c65bb,_0x35d572=_0x795903[_0x466d7c(0x121)]('.');if(_0x795903==='_'){_0x284e2d[_0x466d7c(0x12e)](_0xd502d9=>{const _0x171b19=_0x466d7c;switch(_0xd502d9[_0x171b19(0x101)]){case _0x171b19(0x107):{for(const _0x3cc6f2 of _0xd502d9['conditionals']){window[_0x171b19(0xe6)]={'actor':_0x3c05ad};if(_0x3cc6f2[_0x171b19(0xc5)]&&!eval(_0x3cc6f2[_0x171b19(0xc5)]))continue;Object[_0x171b19(0x18b)](_0x3cc6f2['mod'])['forEach'](([_0x3767cd,_0x45bbad])=>this[_0x171b19(0x11f)](_0x3c05ad,_0x4d3320,_0xd01139,_0x28cc1f,_0xeb3aae,_0x3767cd,_0x45bbad));break;}break;}default:throw new Error(_0x171b19(0x200)+_0xd502d9['mode']+'\x22');}});return;}const _0x24abca=MiscUtil[_0x466d7c(0x1b2)](_0x3c05ad,_0x466d7c(0x114),_0xeb3aae,..._0x35d572),_0x2f5a73=MiscUtil['get'](_0x4d3320,_0xeb3aae,..._0x35d572),_0x59d406=_0x2f5a73||_0x24abca;_0x284e2d[_0x466d7c(0x12e)](_0x2425e6=>{const _0x22e3f7=_0x466d7c;switch(_0x2425e6[_0x22e3f7(0x101)]){case'appendStr':{const _0x29b757=MiscUtil[_0x22e3f7(0x1b2)](_0x4d3320,_0xeb3aae,..._0x35d572),_0x5b4b72=_0x29b757?''+_0x29b757+(_0x2425e6[_0x22e3f7(0x209)]||'')+_0x2425e6[_0x22e3f7(0x166)]:_0x2425e6[_0x22e3f7(0x166)];MiscUtil[_0x22e3f7(0x1a9)](_0x4d3320,_0xeb3aae,..._0x35d572,_0x5b4b72);break;}case _0x22e3f7(0xe3):{const _0x410938=MiscUtil['copy'](_0x59d406||[]),_0x23dc2a=[..._0x410938];_0x23dc2a[_0x22e3f7(0xb8)](..._0x2425e6['items'][_0x22e3f7(0x96)](_0x37bc9e=>!_0x410938[_0x22e3f7(0x136)](_0x285077=>CollectionUtil['deepEquals'](_0x37bc9e,_0x285077)))),MiscUtil[_0x22e3f7(0x1a9)](_0x4d3320,_0xeb3aae,..._0x35d572,_0x23dc2a);break;}case'scalarAdd':{MiscUtil['set'](_0x4d3320,_0xeb3aae,..._0x35d572,_0x2425e6[_0x22e3f7(0x9b)]+_0x59d406||0x0);break;}case _0x22e3f7(0x132):{const _0x2ab92f=(''+(_0x59d406||0x0))[_0x22e3f7(0x152)](),_0x536859=_0x3827cd=>{const _0x49afcd=_0x22e3f7,_0x192458=_0x2ab92f['indexOf'](_0x3827cd['toLowerCase']());let _0x259f77=_0x59d406['slice'](0x0,_0x192458);const _0x5d98fd=_0x59d406[_0x49afcd(0x1e3)](_0x192458),_0x44164f=_0x259f77[_0x49afcd(0x10f)]('\x20');_0x259f77=_0x259f77[_0x49afcd(0x151)]();if(!isNaN(_0x259f77)){const _0x149cb7=''+(_0x2425e6[_0x49afcd(0x9b)]+Number(_0x259f77))+(_0x44164f?'\x20':'')+_0x5d98fd;MiscUtil[_0x49afcd(0x1a9)](_0x4d3320,_0xeb3aae,..._0x35d572,_0x149cb7);}};if(!_0x59d406)MiscUtil[_0x22e3f7(0x1a9)](_0x4d3320,_0xeb3aae,..._0x35d572,_0x2425e6['scalar']+'\x20'+(_0x2425e6['unitShort']||_0x2425e6[_0x22e3f7(0x1e8)]));else{if(_0x2425e6[_0x22e3f7(0x1e8)]&&_0x2ab92f['includes'](_0x2425e6[_0x22e3f7(0x1e8)][_0x22e3f7(0x152)]()))_0x536859(_0x2425e6[_0x22e3f7(0x1e8)]);else _0x2425e6[_0x22e3f7(0x191)]&&_0x2ab92f['includes'](_0x2425e6[_0x22e3f7(0x191)]['toLowerCase']())&&_0x536859(_0x2425e6[_0x22e3f7(0x191)]);}break;}case _0x22e3f7(0x93):{const _0x2383d1=(''+(_0x59d406||0x0))[_0x22e3f7(0x152)]();let _0x5d1c7a=Number(_0x2383d1);if(isNaN(_0x5d1c7a))_0x5d1c7a=0x0;const _0x17db91=Math[_0x22e3f7(0x21f)](_0x5d1c7a,_0x2425e6[_0x22e3f7(0x157)]);MiscUtil[_0x22e3f7(0x1a9)](_0x4d3320,_0xeb3aae,..._0x35d572,_0x17db91);break;}case'set':{MiscUtil[_0x22e3f7(0x1a9)](_0x4d3320,_0xeb3aae,..._0x35d572,MiscUtil[_0x22e3f7(0x183)](_0x2425e6['value']));break;}default:throw new Error('Unhandled\x20mode\x20\x22'+_0x2425e6[_0x22e3f7(0x101)]+'\x22');}});}static['_getProfBonusExpressionParts'](_0x4c8c42){const _0x36aa0a=_0x3c65bb,_0x365810=_0x4c8c42[_0x36aa0a(0x121)](/([-+]\s*[^-+]+)/g)[_0x36aa0a(0xfd)](_0xe5f89e=>_0xe5f89e[_0x36aa0a(0x151)]()['replace'](/\s*/g,''))[_0x36aa0a(0x96)](Boolean),[_0x4e2b80,_0x4b6303]=_0x365810[_0x36aa0a(0xeb)](_0x4cc807=>!isNaN(_0x4cc807)),_0x2f9d5f=_0x4e2b80[_0x36aa0a(0xfd)](_0x4d96f4=>Number(_0x4d96f4))[_0x36aa0a(0x149)]();return{'partsNumerical':_0x4e2b80,'partsNonNumerical':_0x4b6303,'totalNumerical':_0x2f9d5f};}static ['_PassiveEntryParseState']=class{constructor(entry,opts){const _0x576cd1=_0x3c65bb;this[_0x576cd1(0xe5)]=entry,this[_0x576cd1(0xc7)]=opts;let {description:description,activationType:activationType,activationCost:activationCost,activationCondition:activationCondition,saveAbility:saveAbility,saveDc:saveDc,saveScaling:saveScaling,damageParts:damageParts,attackBonus:attackBonus,requirements:requirements,actionType:actionType,durationValue:durationValue,durationUnits:durationUnits,consumeType:consumeType,consumeTarget:consumeTarget,consumeAmount:consumeAmount,formula:formula,targetValue:targetValue,targetUnits:targetUnits,targetType:targetType,rangeShort:rangeShort,rangeLong:rangeLong,ability:ability,foundryData:foundryData,_foundryData:_foundryData,foundryFlags:foundryFlags,_foundryFlags:_foundryFlags}=opts;this[_0x576cd1(0x160)]=DataConverter[_0x576cd1(0x1b5)](foundryData,_foundryData),this[_0x576cd1(0x1f5)]=DataConverter['getCombinedFoundryFlags'](foundryFlags,_foundryFlags),this['description']=description||'',this[_0x576cd1(0x12c)]=activationType||'',this[_0x576cd1(0x131)]=activationCost||0x0,this[_0x576cd1(0xc4)]=activationCondition||'',this[_0x576cd1(0x1ab)]=saveAbility||'',this[_0x576cd1(0x1e4)]=saveDc??null,this[_0x576cd1(0x20b)]=saveScaling||'',this[_0x576cd1(0x138)]=damageParts||[],this[_0x576cd1(0x1f3)]=attackBonus??null,this[_0x576cd1(0x153)]=requirements||'',this['actionType']=actionType||'',this['durationValue']=durationValue??null,this[_0x576cd1(0xb4)]=durationUnits||'',this[_0x576cd1(0x1b0)]=consumeType??null,this['consumeTarget']=consumeTarget??null,this[_0x576cd1(0xee)]=consumeAmount??null,this[_0x576cd1(0x210)]=formula??null,this[_0x576cd1(0x185)]=targetValue??null,this[_0x576cd1(0xbd)]=targetUnits||'',this[_0x576cd1(0x16c)]=targetType||'',this['rangeShort']=rangeShort??null,this[_0x576cd1(0x171)]=rangeLong??null,this[_0x576cd1(0x1d5)]=ability??'',this[_0x576cd1(0xb9)]=[];}async[_0x3c65bb(0x20d)](){const _0x5d6c8b=_0x3c65bb;!this['description']&&!this[_0x5d6c8b(0xc7)][_0x5d6c8b(0x90)]&&(this['description']=await DataConverter[_0x5d6c8b(0x221)](this[_0x5d6c8b(0xe5)],{'depth':this['_opts'][_0x5d6c8b(0x198)],'summonSpellLevel':this['_opts'][_0x5d6c8b(0x154)]}));}};static async[_0x3c65bb(0x141)](_0x589161,_0x429d96){const _0x3a96af=_0x3c65bb;_0x429d96=_0x429d96||{},_0x429d96[_0x3a96af(0x15f)]=_0x429d96[_0x3a96af(0x15f)]||{};const _0x55ec43=await Vetools[_0x3a96af(0x1ff)](_0x429d96['img']);if(_0x429d96[_0x3a96af(0x101)]===_0x3a96af(0x17d))_0x429d96[_0x3a96af(0x101)]=_0x3a96af(0x8f);const _0x2c9666=new this['_PassiveEntryParseState'](_0x589161,_0x429d96);await _0x2c9666[_0x3a96af(0x20d)]();let _0x5c5058=UtilApplications[_0x3a96af(0xdb)](UtilDataConverter[_0x3a96af(0x1ef)](_0x589161,{'displayName':_0x429d96['displayName'],'isActorItem':!![]}));const _0x4abd21=_0x589161[_0x3a96af(0x18b)]?JSON[_0x3a96af(0xa7)](_0x589161[_0x3a96af(0x18b)]):null;let _0x1d20f5=null;if(_0x589161[_0x3a96af(0x1f4)]){const _0x24eeaa=/{@recharge( \d+)?}/gi[_0x3a96af(0xd0)](_0x589161['name']);_0x24eeaa&&(_0x1d20f5=_0x24eeaa[0x1]?Number(_0x24eeaa[0x1][_0x3a96af(0x151)]()):0x6,_0x5c5058=_0x5c5058[_0x3a96af(0x167)](/\(Recharge \d+(–\d+)?\)/gi,'')[_0x3a96af(0x151)]()[_0x3a96af(0x167)](/[ ]+/g,'\x20'));}this[_0x3a96af(0x178)]({'entry':_0x589161,'opts':_0x429d96,'state':_0x2c9666});let {usesCount:_0x421657,usesCountMax:_0x386da9,usesPer:_0x494cab,name:_0x3b4d51,activationType:_0x29a46e,activationCondition:_0x4784fb}=this[_0x3a96af(0x212)]({'entry':_0x589161,'opts':_0x429d96,'name':_0x5c5058,'activationType':_0x2c9666[_0x3a96af(0x12c)],'activationCondition':_0x2c9666[_0x3a96af(0xc4)],'strEntries':_0x4abd21,'consumeType':_0x2c9666['consumeType']});_0x5c5058=_0x3b4d51,_0x2c9666[_0x3a96af(0x12c)]=_0x29a46e,_0x2c9666[_0x3a96af(0xc4)]=_0x4784fb,this[_0x3a96af(0xe2)]({'entry':_0x589161,'opts':_0x429d96,'strEntries':_0x4abd21,'state':_0x2c9666});_0x429d96[_0x3a96af(0x101)]===_0x3a96af(0x1ae)&&_0x589161[_0x3a96af(0x18b)]&&UtilDataConverter[_0x3a96af(0xba)]['walk'](_0x589161['entries'],{'string':_0x16160c=>{const _0x12cb0e=_0x3a96af;if(_0x2c9666[_0x12cb0e(0x9d)]||_0x2c9666[_0x12cb0e(0xb4)])return;_0x16160c[_0x12cb0e(0x167)](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x58487c)=>{const _0x146007=_0x12cb0e;_0x2c9666['durationValue']=Number(_0x58487c[0x1]),_0x2c9666['durationUnits']=_0x58487c[0x2][_0x146007(0x152)]();}),_0x16160c[_0x12cb0e(0x167)](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x4bb6dd)=>{const _0xdf238a=_0x12cb0e;_0x2c9666[_0xdf238a(0x9d)]=Number(_0x4bb6dd[0x1]),_0x2c9666[_0xdf238a(0xb4)]=_0x4bb6dd[0x2][_0xdf238a(0x152)]();}),_0x16160c['replace'](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x3b25d)=>{const _0x2d087e=_0x12cb0e;_0x2c9666[_0x2d087e(0x9d)]=Number(_0x3b25d[0x1]),_0x2c9666[_0x2d087e(0xb4)]=_0x3b25d[0x2][_0x2d087e(0x152)]();}),_0x16160c[_0x12cb0e(0x167)](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x320802)=>{_0x2c9666['durationValue']=Number(_0x320802[0x1]),_0x2c9666['durationUnits']=_0x320802[0x2]['toLowerCase']();}),_0x16160c[_0x12cb0e(0x167)](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{const _0xaf3032=_0x12cb0e;_0x2c9666[_0xaf3032(0x9d)]=0x1,_0x2c9666['durationUnits']=_0xaf3032(0x20a);}),Renderer[_0x12cb0e(0xb0)](_0x16160c)[_0x12cb0e(0x167)](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0x45b70c)=>{const _0x5e9b56=_0x12cb0e;_0x2c9666[_0x5e9b56(0x9d)]=Number(_0x45b70c[0x1]),_0x2c9666[_0x5e9b56(0xb4)]=_0x45b70c[0x2][_0x5e9b56(0x152)]();});}});_0x429d96['mode']==='player'&&_0x589161[_0x3a96af(0x18b)]&&UtilDataConverter['WALKER_READONLY_GENERIC'][_0x3a96af(0x21a)](_0x589161['entries'],{'string':_0x384231=>{const _0x4d5dde=_0x3a96af;if(_0x2c9666[_0x4d5dde(0x1b0)]||_0x2c9666['consumeTarget']||_0x2c9666[_0x4d5dde(0xee)])return;_0x384231[_0x4d5dde(0x167)](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0x598b69)=>{const _0x2e8b1c=_0x4d5dde;_0x2c9666[_0x2e8b1c(0x1b0)]=_0x2e8b1c(0x1fc),_0x2c9666[_0x2e8b1c(0x217)]=_0x2e8b1c(0x1b7),_0x2c9666[_0x2e8b1c(0xee)]=Number(_0x598b69[0x1]||_0x598b69[0x2]);});}});let _0x18d003=_0x4abd21;if((_0x429d96['mode']===_0x3a96af(0x1ae)||_0x429d96['mode']===_0x3a96af(0x1c1))&&_0x589161[_0x3a96af(0x18b)]&&!_0x2c9666[_0x3a96af(0x138)][_0x3a96af(0x18c)]){const {str:_0x474a1f,damageTupleMetas:_0x5e2f86}=DataConverter['getDamageTupleMetas'](_0x4abd21,{'summonSpellLevel':_0x429d96['summonSpellLevel']});_0x18d003=_0x474a1f;const {damageParts:_0x5c6791,formula:_0x500745}=DataConverter[_0x3a96af(0x14a)](_0x5e2f86);_0x2c9666[_0x3a96af(0x138)]=_0x5c6791,_0x2c9666['formula']=_0x2c9666[_0x3a96af(0x210)]??_0x500745;}(_0x429d96[_0x3a96af(0x101)]===_0x3a96af(0x1ae)||_0x429d96[_0x3a96af(0x101)]===_0x3a96af(0x1c1))&&_0x589161[_0x3a96af(0x18b)]&&_0x2c9666[_0x3a96af(0x210)]==null&&_0x18d003['replace'](/{(?:@dice|@scaledice) ([^|}]+)(?:\|[^}]+)?}/i,(..._0x17ad76)=>{const _0x2294b1=_0x3a96af,[_0x196fe4]=_0x17ad76[0x1]['split']('|');_0x2c9666[_0x2294b1(0x210)]=_0x196fe4;});if(_0x429d96[_0x3a96af(0x101)]===_0x3a96af(0x8f)&&_0x4abd21&&!_0x2c9666['targetValue']&&!_0x2c9666[_0x3a96af(0xbd)]&&!_0x2c9666['targetType']){const _0x35d72f=this[_0x3a96af(0x187)](_0x4abd21);_0x2c9666[_0x3a96af(0x185)]=_0x35d72f['targetValue']||_0x2c9666[_0x3a96af(0x185)],_0x2c9666[_0x3a96af(0xbd)]=_0x35d72f[_0x3a96af(0xbd)]||_0x2c9666[_0x3a96af(0xbd)],_0x2c9666[_0x3a96af(0x16c)]=_0x35d72f[_0x3a96af(0x16c)]||_0x2c9666[_0x3a96af(0x16c)];}this['_pGetItemActorPassive_mutActionType']({'entry':_0x589161,'opts':_0x429d96,'state':_0x2c9666});try{_0x2c9666[_0x3a96af(0xc4)]=Renderer['stripTags'](_0x2c9666['activationCondition']);}catch(_0x109ca1){console[_0x3a96af(0x1c6)](...LGT,_0x109ca1);}if((_0x2c9666[_0x3a96af(0x1b0)]||_0x494cab||_0x429d96[_0x3a96af(0xa3)]?.[_0x3a96af(0x113)]||_0x429d96[_0x3a96af(0xa3)]?.[_0x3a96af(0xa1)]?.['type']||_0x429d96[_0x3a96af(0xa3)]?.[_0x3a96af(0x143)]||_0x429d96[_0x3a96af(0xa3)]?.['uses']?.[_0x3a96af(0x14d)])&&!_0x2c9666[_0x3a96af(0x12c)])_0x2c9666['activationType']=_0x3a96af(0x11b);_0x5c5058=_0x5c5058[_0x3a96af(0x151)]()[_0x3a96af(0x167)](/\s+/g,'\x20');if(!_0x5c5058)_0x5c5058='(Unnamed)';const _0x2ab5ae={..._0x589161};if(_0x429d96['source']!=null)_0x2ab5ae['source']=_0x429d96[_0x3a96af(0x150)];if(_0x429d96[_0x3a96af(0x218)]!=null)_0x2ab5ae['page']=_0x429d96['page'];return{'name':_0x5c5058,'type':_0x429d96[_0x3a96af(0x202)]||_0x3a96af(0xd9),'data':{'source':UtilDataConverter[_0x3a96af(0x97)](_0x2ab5ae),'description':{'value':_0x2c9666['description'],'chat':'','unidentified':''},'damage':{'parts':_0x2c9666[_0x3a96af(0x138)],'versatile':''},'duration':{'value':_0x2c9666[_0x3a96af(0x9d)],'units':_0x2c9666[_0x3a96af(0xb4)]},'range':{'value':_0x2c9666[_0x3a96af(0x21e)],'long':_0x2c9666[_0x3a96af(0x171)],'units':_0x2c9666[_0x3a96af(0x21e)]!=null||_0x2c9666[_0x3a96af(0x171)]!=null?'ft':''},'requirements':_0x2c9666['requirements'],'save':{'ability':_0x2c9666['saveAbility'],'dc':_0x2c9666[_0x3a96af(0x1e4)],'scaling':_0x2c9666['saveScaling']||'flat'},'activation':{'type':_0x2c9666[_0x3a96af(0x12c)],'cost':_0x2c9666['activationCost'],'condition':_0x2c9666[_0x3a96af(0xc4)]},'target':{'value':_0x2c9666['targetValue'],'units':_0x2c9666[_0x3a96af(0xbd)],'type':_0x2c9666['targetType']},'uses':{'value':_0x421657,'max':_0x386da9,'per':_0x494cab},'ability':_0x2c9666[_0x3a96af(0x1d5)],'actionType':_0x2c9666['actionType'],'attackBonus':_0x2c9666[_0x3a96af(0x1f3)],'chatFlavor':'','critical':{'threshold':null,'damage':''},'formula':_0x2c9666[_0x3a96af(0x210)],'recharge':{'value':_0x1d20f5,'charged':_0x1d20f5!=null},'consume':{'type':_0x2c9666[_0x3a96af(0x1b0)],'target':_0x2c9666[_0x3a96af(0x217)],'amount':_0x2c9666[_0x3a96af(0xee)]},..._0x2c9666[_0x3a96af(0x160)]||{},..._0x429d96[_0x3a96af(0xa3)]||{}},'img':_0x55ec43,'flags':{...UtilCompat[_0x3a96af(0x10a)]({'isReaction':_0x2c9666[_0x3a96af(0x12c)]===_0x3a96af(0x174)}),..._0x2c9666[_0x3a96af(0x1f5)]||{},..._0x429d96[_0x3a96af(0x140)]},'effects':[..._0x429d96[_0x3a96af(0x16e)]||[],..._0x2c9666[_0x3a96af(0xb9)]]};}static[_0x3c65bb(0x178)]({entry:_0x118f01,opts:_0x7f51a5,state:_0x5592f5}){const _0x590d18=_0x3c65bb;this[_0x590d18(0xc1)]({'entry':_0x118f01,'opts':_0x7f51a5,'state':_0x5592f5}),this[_0x590d18(0x9e)]({'entry':_0x118f01,'opts':_0x7f51a5,'state':_0x5592f5});}static[_0x3c65bb(0xc1)]({entry:_0x2943e1,opts:_0x2da69c,state:_0x256160}){const _0xd4c758=_0x3c65bb;if(_0x2da69c['mode']!=='player'||!_0x2943e1[_0xd4c758(0x18b)]?.['length'])return;if(_0x256160[_0xd4c758(0x12c)]||_0x256160[_0xd4c758(0x131)])return;let _0x13c870=![],_0x1ef6c3=![],_0x5c4346=![];UtilDataConverter['WALKER_READONLY_GENERIC']['walk'](_0x2943e1[_0xd4c758(0x18b)],{'string':_0x49d9ef=>{const _0x335632=_0xd4c758;if(_0x256160[_0x335632(0x12c)])return _0x49d9ef;const _0x5e5e4c=Util['getSentences'](_0x49d9ef);for(const _0x3ccc87 of _0x5e5e4c){if(/\b(?:as an action|can take an action|can use your action)\b/i[_0x335632(0x206)](_0x3ccc87)){_0x13c870=!![];break;}if(/\bbonus action\b/i[_0x335632(0x206)](_0x3ccc87)){_0x1ef6c3=!![];break;}const _0x5d78fc=/\b(?:your reaction|this special reaction|as a reaction)\b/i[_0x335632(0xd0)](_0x3ccc87);if(_0x5d78fc){_0x5c4346=!![];let _0x12df3f=_0x3ccc87[_0x335632(0x1e3)](0x0,_0x5d78fc[_0x335632(0x162)])[_0x335632(0x151)]()['replace'](/,$/,'');const _0x4a251a=/(^|\W)(?:if|when)(?:|\W)/i[_0x335632(0xd0)](_0x12df3f);_0x4a251a&&(_0x12df3f=_0x12df3f[_0x335632(0x1e3)](_0x4a251a[_0x335632(0x162)]+_0x4a251a[0x1][_0x335632(0x18c)])[_0x335632(0x151)](),_0x256160[_0x335632(0xc4)]=_0x256160[_0x335632(0xc4)]||_0x12df3f);break;}}}});if(_0x13c870)_0x256160[_0xd4c758(0x12c)]='action';else{if(_0x1ef6c3)_0x256160[_0xd4c758(0x12c)]=_0xd4c758(0x19f);else{if(_0x5c4346)_0x256160['activationType']=_0xd4c758(0x174);}}if(_0x256160['activationType'])_0x256160['activationCost']=0x1;!_0x256160[_0xd4c758(0x12c)]&&UtilDataConverter[_0xd4c758(0xba)][_0xd4c758(0x21a)](_0x2943e1['entries'],{'string':_0x9fd687=>{const _0xfc3fbb=_0xd4c758;if(_0x256160['activationType'])return _0x9fd687;const _0x1bc281=Util[_0xfc3fbb(0x1ac)](_0x9fd687);for(const _0x750ee1 of _0x1bc281){if(/you can't use this feature again|once you use this feature/i[_0xfc3fbb(0x206)](_0x750ee1))_0x256160[_0xfc3fbb(0x12c)]=_0xfc3fbb(0x11b);}}});}static[_0x3c65bb(0x9e)]({entry:_0x53b14b,opts:_0x1358c1,state:_0x9e84b0}){const _0x2480d2=_0x3c65bb;if(_0x1358c1['mode']!==_0x2480d2(0x8f)||!_0x53b14b[_0x2480d2(0x18b)]?.[_0x2480d2(0x18c)]||!_0x53b14b['name'])return;if(_0x9e84b0[_0x2480d2(0x12c)]||_0x9e84b0[_0x2480d2(0x131)])return;MiscUtil['getWalker']({'isNoModification':!![],'keyBlacklist':MiscUtil[_0x2480d2(0x1fa)],'isBreakOnReturn':!![]})[_0x2480d2(0x21a)](_0x53b14b['entries'],{'string':_0x4e4299=>{const _0x5e71a6=_0x2480d2;if(/\bbonus action\b/i['test'](_0x4e4299))return _0x9e84b0[_0x5e71a6(0x12c)]=_0x5e71a6(0x19f),_0x9e84b0[_0x5e71a6(0x131)]=0x1,!![];}}),/^legendary resistance/i['test'](_0x53b14b['name'])&&(_0x9e84b0['activationType']=_0x2480d2(0x11b));}static['_pGetItemActorPassive_mutSave']({entry:_0x297a46,opts:_0x4d0446,strEntries:_0x378745,state:_0x2f828a}){const _0x30b27b=_0x3c65bb;this[_0x30b27b(0xf6)]({'entry':_0x297a46,'opts':_0x4d0446,'strEntries':_0x378745,'state':_0x2f828a}),this['_pGetItemActorPassive_mutSave_creature']({'entry':_0x297a46,'opts':_0x4d0446,'strEntries':_0x378745,'state':_0x2f828a});}static[_0x3c65bb(0xf6)]({entry:_0x54d1d1,opts:_0x362aad,strEntries:_0x1c58be,state:_0x48e2f2}){const _0xcaf76f=_0x3c65bb;if(_0x362aad['mode']!==_0xcaf76f(0x1ae)||!_0x54d1d1[_0xcaf76f(0x18b)]?.[_0xcaf76f(0x18c)])return;UtilDataConverter[_0xcaf76f(0xba)][_0xcaf76f(0x21a)](_0x54d1d1[_0xcaf76f(0x18b)],{'object':_0x228dac=>{const _0x45b9e5=_0xcaf76f;if(_0x228dac['type']!==_0x45b9e5(0x1de))return _0x228dac;if(_0x48e2f2[_0x45b9e5(0x1bd)]&&_0x48e2f2[_0x45b9e5(0x20b)])return _0x228dac;return _0x48e2f2[_0x45b9e5(0x1bd)]=_0x48e2f2['actionType']||'save',_0x48e2f2[_0x45b9e5(0x20b)]=_0x228dac['attributes'][0x0],_0x228dac;},'string':_0x5d9a3c=>{const _0x21f7dc=_0xcaf76f;if(_0x48e2f2[_0x21f7dc(0x1bd)]&&_0x48e2f2[_0x21f7dc(0x1ab)]&&_0x48e2f2[_0x21f7dc(0x20b)])return _0x5d9a3c;return _0x5d9a3c[_0x21f7dc(0x167)](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0x4b3d51)=>{const _0x512dd5=_0x21f7dc,_0x227853=[];_0x4b3d51[0x1][_0x512dd5(0x167)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0x2d3855)=>{const _0x282781=_0x512dd5;_0x227853[_0x282781(0xb8)](_0x2d3855[0x1][_0x282781(0x152)]()['slice'](0x0,0x3));});if(!_0x227853['length'])return;_0x48e2f2[_0x512dd5(0x1bd)]=_0x48e2f2[_0x512dd5(0x1bd)]||_0x512dd5(0x14f),_0x48e2f2[_0x512dd5(0x20b)]=_0x227853[0x0];}),_0x5d9a3c[_0x21f7dc(0x167)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x5ee65c)=>{const _0x35faad=_0x21f7dc;_0x48e2f2[_0x35faad(0x1bd)]=_0x48e2f2[_0x35faad(0x1bd)]||'save',_0x48e2f2[_0x35faad(0x1ab)]=_0x48e2f2[_0x35faad(0x1ab)]||_0x5ee65c[0x1][_0x35faad(0x152)]()[_0x35faad(0x1e3)](0x0,0x3),_0x48e2f2['saveScaling']=_0x48e2f2[_0x35faad(0x20b)]||_0x35faad(0x1c8);}),_0x5d9a3c['replace'](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0x270967)=>{const _0xb49046=_0x21f7dc;_0x48e2f2['actionType']=_0x48e2f2[_0xb49046(0x1bd)]||_0xb49046(0x14f),_0x48e2f2[_0xb49046(0x1ab)]=_0x48e2f2[_0xb49046(0x1ab)]||_0x270967[0x1][_0xb49046(0x152)]()[_0xb49046(0x1e3)](0x0,0x3),_0x48e2f2[_0xb49046(0x20b)]=_0x48e2f2[_0xb49046(0x20b)]||_0xb49046(0x1c8);}),_0x5d9a3c;}});}static[_0x3c65bb(0xd5)]({entry:_0x4fe4ac,opts:_0x22316d,strEntries:_0x14347a,state:_0xaa26ee}){const _0x5026d6=_0x3c65bb;if(_0x22316d['mode']!=='creature'||!_0x4fe4ac[_0x5026d6(0x18b)]?.[_0x5026d6(0x18c)])return;const _0x5e2a46=/{@dc (?<save>[^|}]+)(?:\|[^}]+)?}\s+(?<abil>Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i['exec'](_0x14347a);if(!_0x5e2a46)return;const {partsNonNumerical:_0x8e69c8,totalNumerical:_0x135bd3}=this[_0x5026d6(0xa6)](_0x5e2a46['groups'][_0x5026d6(0x14f)]);_0xaa26ee[_0x5026d6(0x1bd)]=_0xaa26ee[_0x5026d6(0x1bd)]||_0x5026d6(0x14f),_0xaa26ee[_0x5026d6(0x1ab)]=_0xaa26ee[_0x5026d6(0x1ab)]||_0x5e2a46[_0x5026d6(0x1f7)][_0x5026d6(0x189)][_0x5026d6(0x152)]()[_0x5026d6(0x1e3)](0x0,0x3),_0xaa26ee[_0x5026d6(0x1e4)]=_0x135bd3;if(_0x8e69c8[_0x5026d6(0x18c)]||_0x22316d['pb']==null||_0x22316d['entity']==null||Parser[_0x5026d6(0xe7)][_0x5026d6(0x136)](_0x740346=>_0x22316d[_0x5026d6(0xa2)][_0x740346]==null)){_0xaa26ee[_0x5026d6(0x20b)]=_0x5026d6(0x195);return;}const _0xed3497=_0xaa26ee['saveDc']-_0x22316d['pb']-0x8,_0xa0cdb2=Parser[_0x5026d6(0xe7)][_0x5026d6(0xfd)](_0x1edec8=>({'ability':_0x1edec8,'bonus':Parser[_0x5026d6(0xef)](_0x22316d[_0x5026d6(0xa2)][_0x1edec8])})),_0x569ead=_0xa0cdb2[_0x5026d6(0x96)](_0x151249=>_0x151249['bonus']===_0xed3497);if(_0x569ead['length']===0x1)_0xaa26ee[_0x5026d6(0x20b)]=_0xaa26ee[_0x5026d6(0x20b)]||_0x569ead[0x0][_0x5026d6(0x1d5)];else _0xaa26ee['saveScaling']=_0x5026d6(0x195);}static[_0x3c65bb(0x212)]({entry:_0x3b8138,opts:_0x39ead8,name:_0x56bbf9,activationType:_0x5edadb,activationCondition:_0x33731f,strEntries:_0x5cd75b,consumeType:_0x2f032e}){const _0x561be8=_0x3c65bb,_0x53a8d5={'name':_0x56bbf9,'activationType':_0x5edadb,'activationCondition':_0x33731f,'usesCount':_0x39ead8['usesCount']||0x0,'usesCountMax':_0x39ead8[_0x561be8(0xcf)]||'0','usesPer':_0x39ead8[_0x561be8(0xd3)]||null};return this[_0x561be8(0x104)]({'entry':_0x3b8138,'opts':_0x39ead8,'out':_0x53a8d5}),this[_0x561be8(0x205)]({'entry':_0x3b8138,'opts':_0x39ead8,'out':_0x53a8d5,'strEntries':_0x5cd75b,'consumeType':_0x2f032e}),_0x53a8d5;}static[_0x3c65bb(0x104)]({entry:_0x9dda7e,opts:_0x279ae5,out:_0x26945f}){const _0x44446b=_0x3c65bb;if(_0x279ae5[_0x44446b(0x101)]!==_0x44446b(0x8f)||!_0x9dda7e[_0x44446b(0x1f4)])return;_0x26945f[_0x44446b(0x1f4)]=_0x26945f[_0x44446b(0x1f4)]['replace'](/\(Recharges after a (?<restPart>[^)]+)\)/i,(..._0x4fc4fd)=>{const _0x5ae55b=_0x44446b;_0x26945f[_0x5ae55b(0x1bf)]=0x1,_0x26945f['usesCountMax']=''+_0x26945f[_0x5ae55b(0x1bf)];const _0x587f26=_0x4fc4fd[_0x5ae55b(0x1cb)]()[_0x5ae55b(0xf3)][_0x5ae55b(0x152)]();if(/\bshort\b/[_0x5ae55b(0x206)](_0x587f26))_0x26945f['usesPer']='sr';else/\blong\b/[_0x5ae55b(0x206)](_0x587f26)&&(_0x26945f['usesPer']='lr');return'';}),!_0x26945f[_0x44446b(0xd3)]&&(_0x26945f[_0x44446b(0x1f4)]=_0x26945f['name'][_0x44446b(0x167)](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0x2a7034)=>{const _0x2a32d=_0x44446b;_0x26945f[_0x2a32d(0x1bf)]=Number(_0x2a7034[0x1]),_0x26945f[_0x2a32d(0xcf)]=''+_0x26945f[_0x2a32d(0x1bf)];const _0x4014d7=_0x2a7034[0x2][_0x2a32d(0x151)]()[_0x2a32d(0x152)]();switch(_0x4014d7){case'day':_0x26945f[_0x2a32d(0xd3)]=_0x2a32d(0x12b);break;case'short\x20rest':_0x26945f[_0x2a32d(0xd3)]='sr';break;case _0x2a32d(0x92):_0x26945f[_0x2a32d(0xd3)]='lr';break;}return'';})),!_0x26945f[_0x44446b(0xd3)]&&(_0x26945f['name']=_0x26945f['name'][_0x44446b(0x167)](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x3610f8)=>{const _0x367ea6=_0x44446b;return _0x26945f[_0x367ea6(0x1bf)]=Number(_0x3610f8[0x1]),_0x26945f[_0x367ea6(0xcf)]=''+_0x26945f['usesCount'],_0x26945f[_0x367ea6(0xd3)]=_0x367ea6(0x172),'';})),_0x26945f[_0x44446b(0xd3)]&&(_0x26945f[_0x44446b(0x1f4)]=_0x26945f[_0x44446b(0x1f4)]['trim']()[_0x44446b(0x167)](/[ ]+/g,'\x20'),_0x26945f['activationType']=_0x26945f[_0x44446b(0x12c)]||_0x44446b(0x18a),_0x9dda7e['entries']&&typeof _0x9dda7e['entries'][0x0]===_0x44446b(0xfa)&&/^(?:If |When )/i[_0x44446b(0x206)](_0x9dda7e[_0x44446b(0x18b)][0x0][_0x44446b(0x151)]())&&(_0x26945f[_0x44446b(0xc4)]=_0x9dda7e[_0x44446b(0x18b)][0x0][_0x44446b(0x151)]())),/legendary resistance/gi[_0x44446b(0x206)](_0x26945f['name'])&&(_0x26945f[_0x44446b(0x1bf)]=0x0,_0x26945f[_0x44446b(0xcf)]=''+_0x26945f[_0x44446b(0x1bf)],_0x26945f[_0x44446b(0xd3)]=null);}static[_0x3c65bb(0x205)]({entry:_0x255a34,opts:_0x5ab43b,out:_0x277b52,strEntries:_0x5c6006,consumeType:_0xb7ff26}){const _0x178d02=_0x3c65bb;if(_0x5ab43b['mode']!==_0x178d02(0x1ae)||!_0x255a34[_0x178d02(0x18b)])return;if(_0xb7ff26===_0x178d02(0x172))return;const _0x369684=/\b(?:finish|complete) a short rest\b/['test'](_0x5c6006)||/\b(?:finish|complete) a short or long rest\b/['test'](_0x5c6006)||/\b(?:finish|complete) a short rest or a long rest\b/['test'](_0x5c6006)||/\b(?:finish|complete) a short or long rest\b/[_0x178d02(0x206)](_0x5c6006),_0x1f6801=!_0x369684&&/\b(?:finish|complete) a long rest\b/['test'](_0x5c6006);if(_0x369684)_0x277b52['usesPer']='sr';else{if(_0x1f6801)_0x277b52[_0x178d02(0xd3)]='lr';}const _0x5ab1cf=new RegExp(_0x178d02(0xd2)+Consts['TERMS_COUNT'][_0x178d02(0xfd)](_0x4ab8b6=>_0x4ab8b6[_0x178d02(0x214)]['join'](''))[_0x178d02(0xac)]('|')+_0x178d02(0x1fe)+Consts[_0x178d02(0x19e)]['map'](_0x4e66a7=>_0x4e66a7[_0x178d02(0x214)][_0x178d02(0xac)](''))[_0x178d02(0xac)]('|')+_0x178d02(0x1e6),'i')[_0x178d02(0xd0)](_0x5c6006);if(_0x5ab1cf&&_0x5ab43b[_0x178d02(0x159)]){const _0x177c80=_0x5ab1cf[0x2]['slice'](0x0,0x3)[_0x178d02(0x152)](),_0x8d1726=MiscUtil[_0x178d02(0x1b2)](_0x5ab43b['actor'],_0x178d02(0x114),_0x178d02(0x114),_0x178d02(0x1a5),_0x177c80,_0x178d02(0x157));if(_0x8d1726!=null){let _0x313b90=Parser[_0x178d02(0xef)](_0x8d1726),_0x2ed80f=_0x178d02(0xe4)+_0x177c80+_0x178d02(0x1a1);if(_0x5ab1cf[0x1]){const _0x1e2cfa=(Consts[_0x178d02(0x19e)][_0x178d02(0x199)](_0x3c0afe=>_0x3c0afe['tokens'][_0x178d02(0xac)]('\x20')===_0x5ab1cf[0x1][_0x178d02(0x151)]()[_0x178d02(0x152)]())||{})['count']||0x1;_0x313b90=_0x313b90*_0x1e2cfa,_0x2ed80f=_0x2ed80f+_0x178d02(0x193)+_0x1e2cfa;}if(_0x5ab1cf[0x3]){const _0x906346=(Consts[_0x178d02(0x19e)]['find'](_0x50400e=>_0x50400e['tokens'][_0x178d02(0xac)]('')===_0x5ab1cf[0x3][_0x178d02(0x151)]()[_0x178d02(0x152)]())||{})[_0x178d02(0x170)]||0x1;_0x313b90=Math[_0x178d02(0x21f)](_0x906346,_0x313b90),_0x2ed80f=_0x178d02(0x181)+_0x906346+',\x20'+_0x2ed80f+')';}_0x277b52[_0x178d02(0x1bf)]=_0x313b90,_0x277b52[_0x178d02(0xcf)]=_0x2ed80f;}}_0x5c6006[_0x178d02(0x167)](/you can use ([^.!?]+) a number of times equal to(?<mult> twice)? your proficiency bonus/i,(..._0x22d707)=>{const _0x560273=_0x178d02,_0x46025b=_0x22d707[_0x560273(0x1cb)]()[_0x560273(0xc2)]?Consts[_0x560273(0x19e)][_0x560273(0x199)](_0x5edc79=>CollectionUtil[_0x560273(0x1c2)](_0x5edc79[_0x560273(0x214)],_0x22d707[_0x560273(0x1cb)]()[_0x560273(0xc2)]['trim']()[_0x560273(0x152)]()[_0x560273(0x121)](/( )/g)))?.['count']||0x1:0x1;_0x277b52[_0x560273(0x1bf)]=_0x5ab43b[_0x560273(0x159)]?_0x5ab43b['actor'][_0x560273(0x1ad)]()[_0x560273(0x1ce)]*_0x46025b:null,_0x277b52[_0x560273(0xcf)]=_0x560273(0x163)+(_0x46025b>0x1?'\x20*\x20'+_0x46025b:'');}),_0x5c6006[_0x178d02(0x167)](/you can use this (?:feature|ability) (?<mult>once|twice|[a-zA-Z]+ times)/i,(..._0x446a0b)=>{const _0x25014b=_0x178d02,_0x175a57=Consts[_0x25014b(0x19e)][_0x25014b(0x199)](_0x2b8a37=>CollectionUtil[_0x25014b(0x1c2)](_0x2b8a37[_0x25014b(0x214)],_0x446a0b['last']()['mult'][_0x25014b(0x151)]()[_0x25014b(0x152)]()[_0x25014b(0x121)](/( )/g)))?.['count']||0x1;_0x277b52[_0x25014b(0x1bf)]=_0x175a57,_0x277b52[_0x25014b(0xcf)]=_0x175a57;}),_0x277b52[_0x178d02(0xd3)]&&!_0x277b52['usesCount']&&(!_0x277b52[_0x178d02(0xcf)]||_0x277b52[_0x178d02(0xcf)]==='0')&&(_0x277b52[_0x178d02(0x1bf)]=0x1,_0x277b52[_0x178d02(0xcf)]=''+_0x277b52['usesCount']);}static[_0x3c65bb(0x187)](_0x5ab89a){const _0x3873e7=_0x3c65bb;let _0x55bcf2,_0xb9e378,_0x18021c,_0x17a123=![],_0x4f47e1=_0x5ab89a[_0x3873e7(0x167)](/exhales [^.]*a (?<size>\d+)-foot[- ](?<shape>cone|line)/,(..._0x3e2332)=>{const _0x376caf=_0x3873e7;return _0x55bcf2=Number(_0x3e2332[_0x376caf(0x1cb)]()[_0x376caf(0xfc)]),_0xb9e378='ft',_0x18021c=_0x3e2332['last']()[_0x376caf(0x17e)],_0x17a123=!![],'';});if(_0x17a123)return{'targetValue':_0x55bcf2,'targetUnits':_0xb9e378,'targetType':_0x18021c};_0x4f47e1=_0x4f47e1[_0x3873e7(0x167)](/(?<size>\d+)-foot-radius,? \d+-foot-tall cylinder/,(..._0x12ebc2)=>{const _0x8062bd=_0x3873e7;return _0x55bcf2=Number(_0x12ebc2['last']()[_0x8062bd(0xfc)]),_0xb9e378='ft',_0x18021c=_0x8062bd(0xb1),_0x17a123=!![],'';});if(_0x17a123)return{'targetValue':_0x55bcf2,'targetUnits':_0xb9e378,'targetType':_0x18021c};_0x4f47e1=_0x4f47e1[_0x3873e7(0x167)](/(?<size>\d+)-foot[- ]radius(?<ptSphere> sphere)?/,(..._0x517729)=>{const _0x194b38=_0x3873e7;return _0x55bcf2=Number(_0x517729[_0x194b38(0x1cb)]()[_0x194b38(0xfc)]),_0xb9e378='ft',_0x18021c=_0x517729['last']()[_0x194b38(0x144)]?'sphere':'radius',_0x17a123=!![],'';});if(_0x17a123)return{'targetValue':_0x55bcf2,'targetUnits':_0xb9e378,'targetType':_0x18021c};_0x4f47e1=_0x4f47e1['replace'](/(?<size>\d+)-foot[- ]cube/,(..._0x5299ed)=>{const _0x10b3a1=_0x3873e7;return _0x55bcf2=Number(_0x5299ed[_0x10b3a1(0x1cb)]()['size']),_0xb9e378='ft',_0x18021c=_0x10b3a1(0x124),_0x17a123=!![],'';});if(_0x17a123)return{'targetValue':_0x55bcf2,'targetUnits':_0xb9e378,'targetType':_0x18021c};_0x4f47e1=_0x4f47e1[_0x3873e7(0x167)](/(?<size>\d+)-foot[- ]square/,(..._0x1f4977)=>{const _0x1accf1=_0x3873e7;return _0x55bcf2=Number(_0x1f4977[_0x1accf1(0x1cb)]()[_0x1accf1(0xfc)]),_0xb9e378='ft',_0x18021c=_0x1accf1(0xc9),_0x17a123=!![],'';});if(_0x17a123)return{'targetValue':_0x55bcf2,'targetUnits':_0xb9e378,'targetType':_0x18021c};_0x4f47e1=_0x4f47e1['replace'](/(?<size>\d+)-foot line/,(..._0x17c3a1)=>{const _0x5ba6eb=_0x3873e7;return _0x55bcf2=Number(_0x17c3a1[_0x5ba6eb(0x1cb)]()[_0x5ba6eb(0xfc)]),_0xb9e378='ft',_0x18021c=_0x5ba6eb(0x148),_0x17a123=!![],'';}),_0x4f47e1=_0x4f47e1[_0x3873e7(0x167)](/(?<size>\d+)-foot cone/,(..._0x472ddd)=>{const _0x1dcbaf=_0x3873e7;return _0x55bcf2=Number(_0x472ddd[_0x1dcbaf(0x1cb)]()[_0x1dcbaf(0xfc)]),_0xb9e378='ft',_0x18021c=_0x1dcbaf(0x8e),_0x17a123=!![],'';});if(_0x17a123)return{'targetValue':_0x55bcf2,'targetUnits':_0xb9e378,'targetType':_0x18021c};return{};}static[_0x3c65bb(0x1d1)]({entry:_0x581df7,opts:_0x54dde7,state:_0x26b105}){const _0x1bd2a5=_0x3c65bb;this[_0x1bd2a5(0xae)]({'entry':_0x581df7,'opts':_0x54dde7,'state':_0x26b105}),this[_0x1bd2a5(0x1af)]({'entry':_0x581df7,'opts':_0x54dde7,'state':_0x26b105});}static[_0x3c65bb(0xae)]({entry:_0xbf516a,opts:_0x498e34,state:_0x4cc082}){const _0x4d1d87=_0x3c65bb;if(_0x4cc082[_0x4d1d87(0x1bd)]||_0x498e34[_0x4d1d87(0x101)]!==_0x4d1d87(0x1ae)||!_0xbf516a['entries']?.[_0x4d1d87(0x18c)])return;const _0x3f3576=MiscUtil[_0x4d1d87(0x108)]({'keyBlacklist':MiscUtil[_0x4d1d87(0x1fa)],'isNoModification':!![],'isBreakOnReturn':!![]});_0x3f3576[_0x4d1d87(0x21a)](_0xbf516a[_0x4d1d87(0x18b)],{'string':_0x3b5972=>{const _0x36bc7a=_0x4d1d87,_0x1796b9=/you\b[^.!?]*\bmake a (?<type>melee|ranged) weapon attack/i[_0x36bc7a(0xd0)](_0x3b5972);if(_0x1796b9)return _0x4cc082['actionType']=_0x1796b9[_0x36bc7a(0x1f7)][_0x36bc7a(0x161)][_0x36bc7a(0x152)]()===_0x36bc7a(0x105)?_0x36bc7a(0x14b):_0x36bc7a(0x1d7),!![];const _0x310c62=/you\b[^.!?]*\bmake a (?<type>melee|ranged) spell attack/i[_0x36bc7a(0xd0)](_0x3b5972);if(_0x310c62)return _0x4cc082[_0x36bc7a(0x1bd)]=_0x310c62[_0x36bc7a(0x1f7)][_0x36bc7a(0x161)][_0x36bc7a(0x152)]()==='melee'?_0x36bc7a(0xf9):'rsak',!![];const _0x290eca=/creature\b[^.!?]*\bregains\b[^.!?]*\bhit points?/i['exec'](_0x3b5972);if(_0x290eca)return _0x4cc082['actionType']=_0x36bc7a(0x1d3),!![];}}),_0x4cc082[_0x4d1d87(0x1bd)]=_0x4cc082[_0x4d1d87(0x1bd)]||_0x4d1d87(0xa9);}static[_0x3c65bb(0x1af)]({entry:_0x277b61,opts:_0x4c4eb1,state:_0xd7ae5e}){const _0x87094f=_0x3c65bb;if(_0xd7ae5e[_0x87094f(0x1bd)]||_0x4c4eb1[_0x87094f(0x101)]!==_0x87094f(0x8f)||!_0x277b61['entries']?.['length'])return;_0xd7ae5e[_0x87094f(0x1bd)]=_0x87094f(0xa9);}static[_0x3c65bb(0xa0)](..._0x2c8a09){const _0x2a3a20=_0x3c65bb;_0x2c8a09=_0x2c8a09[_0x2a3a20(0x96)](Boolean);const _0x141e51=_0x2c8a09[_0x2a3a20(0xfd)](_0x3f7dc7=>this['_CASTER_PROGRESSIONS'][_0x2a3a20(0x122)](_0x3f7dc7))['filter'](_0x123433=>~_0x123433);if(!_0x141e51['length'])return null;return this[_0x2a3a20(0x17f)][Math['min'](..._0x141e51)];}static['getMaxCantripProgression'](..._0x37e9cc){const _0x3ad708=_0x3c65bb,_0x7f841a=[];return _0x37e9cc['filter'](Boolean)[_0x3ad708(0x12e)](_0x1db08e=>{_0x1db08e['forEach']((_0x1bd11b,_0x21dd15)=>{if(_0x7f841a[_0x21dd15]==null)return _0x7f841a[_0x21dd15]=_0x1bd11b;_0x7f841a[_0x21dd15]=Math['max'](_0x7f841a[_0x21dd15],_0x1bd11b);});}),_0x7f841a;}static async[_0x3c65bb(0x1e9)]({existingProficienciesSkills:_0x4ead98,existingProficienciesTools:_0x5135bb,existingProficienciesLanguages:_0x1b59eb,skillProficiencies:_0x4daacd,languageProficiencies:_0x508e69,toolProficiencies:_0x5878ae,skillToolLanguageProficiencies:_0x261f00,actorData:_0x593ae2,importOpts:_0x28e1a2,titlePrefix:_0x123152}){const _0x547938=_0x3c65bb;_0x261f00=this[_0x547938(0x18f)]({'skillProficiencies':_0x4daacd,'languageProficiencies':_0x508e69,'toolProficiencies':_0x5878ae,'skillToolLanguageProficiencies':_0x261f00});const _0x1179c8=await Charactermancer_OtherProficiencySelect['pGetUserInput']({'titlePrefix':_0x123152,'existingFvtt':{'skillProficiencies':_0x4ead98,'toolProficiencies':_0x5135bb,'languageProficiencies':_0x1b59eb},'available':_0x261f00});if(!_0x1179c8)return _0x28e1a2['isCancelled']=!![];if(_0x1179c8===VeCt[_0x547938(0x192)])return;this[_0x547938(0x1d6)]({'existingProfsActor':_0x4ead98,'formData':_0x1179c8,'actorData':_0x593ae2}),this[_0x547938(0x1c7)]({'existingProfsActor':_0x1b59eb,'formData':_0x1179c8,'formDataProp':_0x547938(0x1ed),'actorData':_0x593ae2,'opts':{'fnGetMappedItem':_0x44557e=>UtilActors[_0x547938(0xc0)](_0x44557e),'actorTraitProp':_0x547938(0x8d)}}),this[_0x547938(0x1c7)]({'existingProfsActor':_0x5135bb,'formData':_0x1179c8,'formDataProp':_0x547938(0x19c),'actorData':_0x593ae2,'opts':{'fnGetMappedItem':_0x25506d=>UtilActors[_0x547938(0x184)](_0x25506d),'actorTraitProp':_0x547938(0x1a3)}});}static[_0x3c65bb(0x18f)]({skillProficiencies:_0x3eaf0d,languageProficiencies:_0x51afc1,toolProficiencies:_0x4c180b,skillToolLanguageProficiencies:_0xa0eb1d}){const _0x5abe29=_0x3c65bb,_0x1edef0=_0x3eaf0d?.['length']||_0x51afc1?.[_0x5abe29(0x18c)]||_0x4c180b?.[_0x5abe29(0x18c)];if(!_0x1edef0)return _0xa0eb1d;if(!_0xa0eb1d?.[_0x5abe29(0x18c)]){const _0xa16fca=[];return this[_0x5abe29(0x180)]({'targetArray':_0xa16fca,'skillProficiencies':_0x3eaf0d,'languageProficiencies':_0x51afc1,'toolProficiencies':_0x4c180b}),_0xa16fca;}if(_0xa0eb1d?.[_0x5abe29(0x18c)]&&_0x1edef0)console[_0x5abe29(0x1d9)](...LGT,_0x5abe29(0x100));const _0x3ce27a=MiscUtil[_0x5abe29(0x183)](_0xa0eb1d||[]);return this[_0x5abe29(0x180)]({'targetArray':_0x3ce27a,'skillProficiencies':_0x3eaf0d,'languageProficiencies':_0x51afc1,'toolProficiencies':_0x4c180b}),_0x3ce27a;}static[_0x3c65bb(0x180)]({targetArray:_0x13121f,skillProficiencies:_0x1b3db6,languageProficiencies:_0x678fc1,toolProficiencies:_0x34be6b}){const _0x4d755c=_0x3c65bb,_0x535484=Math[_0x4d755c(0x21f)](_0x13121f?.[_0x4d755c(0x18c)]||0x0,_0x1b3db6?.['length']||0x0,_0x678fc1?.[_0x4d755c(0x18c)]||0x0,_0x34be6b?.['length']||0x0);for(let _0x358da7=0x0;_0x358da7<_0x535484;++_0x358da7){const _0x451812=_0x13121f[_0x358da7]={},_0x23a924=_0x1b3db6?.[_0x358da7],_0x2952e7=_0x678fc1?.[_0x358da7],_0x31c13f=_0x34be6b?.[_0x358da7];_0x23a924&&this[_0x4d755c(0x1cc)]({'targetObject':_0x451812,'profSet':_0x23a924,'validKeySet':new Set(Object[_0x4d755c(0x12d)](Parser['SKILL_TO_ATB_ABV'])),'anyKeySet':new Set([_0x4d755c(0x208)]),'anyKeySuffix':_0x4d755c(0x102)}),_0x2952e7&&this[_0x4d755c(0x1cc)]({'targetObject':_0x451812,'profSet':_0x2952e7,'anyKeySet':new Set(['any',_0x4d755c(0x11a)]),'anyKeySuffix':_0x4d755c(0xdf)}),_0x31c13f&&this[_0x4d755c(0x1cc)]({'targetObject':_0x451812,'profSet':_0x31c13f,'anyKeySet':new Set(['any']),'anyKeySuffix':_0x4d755c(0x123)});}}static[_0x3c65bb(0x1cc)]({targetObject:_0x54a426,profSet:_0x400940,validKeySet:_0x45feec,anyKeySet:_0x5380ae,anyKeySuffix:_0x20a583}){const _0x2e7d09=_0x3c65bb;Object[_0x2e7d09(0x18b)](_0x400940)[_0x2e7d09(0x12e)](([_0x35ae93,_0x2329c4])=>{const _0x54476f=_0x2e7d09;switch(_0x35ae93){case'choose':{if(_0x2329c4?.[_0x54476f(0x106)]?.['length']){const _0x225f27=MiscUtil[_0x54476f(0x183)](_0x2329c4);_0x225f27[_0x54476f(0x106)]=_0x225f27[_0x54476f(0x106)][_0x54476f(0x96)](_0x597408=>!_0x45feec||_0x45feec[_0x54476f(0xc3)](_0x597408));if(_0x225f27[_0x54476f(0x106)][_0x54476f(0x18c)]){const _0x311f05=_0x54a426[_0x54476f(0xdd)]=_0x54a426[_0x54476f(0xdd)]||[];_0x311f05[_0x54476f(0xb8)](_0x225f27);}}break;}default:{if(_0x5380ae&&_0x5380ae['has'](_0x35ae93)){_0x54a426[''+_0x35ae93+_0x20a583]=MiscUtil[_0x54476f(0x183)](_0x2329c4);break;}if(!_0x45feec||_0x45feec[_0x54476f(0xc3)](_0x35ae93))_0x54a426[_0x35ae93]=MiscUtil[_0x54476f(0x183)](_0x2329c4);}}});}static async[_0x3c65bb(0x1f2)](_0x25d3bd,_0x1227ea,_0x528da6,_0x213853,_0x53742b){const _0x361b6c=_0x3c65bb;_0x53742b=_0x53742b||{};if(!_0x1227ea)return{};_0x1227ea=Charactermancer_OtherProficiencySelect[_0x361b6c(0x220)](_0x1227ea);const _0x5c8af9=await Charactermancer_OtherProficiencySelect[_0x361b6c(0xb7)]({..._0x53742b,'existingFvtt':{'skillProficiencies':_0x25d3bd},'available':_0x1227ea});if(!_0x5c8af9)return _0x213853[_0x361b6c(0x13a)]=!![];if(_0x5c8af9===VeCt[_0x361b6c(0x192)])return;return this[_0x361b6c(0x1d6)]({'existingProfsActor':_0x25d3bd,'formData':_0x5c8af9,'actorData':_0x528da6});}static[_0x3c65bb(0x1d6)]({existingProfsActor:_0x246844,formData:_0x277221,actorData:_0x9c67a4}){const _0x3b22f3=_0x3c65bb;if(!_0x277221?.[_0x3b22f3(0x114)]?.['skillProficiencies'])return;const _0x1fd7da={};return _0x9c67a4['skills']=_0x9c67a4[_0x3b22f3(0x116)]||{},Object[_0x3b22f3(0x18b)](UtilActors[_0x3b22f3(0x215)])[_0x3b22f3(0x96)](([_0x59b92d,_0x4442fe])=>_0x277221['data']['skillProficiencies'][_0x4442fe])[_0x3b22f3(0x12e)](([_0x664b22,_0x298df6])=>{const _0x1bdec6=_0x3b22f3;_0x1fd7da[_0x664b22]=_0x277221[_0x1bdec6(0x114)][_0x1bdec6(0x1f6)][_0x298df6];const _0x1e6e03=Math[_0x1bdec6(0x21f)]((_0x246844[_0x664b22]||{})[_0x1bdec6(0x157)]||0x0,_0x277221[_0x1bdec6(0x114)]['skillProficiencies'][_0x298df6]!=null?Number(_0x277221[_0x1bdec6(0x114)][_0x1bdec6(0x1f6)][_0x298df6]):0x0,(_0x9c67a4[_0x1bdec6(0x116)][_0x664b22]||{})['value']||0x0),_0x4a39ee=_0x1e6e03>(MiscUtil[_0x1bdec6(0x1b2)](_0x9c67a4[_0x1bdec6(0x116)],_0x664b22,_0x1bdec6(0x157))||0x0);if(_0x4a39ee)(_0x9c67a4['skills'][_0x664b22]=_0x9c67a4[_0x1bdec6(0x116)][_0x664b22]||{})['value']=_0x1e6e03;}),_0x1fd7da;}static async[_0x3c65bb(0x1ea)](_0x530404,_0x187a9d,_0x3c519b,_0x6e6105,_0x5a98af){const _0x3c0f3a=_0x3c65bb;_0x5a98af=_0x5a98af||{};if(!_0x187a9d)return;_0x187a9d=Charactermancer_OtherProficiencySelect[_0x3c0f3a(0x9a)](_0x187a9d);const _0x8f6796=await Charactermancer_OtherProficiencySelect[_0x3c0f3a(0xb7)]({..._0x5a98af,'existingFvtt':{'languageProficiencies':_0x530404},'available':_0x187a9d});if(!_0x8f6796)return _0x6e6105['isCancelled']=!![];if(_0x8f6796===VeCt[_0x3c0f3a(0x192)])return;this[_0x3c0f3a(0xb5)]({'existingProfsActor':_0x530404,'formData':_0x8f6796,'actorData':_0x3c519b});}static[_0x3c65bb(0xb5)]({existingProfsActor:_0x499376,formData:_0x359bfe,actorData:_0x7f0ddd}){const _0x21db8d=_0x3c65bb;this['doApplyOtherProficienciesFormData']({'existingProfsActor':_0x499376,'formData':_0x359bfe,'formDataProp':_0x21db8d(0x1ed),'actorData':_0x7f0ddd,'opts':{'fnGetMappedItem':_0x37a029=>UtilActors['getMappedLanguage'](_0x37a029),'actorTraitProp':'languages'}});}static async[_0x3c65bb(0xab)](_0x4ef511,_0x310200,_0x565972,_0x5d9c4f,_0x32398a){const _0xe3fd34=_0x3c65bb;_0x32398a=_0x32398a||{};if(!_0x310200)return;_0x310200=Charactermancer_OtherProficiencySelect['getMappedToolProficiencies'](_0x310200);const _0x27a94a=await Charactermancer_OtherProficiencySelect[_0xe3fd34(0xb7)]({..._0x32398a,'existingFvtt':{'toolProficiencies':_0x4ef511},'available':_0x310200});if(!_0x27a94a)return _0x5d9c4f[_0xe3fd34(0x13a)]=!![];if(_0x27a94a===VeCt['SYM_UI_SKIP'])return;this['doApplyToolProficienciesFormDataToActorUpdate']({'existingProfsActor':_0x4ef511,'formData':_0x27a94a,'actorData':_0x565972});}static[_0x3c65bb(0x223)]({existingProfsActor:_0x1e2047,formData:_0x274c7d,actorData:_0x1e1eff}){const _0x2756d8=_0x3c65bb;this[_0x2756d8(0x1c7)]({'existingProfsActor':_0x1e2047,'formData':_0x274c7d,'formDataProp':_0x2756d8(0x19c),'actorData':_0x1e1eff,'opts':{'fnGetMappedItem':_0x5c9db6=>UtilActors[_0x2756d8(0x184)](_0x5c9db6),'actorTraitProp':_0x2756d8(0x1a3)}});}static async['pFillActorLanguageOrToolData'](_0x32f0ba,_0x1dd715,_0x3e90b2,_0x4c5e02,_0x170a1a,_0x14c5cd){const _0x221d32=_0x3c65bb;_0x14c5cd=_0x14c5cd||{};if(!_0x3e90b2)return;_0x3e90b2=Charactermancer_OtherProficiencySelect[_0x221d32(0x9a)](_0x3e90b2),_0x3e90b2=Charactermancer_OtherProficiencySelect[_0x221d32(0xbc)](_0x3e90b2);const _0x5f3da1=await Charactermancer_OtherProficiencySelect['pGetUserInput']({..._0x14c5cd,'existingFvtt':{'languageProficiencies':_0x32f0ba,'toolProficiencies':_0x1dd715},'available':_0x3e90b2});if(!_0x5f3da1)return _0x170a1a[_0x221d32(0x13a)]=!![];if(_0x5f3da1===VeCt['SYM_UI_SKIP'])return;this[_0x221d32(0x1c7)]({'existingProfsActor':_0x32f0ba,'formData':_0x5f3da1,'formDataProp':_0x221d32(0x1ed),'actorData':_0x4c5e02,'opts':{'fnGetMappedItem':_0xf0dc71=>UtilActors['getMappedLanguage'](_0xf0dc71),'actorTraitProp':_0x221d32(0x8d)}}),this[_0x221d32(0x1c7)]({'existingProfsActor':_0x1dd715,'formData':_0x5f3da1,'formDataProp':'toolProficiencies','actorData':_0x4c5e02,'opts':{'fnGetMappedItem':_0x358447=>UtilActors['getMappedTool'](_0x358447),'actorTraitProp':_0x221d32(0x1a3)}});}static async[_0x3c65bb(0x213)](_0x1abc05,_0x56516a,_0x23dc72,_0x471dac,_0x2b6f0b){const _0xcff147=_0x3c65bb;_0x2b6f0b=_0x2b6f0b||{};if(!_0x56516a)return;_0x56516a=Charactermancer_OtherProficiencySelect[_0xcff147(0x16b)](_0x56516a);const _0x160c11=await Charactermancer_OtherProficiencySelect['pGetUserInput']({..._0x2b6f0b,'existingFvtt':{'armorProficiencies':_0x1abc05},'available':_0x56516a});if(!_0x160c11)return _0x471dac[_0xcff147(0x13a)]=!![];if(_0x160c11===VeCt[_0xcff147(0x192)])return;this['doApplyArmorProficienciesFormDataToActorUpdate']({'existingProfsActor':_0x1abc05,'formData':_0x160c11,'actorData':_0x23dc72});}static['doApplyArmorProficienciesFormDataToActorUpdate']({existingProfsActor:_0x249082,formData:_0x809a11,actorData:_0x3378f5}){const _0x2f25d9=_0x3c65bb;this[_0x2f25d9(0x1c7)]({'existingProfsActor':_0x249082,'formData':_0x809a11,'formDataProp':_0x2f25d9(0xbb),'actorData':_0x3378f5,'opts':{'fnGetMappedItem':_0x14d3d6=>UtilActors[_0x2f25d9(0x20e)](_0x14d3d6),'fnGetMappedCustomItem':_0x3e5639=>Renderer[_0x2f25d9(0x1e1)](_0x3e5639)[0x0][_0x2f25d9(0x135)](),'actorTraitProp':_0x2f25d9(0x1ca)}});}static async[_0x3c65bb(0xc6)](_0xc8cd88,_0x47731d,_0x2dffa3,_0x5d1697,_0x471881){const _0x57b173=_0x3c65bb;_0x471881=_0x471881||{};if(!_0x47731d)return;_0x47731d=Charactermancer_OtherProficiencySelect[_0x57b173(0x1f0)](_0x47731d);const _0x56c664=await Charactermancer_OtherProficiencySelect[_0x57b173(0xb7)]({..._0x471881,'existingFvtt':{'weaponProficiencies':_0xc8cd88},'available':_0x47731d});if(!_0x56c664)return _0x5d1697[_0x57b173(0x13a)]=!![];if(_0x56c664===VeCt['SYM_UI_SKIP'])return;this[_0x57b173(0x204)]({'existingProfsActor':_0xc8cd88,'formData':_0x56c664,'actorData':_0x2dffa3});}static[_0x3c65bb(0x204)]({existingProfsActor:_0x3de285,formData:_0xeeb38d,actorData:_0x1edb00}){const _0x1e06bf=_0x3c65bb;this['doApplyOtherProficienciesFormData']({'existingProfsActor':_0x3de285,'formData':_0xeeb38d,'formDataProp':'weaponProficiencies','actorData':_0x1edb00,'opts':{'fnGetMappedItem':_0x3211a4=>UtilActors[_0x1e06bf(0x130)](_0x3211a4),'fnGetMappedCustomItem':_0x470f67=>Renderer[_0x1e06bf(0x1e1)](_0x470f67)[0x0]['toTitleCase'](),'actorTraitProp':_0x1e06bf(0x1c0)}});}static[_0x3c65bb(0x1c7)]({existingProfsActor:_0xbe62d4,formData:_0x5751c3,formDataProp:_0xba742f,actorData:_0x400475,opts:_0x38e178}){const _0x1b327f=_0x3c65bb;if(!_0x5751c3?.[_0x1b327f(0x114)]?.[_0xba742f])return![];_0xbe62d4=_0xbe62d4||{};const _0xe193fb=_0x5751c3[_0x1b327f(0x114)][_0xba742f];if(!Object['keys'](_0xe193fb)[_0x1b327f(0x18c)])return![];const _0x1c1ffd=MiscUtil[_0x1b327f(0x183)](_0xe193fb),_0x502917=new Set();Object[_0x1b327f(0x12d)](_0x1c1ffd)[_0x1b327f(0x96)](_0x73da93=>_0x1c1ffd[_0x73da93])[_0x1b327f(0x12e)](_0x4be145=>_0x502917['add'](_0x4be145));const _0x3fa54e=new Set(),_0x2a949b=[];(_0xbe62d4[_0x1b327f(0x157)]||[])[_0x1b327f(0x12e)](_0x2a8097=>_0x3fa54e[_0x1b327f(0x1e2)](_0x2a8097)),(_0xbe62d4[_0x1b327f(0xce)]||'')[_0x1b327f(0x121)](';')['map'](_0x308148=>_0x308148[_0x1b327f(0x151)]())[_0x1b327f(0x96)](Boolean)[_0x1b327f(0x12e)](_0x2d01cb=>this['_doApplyFormData_doCheckAddCustomItem'](_0x2a949b,_0x2d01cb));const _0x49e214=MiscUtil[_0x1b327f(0x1b2)](_0x400475,_0x1b327f(0x12f),_0x38e178[_0x1b327f(0x110)]);(_0x49e214?.[_0x1b327f(0x157)]||[])[_0x1b327f(0x12e)](_0x1e1f59=>_0x3fa54e[_0x1b327f(0x1e2)](_0x1e1f59)),(_0x49e214?.['custom']||'')[_0x1b327f(0x121)](';')[_0x1b327f(0xfd)](_0x4a976f=>_0x4a976f[_0x1b327f(0x151)]())[_0x1b327f(0x96)](Boolean)['forEach'](_0x252efc=>this[_0x1b327f(0x112)](_0x2a949b,_0x252efc)),_0x502917['forEach'](_0x113bda=>{const _0x456ace=_0x1b327f,_0x59736b=_0x38e178['fnGetMappedItem']?_0x38e178[_0x456ace(0xde)](_0x113bda):_0x113bda;if(_0x59736b)_0x3fa54e['add'](_0x59736b);else{const _0x2103b3=_0x38e178[_0x456ace(0xd4)]?_0x38e178[_0x456ace(0xd4)](_0x113bda):_0x113bda[_0x456ace(0x135)]();this[_0x456ace(0x112)](_0x2a949b,_0x2103b3);}});const _0x2fb91e=MiscUtil[_0x1b327f(0x1a9)](_0x400475,_0x1b327f(0x12f),_0x38e178['actorTraitProp'],{});_0x2fb91e[_0x1b327f(0x157)]=[..._0x3fa54e][_0x1b327f(0xfd)](_0x406890=>_0x406890[_0x1b327f(0x152)]())[_0x1b327f(0x182)](SortUtil[_0x1b327f(0x125)]),_0x2fb91e[_0x1b327f(0xce)]=_0x2a949b[_0x1b327f(0xac)](';');}static[_0x3c65bb(0x112)](_0x5a5111,_0x57587a){const _0x34a89d=_0x3c65bb,_0x3dacc6=_0x57587a[_0x34a89d(0x151)]()[_0x34a89d(0x152)]();if(!_0x5a5111[_0x34a89d(0x136)](_0x2fa797=>_0x2fa797[_0x34a89d(0x151)]()[_0x34a89d(0x152)]()===_0x3dacc6))_0x5a5111[_0x34a89d(0xb8)](_0x57587a);}static[_0x3c65bb(0x1d0)]({existingProfsActor:_0x202a94,formData:_0x13c43f,actorData:_0x3e5abf}){const _0x4fed18=_0x3c65bb;if(!_0x13c43f?.[_0x4fed18(0x114)]?.['savingThrowProficiencies'])return;_0x3e5abf[_0x4fed18(0x1a5)]=_0x3e5abf[_0x4fed18(0x1a5)]||{},Parser[_0x4fed18(0xe7)]['filter'](_0x27473f=>_0x13c43f[_0x4fed18(0x114)][_0x4fed18(0x129)][_0x27473f])[_0x4fed18(0x12e)](_0x47340f=>{const _0xaf80f9=_0x4fed18,_0x1dfbd3=Math['max'](_0x202a94[_0x47340f]?.[_0xaf80f9(0x13d)]||0x0,_0x13c43f['data'][_0xaf80f9(0x129)][_0x47340f]?0x1:0x0,_0x3e5abf[_0xaf80f9(0x1a5)][_0x47340f]?.['proficient']||0x0),_0x2d711e=_0x1dfbd3>(MiscUtil['get'](_0x3e5abf['abilities'],_0x47340f,_0xaf80f9(0x13d))||0x0);if(_0x2d711e)MiscUtil[_0xaf80f9(0x1a9)](_0x3e5abf[_0xaf80f9(0x1a5)],_0x47340f,_0xaf80f9(0x13d),_0x1dfbd3);});}static async[_0x3c65bb(0x158)](_0x57b6e3,_0x1b0300,_0xb4d42d,_0x5ad831,_0x2ee36c){const _0x4936b8=_0x3c65bb;_0x2ee36c=_0x2ee36c||{};const _0x8cf762=await Charactermancer_DamageImmunitySelect['pGetUserInput']({..._0x2ee36c,'existingFvtt':{'immune':_0x57b6e3},'available':_0x1b0300});if(!_0x8cf762)return _0x5ad831[_0x4936b8(0x13a)]=!![];if(_0x8cf762===VeCt[_0x4936b8(0x192)])return;this['doApplyDamageImmunityFormDataToActorUpdate']({'existingProfsActor':_0x57b6e3,'formData':_0x8cf762,'actorData':_0xb4d42d});}static async[_0x3c65bb(0x118)](_0x2dd241,_0x3432fc,_0xe88cbc,_0x92dc23,_0xf28dea){const _0x49ead2=_0x3c65bb;_0xf28dea=_0xf28dea||{};const _0x4c0b17=await Charactermancer_DamageResistanceSelect[_0x49ead2(0xb7)]({..._0xf28dea,'existingFvtt':{'resist':_0x2dd241},'available':_0x3432fc});if(!_0x4c0b17)return _0x92dc23[_0x49ead2(0x13a)]=!![];if(_0x4c0b17===VeCt[_0x49ead2(0x192)])return;this[_0x49ead2(0x13b)]({'existingProfsActor':_0x2dd241,'formData':_0x4c0b17,'actorData':_0xe88cbc});}static async[_0x3c65bb(0x1be)](_0x2b74e7,_0x3a2433,_0x5b8b3e,_0x31f72e,_0x50a197){const _0x3568aa=_0x3c65bb;_0x50a197=_0x50a197||{};const _0x127d89=await Charactermancer_DamageVulnerabilitySelect[_0x3568aa(0xb7)]({..._0x50a197,'existingFvtt':{'vulnerable':_0x2b74e7},'available':_0x3a2433});if(!_0x127d89)return _0x31f72e['isCancelled']=!![];if(_0x127d89===VeCt[_0x3568aa(0x192)])return;this[_0x3568aa(0x1da)]({'existingProfsActor':_0x2b74e7,'formData':_0x127d89,'actorData':_0x5b8b3e});}static async['pFillActorConditionImmunityData'](_0x9ebea3,_0x41c295,_0xa36d3f,_0x5e8204,_0x39cb97){const _0x689579=_0x3c65bb;_0x39cb97=_0x39cb97||{};const _0x20c950=await Charactermancer_ConditionImmunitySelect[_0x689579(0xb7)]({..._0x39cb97,'existingFvtt':{'conditionImmune':_0x9ebea3},'available':_0x41c295});if(!_0x20c950)return _0x5e8204[_0x689579(0x13a)]=!![];if(_0x20c950===VeCt[_0x689579(0x192)])return;this[_0x689579(0xd7)]({'existingProfsActor':_0x9ebea3,'formData':_0x20c950,'actorData':_0xa36d3f});}static[_0x3c65bb(0x15e)]({existingProfsActor:_0x54c4bd,formData:_0x2bbaef,actorData:_0x1c3765}){const _0x566bf9=_0x3c65bb;this[_0x566bf9(0x1c7)]({'existingProfsActor':_0x54c4bd,'formData':_0x2bbaef,'formDataProp':_0x566bf9(0xaa),'actorData':_0x1c3765,'opts':{'actorTraitProp':'di'}});}static[_0x3c65bb(0x13b)]({existingProfsActor:_0x2fa89b,formData:_0x529d5e,actorData:_0x4b096a}){const _0x32d911=_0x3c65bb;this['doApplyOtherProficienciesFormData']({'existingProfsActor':_0x2fa89b,'formData':_0x529d5e,'formDataProp':_0x32d911(0x1cd),'actorData':_0x4b096a,'opts':{'actorTraitProp':'dr'}});}static[_0x3c65bb(0x1da)]({existingProfsActor:_0x139088,formData:_0x36d12f,actorData:_0x2ddafd}){const _0x51d2d8=_0x3c65bb;this['doApplyOtherProficienciesFormData']({'existingProfsActor':_0x139088,'formData':_0x36d12f,'formDataProp':_0x51d2d8(0xf1),'actorData':_0x2ddafd,'opts':{'actorTraitProp':'dv'}});}static[_0x3c65bb(0xd7)]({existingProfsActor:_0x13a388,formData:_0x5c3595,actorData:_0x57a15e}){const _0x3397f3=_0x3c65bb;this[_0x3397f3(0x1c7)]({'existingProfsActor':_0x13a388,'formData':_0x5c3595,'formDataProp':_0x3397f3(0x16d),'actorData':_0x57a15e,'opts':{'fnGetMappedItem':_0x33f0c7=>_0x33f0c7===_0x3397f3(0x207)?'diseased':_0x33f0c7,'actorTraitProp':'ci'}});}static async['pFillActorExpertiseData']({existingProficienciesSkills:_0x3fbaab,existingProficienciesTools:_0x3557b2,expertise:_0x1b6119,actorData:_0x3d881f,importOpts:_0x360c5d,titlePrefix:_0xbf3675}){const _0x4f0698=_0x3c65bb,_0x36df6c=_0x3fbaab?MiscUtil[_0x4f0698(0x183)](_0x3fbaab):_0x3fbaab,_0x3f64c9=_0x3557b2?MiscUtil['copy'](_0x3557b2):_0x3557b2;_0x36df6c&&_0x3d881f[_0x4f0698(0x116)]&&Object[_0x4f0698(0x18b)](_0x3d881f[_0x4f0698(0x116)])['forEach'](([_0x45b0a3,_0x2ed62a])=>{const _0x142a5a=_0x4f0698;if(!_0x2ed62a)return;_0x36df6c[_0x45b0a3]=_0x36df6c[_0x45b0a3]||MiscUtil['copy'](_0x2ed62a),_0x36df6c[_0x45b0a3][_0x142a5a(0x157)]=Math[_0x142a5a(0x21f)](_0x36df6c[_0x45b0a3][_0x142a5a(0x157)],_0x2ed62a[_0x142a5a(0x157)]);});_0x3f64c9&&_0x3d881f[_0x4f0698(0x12f)]?.[_0x4f0698(0x1a3)]&&(_0x3f64c9[_0x4f0698(0x157)]=[..._0x3f64c9['value'],...MiscUtil['copy'](_0x3d881f[_0x4f0698(0x12f)][_0x4f0698(0x1a3)][_0x4f0698(0x157)]||[])][_0x4f0698(0x16a)]());const _0x59eb61=await Charactermancer_ExpertiseSelect[_0x4f0698(0xb7)]({'titlePrefix':_0xbf3675,'existingFvtt':{'skillProficiencies':_0x36df6c,'toolProficiencies':_0x3f64c9},'available':_0x1b6119});if(!_0x59eb61)return _0x360c5d[_0x4f0698(0x13a)]=!![];if(_0x59eb61===VeCt['SYM_UI_SKIP'])return;this[_0x4f0698(0x1d8)]({'existingProfsActor':{'skillProficiencies':_0x3fbaab,'toolProficiencies':_0x3557b2},'formData':_0x59eb61,'actorData':_0x3d881f});}static[_0x3c65bb(0x1d8)]({existingProfsActor:_0x57a393,formData:_0x21dbd0,actorData:_0x3a47ba}){const _0x2c2bfc=_0x3c65bb;this['doApplySkillFormDataToActorUpdate']({'existingProfsActor':_0x57a393['skillProficiencies'],'formData':_0x21dbd0,'actorData':_0x3a47ba}),this['doApplyOtherProficienciesFormData']({'existingProfsActor':_0x57a393['toolProficiencies'],'formData':_0x21dbd0,'formDataProp':_0x2c2bfc(0x19c),'actorData':_0x3a47ba,'opts':{'fnGetMappedItem':_0x20f838=>{const _0x12a172=_0x2c2bfc;if(_0x21dbd0?.[_0x12a172(0x114)]?.[_0x12a172(0x19c)][_0x20f838]===0x2)return null;return UtilActors[_0x12a172(0x184)](_0x20f838);},'fnGetMappedCustomItem':_0x1d957f=>{const _0x45114d=_0x2c2bfc;if(_0x21dbd0?.[_0x45114d(0x114)]?.[_0x45114d(0x19c)][_0x1d957f]===0x2)return _0x1d957f[_0x45114d(0x135)]()+_0x45114d(0xed);return _0x1d957f['toTitleCase']();},'actorTraitProp':'toolProf'}});}static[_0x3c65bb(0x9f)](_0x3c095b,{summonSpellLevel:summonSpellLevel=0x0}={}){const _0x4d557f=_0x3c65bb,_0x2d7277=[],_0x5d938f=_0x3c095b[_0x4d557f(0x122)](_0x4d557f(0xe1)),_0x1b16d8=_0x3c095b[_0x4d557f(0x167)](/(?:(\d+)|\(?{@(?:dice|damage) ([^|}]+)(?:\|[^}]+)?}(?:\s+[-+]\s+the spell's level)?(?: plus {@(?:dice|damage) ([^|}]+)(?:\|[^}]+)?})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0x676a2b)=>{const _0x4648e9=_0x4d557f,[,_0x51f9e6,_0x229af8,_0x1dea05,_0x2ba326,_0x45ff99]=_0x676a2b,_0x332276=_0x229af8?_0x229af8[_0x4648e9(0x121)]('|')[0x0]:null,_0x3a8de7=_0x1dea05?_0x1dea05[_0x4648e9(0x121)]('|')[0x0]:null,_0xbc20fa=_0x51f9e6!=null;let _0xa1393b=_0xbc20fa?_0x51f9e6:_0x3a8de7?_0x332276+_0x4648e9(0x15b)+_0x3a8de7:_0x332276;if(_0xbc20fa){const _0x49cb56=_0x3c095b[_0x4648e9(0x121)](/( )/g);let _0x173b98=0x0;const _0x435c60=[];for(let _0x57e78a=0x0;_0x57e78a<_0x49cb56['length'];++_0x57e78a){_0x435c60[_0x4648e9(0xb8)](_0x49cb56[_0x57e78a]),_0x173b98+=_0x49cb56[_0x57e78a][_0x4648e9(0x18c)];if(_0x173b98===_0x45ff99){const _0x4b4fe7=_0x435c60[_0x4648e9(0x1e3)](-0x4);if(/^by dealing$/i['test'](_0x4b4fe7[_0x4648e9(0xac)]('')['trim']()))return'';}}}_0xa1393b=_0xa1393b[_0x4648e9(0x167)](/\bPB\b/gi,_0x4648e9(0x145)),_0xa1393b=_0xa1393b['replace'](/\bsummonSpellLevel\b/gi,''+(summonSpellLevel??0x0));const _0x192f53={'tuple':[_0xa1393b,_0x2ba326]};return~_0x5d938f&&_0x45ff99>=_0x5d938f&&(_0x192f53[_0x4648e9(0xf0)]=!![]),_0x2d7277[_0x4648e9(0xb8)](_0x192f53),'';});return{'str':_0x1b16d8,'damageTupleMetas':_0x2d7277[_0x4d557f(0x96)](_0x2ccf01=>_0x2ccf01[_0x4d557f(0x17c)][_0x4d557f(0x18c)])};}static[_0x3c65bb(0x14a)](_0x10baa8){const _0x290272=_0x3c65bb;_0x10baa8=_0x10baa8||[];if(!Config[_0x290272(0x1b2)](_0x290272(0x1f9),'isUseOtherFormulaFieldForSaveHalvesDamage'))return{'damageParts':_0x10baa8[_0x290272(0xfd)](_0x1d710d=>_0x1d710d[_0x290272(0x17c)]),'formula':''};const _0x30fe16=[];let _0x4c6441='';_0x10baa8[_0x290272(0x12e)](_0x11d261=>{const _0x203565=_0x290272;if(_0x4c6441||!_0x11d261['isOnFailSavingThrow'])return _0x30fe16['push'](_0x11d261[_0x203565(0x17c)]);_0x4c6441=''+_0x11d261[_0x203565(0x17c)][0x0]+(_0x11d261[_0x203565(0x17c)][0x1]?'['+_0x11d261[_0x203565(0x17c)][0x1]+']':'');});if(!_0x30fe16['length'])return{'damageParts':_0x10baa8['map'](_0x41863b=>_0x41863b[_0x290272(0x17c)]),'formula':''};return{'damageParts':_0x30fe16,'formula':_0x4c6441};}static[_0x3c65bb(0x1a0)](_0x7a0248,_0x241eb6,_0x571ae5){const _0x3c7a32=_0x3c65bb;if(_0x7a0248==null)return null;if(typeof _0x7a0248===_0x3c7a32(0xd1))return _0x241eb6==='walk'?Config[_0x3c7a32(0x94)]({'configGroup':_0x571ae5,'originalValue':_0x7a0248,'originalUnit':_0x3c7a32(0x11e)}):null;const _0x32cc7d=_0x7a0248[_0x241eb6];if(_0x32cc7d==null)return null;if(typeof _0x32cc7d===_0x3c7a32(0xfb))return null;if(_0x32cc7d['number']!=null)return Config[_0x3c7a32(0x94)]({'configGroup':_0x571ae5,'originalValue':_0x32cc7d['number'],'originalUnit':_0x3c7a32(0x11e)});if(isNaN(_0x32cc7d))return null;return Config[_0x3c7a32(0x94)]({'configGroup':_0x571ae5,'originalValue':Number(_0x32cc7d),'originalUnit':_0x3c7a32(0x11e)});}static ['_SPEED_PROPS_IS_EQUAL_MAP']={'burrow':'burrow','climb':'climb','fly':'fly','swim':_0x3c65bb(0x1bb)};static async[_0x3c65bb(0x177)](_0x3ec46a,{actor:_0x169871,actorItem:_0x6dd4fe,iconEntity:_0x4253b2,iconPropCompendium:_0x1abf62}={}){const _0x56f6d3=_0x3c65bb;if(_0x3ec46a==null||typeof _0x3ec46a===_0x56f6d3(0xd1))return[];const _0x43feec=Object[_0x56f6d3(0x18b)](_0x3ec46a)[_0x56f6d3(0x96)](([_0x3f5567,_0x423b16])=>this[_0x56f6d3(0x91)][_0x3f5567]&&_0x423b16===!![]);if(!_0x43feec[_0x56f6d3(0x18c)])return[];const _0x2b0666=_0x4253b2&&_0x1abf62?await this[_0x56f6d3(0x173)](_0x4253b2,{'propCompendium':_0x1abf62}):undefined;return _0x43feec[_0x56f6d3(0xfd)](([_0x3b400d])=>{const _0x2d38e7=_0x56f6d3;return UtilActiveEffects[_0x2d38e7(0xdc)]({'key':_0x2d38e7(0x203)+this[_0x2d38e7(0x91)][_0x3b400d],'value':_0x2d38e7(0x201),'mode':CONST[_0x2d38e7(0x142)]['OVERRIDE'],'label':_0x3b400d['toTitleCase']()+_0x2d38e7(0x21c),'icon':_0x2b0666,'disabled':![],'priority':UtilActiveEffects[_0x2d38e7(0xaf)],'originActor':_0x169871,'originActorItem':_0x6dd4fe});});}static[_0x3c65bb(0xb3)](_0x56a825){const _0x2bc680=_0x3c65bb;if(typeof _0x56a825==='number')return![];return!!_0x56a825[_0x2bc680(0x219)];}static['getMovement'](_0x1e56d6,{configGroup:configGroup=null}={}){const _0x2f9e01=_0x3c65bb;return{'burrow':DataConverter[_0x2f9e01(0x1a0)](_0x1e56d6,_0x2f9e01(0xe8),configGroup),'climb':DataConverter[_0x2f9e01(0x1a0)](_0x1e56d6,_0x2f9e01(0x1b1),configGroup),'fly':DataConverter[_0x2f9e01(0x1a0)](_0x1e56d6,_0x2f9e01(0x146),configGroup),'swim':DataConverter['getSpeedValue'](_0x1e56d6,_0x2f9e01(0x1bb),configGroup),'walk':DataConverter[_0x2f9e01(0x1a0)](_0x1e56d6,_0x2f9e01(0x21a),configGroup),'units':Config[_0x2f9e01(0x109)]({'configGroup':configGroup,'originalUnit':'ft'}),'hover':DataConverter['isSpeedHover'](_0x1e56d6)};}static['getParsedWeaponEntryData'](_0x33a5e8,_0x557c5a){const _0x3813f1=_0x3c65bb;if(!(_0x557c5a['entries']&&_0x557c5a[_0x3813f1(0x18b)][0x0]&&typeof _0x557c5a[_0x3813f1(0x18b)][0x0]===_0x3813f1(0xfa)))return;const _0x3006c3=[];let _0xfc3099=0x0;const _0x2710cb=_0x557c5a[_0x3813f1(0x18b)][0x0];_0x3006c3[_0x3813f1(0xb8)](...DataConverter['getDamageTupleMetas'](_0x2710cb)[_0x3813f1(0x1b3)]);const {rangeShort:_0x2f42eb,rangeLong:_0x9c1965}=DataConverter[_0x3813f1(0x168)](_0x2710cb),_0xce200a=/{@hit ([^|}]+)(?:\|[^}]+)?}/gi[_0x3813f1(0xd0)](_0x2710cb);if(_0xce200a){const _0x43b174=Number(_0xce200a[0x1]);!isNaN(_0x43b174)&&(_0xfc3099=_0x43b174);}const {isAttack:_0x3692d6,actionType:_0x22d7b5,attackTypes:_0x4aab54}=DataConverter[_0x3813f1(0x1c9)](_0x2710cb);return{'damageTupleMetas':_0x3006c3,'isAttack':_0x3692d6,'rangeShort':_0x2f42eb,'rangeLong':_0x9c1965,'actionType':_0x22d7b5,'attackBonus':_0xfc3099,'attackTypes':_0x4aab54};}static[_0x3c65bb(0x168)](_0x3900f0){const _0x4173e7=_0x3c65bb;let _0x1ab0be=0x0,_0x2a0a03=0x0;const _0x4122e2=/range (\d+)\/(\d+) ft/gi[_0x4173e7(0xd0)](_0x3900f0);if(_0x4122e2)_0x1ab0be=Number(_0x4122e2[0x1]),_0x2a0a03=Number(_0x4122e2[0x2]);else{const _0x253711=/reach (\d+) ft/gi[_0x4173e7(0xd0)](_0x3900f0);_0x253711&&(_0x1ab0be=Number(_0x253711[0x1]));}return{'rangeShort':_0x1ab0be,'rangeLong':_0x2a0a03};}static[_0x3c65bb(0x1c9)](_0x93b1c2){const _0x4b9764=_0x3c65bb;let _0x13a092='',_0x1fccba=![],_0x14bd11='';const _0x19d606=/{@atk ([^}]+)}/gi[_0x4b9764(0xd0)](_0x93b1c2);if(_0x19d606){_0x14bd11=_0x19d606[0x1],_0x1fccba=!![];if(_0x14bd11[_0x4b9764(0x155)]('s')){if(_0x14bd11[_0x4b9764(0x155)]('m'))_0x13a092=_0x4b9764(0xf9);else _0x13a092=_0x4b9764(0x1cf);}else{if(_0x14bd11['includes']('m'))_0x13a092=_0x4b9764(0x14b);else{if(_0x14bd11['includes']('r'))_0x13a092='rwak';}}}return{'actionType':_0x13a092,'isAttack':_0x1fccba,'attackTypes':_0x14bd11};}static[_0x3c65bb(0x120)](_0x4aa316){const _0x5aa61d=_0x3c65bb,_0x39d3f0={},_0x45d3e0=new Set();let _0xdd60b7=[];this['_getActorDamageResImmVulnConditionImm_addDamageTypesOrConditionTypes']({'ent':_0x4aa316,'validTypesArr':UtilActors['VALID_DAMAGE_TYPES'],'fnRender':Parser['getFullImmRes'],'prop':'immune','allSet':_0x45d3e0,'customStack':_0xdd60b7}),_0x39d3f0['di']={'value':[..._0x45d3e0],'custom':_0xdd60b7['join'](',\x20')};const _0x3eec47=new Set();let _0x5c59f9=[];this[_0x5aa61d(0xd6)]({'ent':_0x4aa316,'validTypesArr':UtilActors[_0x5aa61d(0xcb)],'fnRender':Parser[_0x5aa61d(0x14c)],'prop':_0x5aa61d(0x1cd),'allSet':_0x3eec47,'customStack':_0x5c59f9}),_0x39d3f0['dr']={'value':[..._0x3eec47],'custom':_0x5c59f9[_0x5aa61d(0xac)](',\x20')};const _0x18964c=new Set();let _0x182c19=[];this[_0x5aa61d(0xd6)]({'ent':_0x4aa316,'validTypesArr':UtilActors[_0x5aa61d(0xcb)],'fnRender':Parser[_0x5aa61d(0x14c)],'prop':_0x5aa61d(0xf1),'allSet':_0x18964c,'customStack':_0x182c19}),_0x39d3f0['dv']={'value':[..._0x18964c],'custom':_0x182c19[_0x5aa61d(0xac)](',\x20')};const _0x1825f5=new Set();let _0x18379e=[];return this[_0x5aa61d(0xd6)]({'ent':_0x4aa316,'validTypesArr':UtilActors[_0x5aa61d(0xb6)],'fnRender':_0x2194e3=>Parser['getFullCondImm'](_0x2194e3,!![]),'prop':_0x5aa61d(0x16d),'allSet':_0x1825f5,'customStack':_0x18379e}),_0x39d3f0['ci']={'value':[..._0x1825f5],'custom':_0x18379e[_0x5aa61d(0xac)](',\x20')},_0x39d3f0;}static[_0x3c65bb(0xd6)]({ent:_0x3f83f1,validTypesArr:_0x3be899,fnRender:_0x31c9ef,prop:_0x29f569,allSet:_0x127afb,customStack:_0x5b8d07}){const _0x4c4e82=_0x3c65bb;if(!_0x3f83f1[_0x29f569])return;_0x3f83f1[_0x29f569][_0x4c4e82(0x12e)](_0x4f2e72=>{const _0x56834f=_0x4c4e82;if(_0x3be899['includes'](_0x4f2e72))_0x127afb['add'](_0x4f2e72);else{if(this[_0x56834f(0xa4)][_0x56834f(0xc3)](_0x29f569)&&_0x4f2e72[_0x29f569]&&_0x4f2e72[_0x29f569]instanceof Array&&CollectionUtil[_0x56834f(0x98)](new Set(_0x4f2e72[_0x29f569]),this[_0x56834f(0x1d2)])&&_0x4f2e72[_0x56834f(0xe9)]&&/\bnon[- ]?magical\b/[_0x56834f(0x206)](_0x4f2e72['note'])&&_0x4f2e72[_0x56834f(0x9c)])_0x127afb[_0x56834f(0x1e2)](_0x56834f(0x13e));else{const _0x48b04a=_0x31c9ef([_0x4f2e72]);_0x5b8d07['push'](_0x48b04a);}}});}static async[_0x3c65bb(0x1f1)](_0x391ae4,{propBrew:_0x6c0825,fnLoadJson:_0x5d4f4e,propJson:_0x2ae026,propsMatch:propsMatch=[_0x3c65bb(0x150),'name']}){const _0x503c30=_0x3c65bb,_0x1e1093=[];if(UtilCompat[_0x503c30(0x1a4)]()){const _0x2c04f1=propsMatch[_0x503c30(0xfd)](_0xfba15b=>_0x391ae4[_0xfba15b])[_0x503c30(0x96)](Boolean),_0xd81216=await UtilCompat[_0x503c30(0x197)](UtilCompat['MODULE_PLUTONIUM_ADDON_DATA'])[_0x503c30(0x95)](_0x2ae026,..._0x2c04f1),_0x580101=(_0xd81216?.[_0x2ae026]||[])[_0x503c30(0x199)](_0x2391e0=>this['_pGetAdditional_fnMatch'](_0x391ae4,_0x2391e0,propsMatch));if(_0x580101)_0x1e1093[_0x503c30(0xb8)](_0x580101);}if(_0x6c0825){const _0x31238c=(MiscUtil[_0x503c30(0x1b2)](BrewUtil,_0x503c30(0x21d),_0x6c0825)||[])[_0x503c30(0x199)](_0x12d663=>this[_0x503c30(0x19d)](_0x391ae4,_0x12d663,propsMatch));if(_0x31238c)_0x1e1093[_0x503c30(0xb8)](_0x31238c);}if(_0x5d4f4e&&_0x2ae026){const _0x2f9e66=await _0x5d4f4e(),_0xd38e93=(_0x2f9e66[_0x2ae026]||[])[_0x503c30(0x199)](_0x22f8c9=>this[_0x503c30(0x19d)](_0x391ae4,_0x22f8c9,propsMatch));if(_0xd38e93)_0x1e1093[_0x503c30(0xb8)](_0xd38e93);}if(!_0x1e1093[_0x503c30(0x18c)])return null;if(_0x1e1093[_0x503c30(0x18c)]===0x1)return _0x1e1093[0x0];const _0xcb0c60=MiscUtil[_0x503c30(0x183)](_0x1e1093[0x0]);return delete _0xcb0c60[_0x503c30(0x186)],_0x1e1093['slice'](0x1)[_0x503c30(0x12e)]((_0xbf6763,_0x3ab41d)=>{const _0x2c5a01=_0x503c30;Object['entries'](_0xbf6763)[_0x2c5a01(0x96)](([_0xf1b880])=>_0xf1b880!==_0x2c5a01(0x186))[_0x2c5a01(0x12e)](([_0x5ceeb2,_0x50b297])=>{const _0x5be5bf=_0x2c5a01;if(_0xcb0c60[_0x5ceeb2]===undefined)return _0xcb0c60[_0x5ceeb2]=_0x50b297;const _0x29f9f3=_0x1e1093[_0x5be5bf(0x1e3)](0x0,_0x3ab41d+0x1);if(!_0x29f9f3[_0x5be5bf(0xda)](_0x415c78=>_0x415c78[_0x5ceeb2]===undefined||_0x415c78['merge']?.[_0x5ceeb2]))return;if(_0xcb0c60[_0x5ceeb2]==null)return _0xcb0c60[_0x5ceeb2]=_0x50b297;if(typeof _0xcb0c60[_0x5ceeb2]!==_0x5be5bf(0x17d))return _0xcb0c60[_0x5ceeb2]=_0x50b297;if(_0xcb0c60[_0x5ceeb2]instanceof Array){if(!(_0x50b297 instanceof Array))throw new Error(_0x5be5bf(0x1ee));return _0xcb0c60[_0x5ceeb2]=[..._0xcb0c60[_0x5ceeb2],..._0x50b297];}_0xcb0c60[_0x5ceeb2]=foundry[_0x5be5bf(0xbf)][_0x5be5bf(0x1df)](_0xcb0c60[_0x5ceeb2],_0x50b297);});}),_0xcb0c60;}static[_0x3c65bb(0x19d)](_0x2ac901,_0xbe232,_0x262cd0){return _0x262cd0['every'](_0x335ff4=>{const _0x342586=_0xde85;if(typeof _0x2ac901[_0x335ff4]===_0x342586(0xd1)||typeof _0xbe232[_0x335ff4]===_0x342586(0xd1))return Number(_0x2ac901[_0x335ff4])===Number(_0xbe232[_0x335ff4]);return(''+(_0x2ac901[_0x335ff4]||''))[_0x342586(0x152)]()===''+(_0xbe232[_0x335ff4]||'')['toLowerCase']();});}static async[_0x3c65bb(0x10e)](_0x3540f9,{propBrew:_0x169bff,fnLoadJson:_0x2d6928,propJson:_0x5118ca,propsMatch:_0x458871}){const _0xf3e97e=_0x3c65bb;return this[_0xf3e97e(0x1e0)](_0x3540f9,{'propBrew':_0x169bff,'fnLoadJson':_0x2d6928,'propJson':_0x5118ca,'propsMatch':_0x458871,'propFromEntity':'foundryData','propFromSideLoaded':_0xf3e97e(0x114)});}static async['pGetSideLoadedType_'](_0x195ffe,{propBrew:_0x16a6a7,fnLoadJson:_0x3339cc,propJson:_0x38727f,propsMatch:_0x6b3508,validTypes:_0x18fc6d}){const _0x57d8fa=_0x3c65bb;let _0x1fd663=await this[_0x57d8fa(0x1e0)](_0x195ffe,{'propBrew':_0x16a6a7,'fnLoadJson':_0x3339cc,'propJson':_0x38727f,'propsMatch':_0x6b3508,'propFromEntity':_0x57d8fa(0x137),'propFromSideLoaded':_0x57d8fa(0x161)});if(!_0x1fd663)return _0x1fd663;_0x1fd663=_0x1fd663[_0x57d8fa(0x152)]()[_0x57d8fa(0x151)]();if(_0x18fc6d&&!_0x18fc6d['has'](_0x1fd663))return null;return _0x1fd663;}static async[_0x3c65bb(0x119)](_0x236ce9,{propBrew:_0xf6025c,fnLoadJson:_0x49e847,propJson:_0x1d70b0,propsMatch:_0x2c1084}){const _0xcd11cf=_0x3c65bb;return this[_0xcd11cf(0x1e0)](_0x236ce9,{'propBrew':_0xf6025c,'fnLoadJson':_0x49e847,'propJson':_0x1d70b0,'propsMatch':_0x2c1084,'propFromEntity':_0xcd11cf(0x1b8),'propFromSideLoaded':_0xcd11cf(0x16e)});}static async['_pGetStarSideLoaded'](_0x28ae27,{propBrew:_0x438458,fnLoadJson:_0x404c0a,propJson:_0x2bfd3d,propsMatch:_0x4674bf,propFromEntity:_0x3127ea,propFromSideLoaded:_0x474901}){const _0x17214d=_0x3c65bb,_0x2337eb=await this[_0x17214d(0x1f1)](_0x28ae27,{'propBrew':_0x438458,'fnLoadJson':_0x404c0a,'propJson':_0x2bfd3d,'propsMatch':_0x4674bf});return this[_0x17214d(0x1a8)](_0x28ae27,{'propFromEntity':_0x3127ea,'propFromSideLoaded':_0x474901,'found':_0x2337eb});}static async[_0x3c65bb(0x1a8)](_0x595284,{propFromEntity:_0x252866,propFromSideLoaded:_0x2bc439,found:_0x82752d}){const _0xd9502=_0x3c65bb,_0x14075a=_0x595284[_0x252866];if((!_0x82752d||!_0x82752d[_0x2bc439])&&!_0x14075a)return null;const _0x20fe1a=MiscUtil[_0xd9502(0x183)](_0x82752d?.[_0x2bc439]?_0x82752d[_0x2bc439]:_0x14075a);if(_0x82752d?.[_0x2bc439]&&_0x14075a){if(_0x20fe1a instanceof Array)_0x20fe1a['push'](...MiscUtil[_0xd9502(0x183)](_0x14075a));else Object['assign'](_0x20fe1a,MiscUtil['copy'](_0x14075a));}return _0x20fe1a;}static async[_0x3c65bb(0x21b)](_0xf1b07e,{propBrew:_0x1ddb28,fnLoadJson:_0x444673,propJson:_0x38c51b,propsMatch:_0x2b82dc}){const _0x43cd66=_0x3c65bb;return this[_0x43cd66(0x1e0)](_0xf1b07e,{'propBrew':_0x1ddb28,'fnLoadJson':_0x444673,'propJson':_0x38c51b,'propsMatch':_0x2b82dc,'propFromEntity':'foundryFlags','propFromSideLoaded':_0x43cd66(0x10b)});}static async[_0x3c65bb(0x19b)](_0x480e23,{propBrew:_0x12b372,fnLoadJson:_0x5456b7,propJson:_0x16c5eb,propsMatch:_0x3fd34f}){const _0x2c0050=_0x3c65bb;return this[_0x2c0050(0x1e0)](_0x480e23,{'propBrew':_0x12b372,'fnLoadJson':_0x5456b7,'propJson':_0x16c5eb,'propsMatch':_0x3fd34f,'propFromEntity':_0x2c0050(0x1e5),'propFromSideLoaded':'img'});}static async['_pGetIsIgnoredSideLoaded_'](_0x10b8c2,{propBrew:_0x238537,fnLoadJson:_0x47c3bb,propJson:_0x2fa9a8,propsMatch:_0x3ad00c}){const _0x4da2bc=_0x3c65bb;return this[_0x4da2bc(0x1e0)](_0x10b8c2,{'propBrew':_0x238537,'fnLoadJson':_0x47c3bb,'propJson':_0x2fa9a8,'propsMatch':_0x3ad00c,'propFromEntity':_0x4da2bc(0xcd),'propFromSideLoaded':_0x4da2bc(0x1b9)});}static['getImportedEmbed'](_0x1d61ca,_0xf5be54){const _0x4df988=_0x3c65bb,_0x5b81ab=_0x1d61ca[_0x4df988(0x199)](_0xc3e4af=>_0xc3e4af[_0x4df988(0x1dc)]===_0xf5be54);if(!_0x5b81ab)return ui[_0x4df988(0x1aa)][_0x4df988(0x1d9)](_0x4df988(0x17b)+VeCt[_0x4df988(0xa8)]),console['warn'](...LGT,_0x4df988(0x11d),_0xf5be54,_0x4df988(0x1eb),_0x1d61ca),null;return _0x5b81ab;}static[_0x3c65bb(0x1b4)]({consumes:_0x123b8f,actor:_0x1162d2}){const _0x899a80=_0x3c65bb;return(_0x1162d2?.[_0x899a80(0x222)]?.['contents']||[])[_0x899a80(0x199)](_0x4d1d6a=>_0x4d1d6a[_0x899a80(0x161)]===_0x899a80(0xd9)&&_0x4d1d6a[_0x899a80(0x1f4)]['toLowerCase']()['trim']()===_0x123b8f['name'][_0x899a80(0x152)]()[_0x899a80(0x151)]());}static[_0x3c65bb(0x15c)](_0x5b41c7,_0x390e1f){const _0x19478e=_0x3c65bb;if(!_0x5b41c7)return;_0x5b41c7[_0x19478e(0x12e)](_0x3db143=>{const _0x2638b5=_0x19478e,_0x547ea2=this[_0x2638b5(0x1d4)](_0x3db143),_0x4e20c8=Config[_0x2638b5(0x1b2)](_0x390e1f,_0x2638b5(0xfe));switch(_0x4e20c8){case ConfigConsts[_0x2638b5(0xf8)]:_0x3db143[_0x2638b5(0xf4)]=_0x547ea2;break;case ConfigConsts[_0x2638b5(0x15d)]:_0x3db143[_0x2638b5(0xf4)]=![];break;case ConfigConsts[_0x2638b5(0x20f)]:_0x3db143[_0x2638b5(0xf4)]=!![];break;}const _0xf50342=Config['get'](_0x390e1f,_0x2638b5(0x103));switch(_0xf50342){case ConfigConsts[_0x2638b5(0xf8)]:_0x3db143['transfer']=_0x547ea2;break;case ConfigConsts[_0x2638b5(0x15d)]:_0x3db143[_0x2638b5(0x1e7)]=![];break;case ConfigConsts['C_BOOL_ENABLED']:_0x3db143[_0x2638b5(0x1e7)]=!![];break;}});}static[_0x3c65bb(0x1d4)](_0x164fac){const _0xaae07a=_0x3c65bb;if(_0x164fac?.[_0xaae07a(0xad)]?.['seconds']||_0x164fac?.[_0xaae07a(0xad)]?.[_0xaae07a(0xf5)]||_0x164fac?.[_0xaae07a(0xad)]?.['turns'])return![];if(UtilCompat[_0xaae07a(0xcc)]()){if(_0x164fac?.[_0xaae07a(0x10b)]?.['dae']?.[_0xaae07a(0x16f)]||(_0x164fac?.[_0xaae07a(0x10b)]?.[_0xaae07a(0xc8)]?.[_0xaae07a(0x1fb)]||[])[_0xaae07a(0x18c)])return![];}return!![];}}DataConverter[_0x3c65bb(0x13c)]='<PLUT_SYM__AT>',DataConverter[_0x3c65bb(0x164)]=new Set(['AT','GS',_0x3c65bb(0xff),'T']),DataConverter[_0x3c65bb(0x20c)]=new Set(['M','R']),DataConverter[_0x3c65bb(0xca)]=new Set(['LA','MA','HA','S']),DataConverter[_0x3c65bb(0xa4)]=new Set([_0x3c65bb(0xaa),_0x3c65bb(0x1cd),_0x3c65bb(0xf1)]),DataConverter['_SET_PHYSICAL_DAMAGE']=new Set([_0x3c65bb(0xea),_0x3c65bb(0x126),_0x3c65bb(0x117)]),DataConverter[_0x3c65bb(0x17f)]=[_0x3c65bb(0x13f),_0x3c65bb(0x190),_0x3c65bb(0x1f8),_0x3c65bb(0xd8),_0x3c65bb(0x1b6)];export{DataConverter};function _0x15fb(){const _0x3fe435=['fnGetMappedItem','Language','isPreferFoundryImages','{@dc\x20','_pGetItemActorPassive_mutSave','appendIfNotExistsArr','floor((@abilities.','_entry','PLUT_CONTEXT','ABIL_ABVS','burrow','note','bludgeoning','segregate','_pGetImagePath','\x20(Expertise)','consumeAmount','getAbilityModNumber','isOnFailSavingThrow','vulnerable','_pGetImgSideLoaded','restPart','disabled','rounds','_pGetItemActorPassive_mutSave_player','_getImgFallback','C_USE_PLUT_VALUE','msak','string','boolean','size','map','setEffectDisabled','INS','Founds\x20individual\x20skill/language/tool\x20proficiencies\x20alongside\x20combined\x20skill/language/tool;\x20these\x20will\x20be\x20merged\x20together.','mode','Skill','setEffectTransfer','_pGetItemActorPassive_getUses_creature','melee','from','conditionals','getWalker','getMetricUnitDistance','getFeatureFlags','flags','_pGetEffectsRawSideLoaded','mutActorUpdate','_pGetDataSideLoaded_','endsWith','actorTraitProp','pGetIconLookup','_doApplyFormData_doCheckAddCustomItem','consume.type','data','sideData','skills','slashing','pFillActorResistanceData','_pGetEffectsRawSideLoaded_','anyStandard','special','_pGetImagePath_pGetCompendiumImage','Could\x20not\x20find\x20loaded\x20item\x20data','feet','_mutActorUpdate_mutFromSideMod_handleProp','getActorDamageResImmVulnConditionImm','split','indexOf','Tool','cube','ascSortLower','piercing','modules/','prop','savingThrowProficiencies','_SIDE_LOAD_OPTS','day','activationType','keys','forEach','traits','getMappedWeaponProficiency','activationCost','scalarAddUnit','4783104gYhKjR','_pGetEffectsSideLoaded','toTitleCase','some','foundryType','damageParts','pGetIconImage','isCancelled','doApplyDamageResistanceFormDataToActorUpdate','SYM_AT','proficient','physical','full','additionalFlags','pGetItemActorPassive','ACTIVE_EFFECT_MODES','uses.per','ptSphere','@srd5e.userchar.pb','fly','605269LTJSCn','line','sum','getDamagePartsAndOtherFormula','mwak','getFullImmRes','per','_mutActorUpdate_mutFromSideMod','save','source','trim','toLowerCase','requirements','summonSpellLevel','includes','_pGetImagePath_','value','pFillActorImmunityData','actor','146527KoUdLk','\x20+\x20','mutEffectsDisabledTransfer','C_BOOL_DISABLED','doApplyDamageImmunityFormDataToActorUpdate','modeOptions','combinedFoundryData','type','index','@prof','ITEM_TYPES_ACTOR_TOOLS','WALKER_GENERIC','str','replace','getAttackRange','_pGetImgCustom','unique','getMappedArmorProficiencies','targetType','conditionImmune','effects','durationExpression','count','rangeLong','charges','_pGetSaveImagePath','reaction','assign','28677ykZGbf','pGetSpeedEffects','_pGetItemActorPassive_mutActivation','actorTokenMod','_pGetEntryDescription_getCleanDisplayPart','Failed\x20to\x20link\x20embedded\x20entity\x20for\x20active\x20effects!\x20','tuple','object','shape','_CASTER_PROGRESSIONS','_pFillActorSkillToolLanguageData_doMergeToSingleArray','max(','sort','copy','getMappedTool','targetValue','merge','_pGetItemActorPassive_getTargetMeta','_pGetDataSideLoaded','abil','none','entries','length','_pGetIsIgnoredSideLoaded_','{@dice\x201d20\x20+\x20@srd5e.userchar.spellAttackRanged|your\x20spell\x20attack\x20modifier}','_pFillActorSkillToolLanguageData_getMergedProfs','artificer','unitShort','SYM_UI_SKIP','\x20*\x20','_mutActorUpdate_mutFromSideTokenMod','flat','getExpandedEffects','getApi','renderDepth','find','MODULE_NAME','_pGetImgSideLoaded_','toolProficiencies','_pGetAdditional_fnMatch','TERMS_COUNT','bonus','getSpeedValue','.value\x20-\x2010)\x20/\x202)','reverse','toolProf','isPlutoniumAddonDataActive','abilities','bind','_displayName','_pGetStarSideLoadedFound','set','notifications','saveAbility','getSentences','getRollData','player','_pGetItemActorPassive_mutActionType_creature','consumeType','climb','get','damageTupleMetas','getConsumedSheetItem','getCombinedFoundryData','pact','resources.primary.value','foundryEffects','isIgnored','228058RZOjnZ','swim','depth','actionType','pFillActorVulnerabilityData','usesCount','weaponProf','vehicle','deepEquals','_pGetEntryDescription_getCleanDicePart','_pGetIsIgnoredSideLoaded','_getCompendiumAliases','error','doApplyOtherProficienciesFormData','spell','getAttackActionType','armorProf','last','_pFillActorSkillToolLanguageData_doAddProfType','resist','prof','rsak','doApplySavingThrowProficienciesFormDataToActorUpdate','_pGetItemActorPassive_mutActionType','_SET_PHYSICAL_DAMAGE','heal','_isPassiveEffect','ability','doApplySkillFormDataToActorUpdate','rwak','doApplyExpertiseFormDataToActorUpdate','warn','doApplyDamageVulnerabilityFormDataToActorUpdate','actorDataMod','raw','getTagUids','abilityDc','mergeObject','_pGetStarSideLoaded','splitTagByPipe','add','slice','saveDc','foundryImg',')\x5c))?','transfer','unit','pFillActorSkillToolLanguageData','pFillActorLanguageData','in\x20imported\x20embedded\x20entities','1365IHEmyd','languageProficiencies','Could\x20not\x20merge\x20array\x20and\x20non-array','getNameWithSourcePart','getMappedWeaponProficiencies','_pGetSideLoadedMatch','pFillActorSkillData','attackBonus','name','combinedFoundryFlags','skillProficiencies','groups','1/2','import','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','specialDuration','attribute','4638yJAolK','))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20(','pOptionallySaveImageToServerAndGetUrl','Unhandled\x20mode\x20\x22','@attributes.movement.walk','fvttType','data.attributes.movement.','doApplyWeaponProficienciesFormDataToActorUpdate','_pGetItemActorPassive_getUses_player','test','disease','any','joiner','turn','saveScaling','ITEM_TYPES_ACTOR_WEAPONS','pInit','getMappedArmorProficiency','C_BOOL_ENABLED','formula','_mutActorUpdate_mutFromSideDataMod','_pGetItemActorPassive_getUses','pFillActorArmorProfData','tokens','SKILL_ABV_TO_FULL','token','consumeTarget','page','canHover','walk','_pGetFlagsSideLoaded_','\x20Speed','homebrew','rangeShort','max','getMappedSkillProficiencies','pGetEntryDescription','items','doApplyToolProficienciesFormDataToActorUpdate','languages','cone','creature','isSkipDescription','_SPEED_PROPS_IS_EQUAL_MAP','long\x20rest','setMax','getMetricNumberDistance','pGetSideJson','filter','getSourceWithPagePart','setEq','_getSideLoadOpts','getMappedLanguageProficiencies','scalar','cond','durationValue','_pGetItemActorPassive_mutActivation_creature','getDamageTupleMetas','getMaxCasterProgression','consume','entity','additionalData','_PROPS_DAMAGE_IMM_VULN_RES','\x20([^}]+)}','_getProfBonusExpressionParts','stringify','STR_SEE_CONSOLE','other','immune','pFillActorToolProfData','join','duration','_pGetItemActorPassive_mutActionType_player','PRIORITY_BASE','stripTags','cylinder','_IMG_FALLBACK','isSpeedHover','durationUnits','doApplyLanguageProficienciesFormDataToActorUpdate','VALID_CONDITIONS','pGetUserInput','push','effectsAdditional','WALKER_READONLY_GENERIC','armorProficiencies','getMappedToolProficiencies','targetUnits','306304AjxXbJ','utils','getMappedLanguage','_pGetItemActorPassive_mutActivation_player','mult','has','activationCondition','condition','pFillActorWeaponProfData','_opts','dae','square','ITEM_TYPES_ACTOR_ARMOR','VALID_DAMAGE_TYPES','isDaeActive','foundryIsIgnored','custom','usesCountMax','exec','number','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','usesPer','fnGetMappedCustomItem','_pGetItemActorPassive_mutSave_creature','_getActorDamageResImmVulnConditionImm_addDamageTypesOrConditionTypes','doApplyConditionImmunityFormDataToActorUpdate','1/3','feat','every','getCleanEntityName','getGenericEffect','choose'];_0x15fb=function(){return _0x3fe435;};return _0x15fb();}