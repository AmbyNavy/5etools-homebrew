const _0x2dc70f=_0x4ba4;(function(_0xb9f1b0,_0x89f31){const _0x304a63=_0x4ba4,_0x13764c=_0xb9f1b0();while(!![]){try{const _0x2b5db7=parseInt(_0x304a63(0x30e))/0x1*(-parseInt(_0x304a63(0x22f))/0x2)+-parseInt(_0x304a63(0x324))/0x3+-parseInt(_0x304a63(0x1b2))/0x4*(-parseInt(_0x304a63(0x1c5))/0x5)+parseInt(_0x304a63(0x228))/0x6*(parseInt(_0x304a63(0x2a3))/0x7)+parseInt(_0x304a63(0x308))/0x8*(parseInt(_0x304a63(0x224))/0x9)+parseInt(_0x304a63(0x33c))/0xa+-parseInt(_0x304a63(0x356))/0xb*(-parseInt(_0x304a63(0x328))/0xc);if(_0x2b5db7===_0x89f31)break;else _0x13764c['push'](_0x13764c['shift']());}catch(_0x6698bd){_0x13764c['push'](_0x13764c['shift']());}}}(_0x1900,0x6673c));import{Vetools}from'./Vetools.js';import{LGT,Util}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterClass}from'./DataConverterClass.js';import{DataConverterClassSubclassFeature}from'./DataConverterClassSubclassFeature.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{ImportListFeat}from'./ImportListFeat.js';import{ImportListCharacter}from'./ImportListCharacter.js';import{Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util,PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{Charactermancer_StartingEquipment}from'./UtilCharactermancerEquipment.js';import{Charactermancer_AdditionalSpellsSelect}from'./UtilCharactermancerAdditionalSpells.js';import{UtilDataSource}from'./UtilDataSource.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';import{UtilCompendium}from'./UtilCompendium.js';import{UtilGameSettings}from'./UtilGameSettings.js';import{Charactermancer_Spell,Charactermancer_Spell_Modal}from'./UtilCharactermancerSpell.js';import{ImportedDocument,ImportSummary}from'./ImportList.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{ConfigConsts}from'./ConfigConsts.js';import{UtilDocuments}from'./UtilDocuments.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{Charactermancer_Spell_Util}from'./UtilCharactermancerSpellSlotLevelSelect.js';function _0x4ba4(_0x1420d2,_0x235630){const _0x190021=_0x1900();return _0x4ba4=function(_0x4ba4d8,_0x547038){_0x4ba4d8=_0x4ba4d8-0x17e;let _0x24d35d=_0x190021[_0x4ba4d8];return _0x24d35d;},_0x4ba4(_0x1420d2,_0x235630);}import{AppSourceSelectorMulti}from'./AppSourceSelectorMulti.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';class ImportListClass extends ImportListCharacter{static ['ID']='classes-subclasses';static ['DISPLAY_NAME_TYPE_PLURAL']=_0x2dc70f(0x2f7);static ['_']=this['registerImpl'](this);static[_0x2dc70f(0x2f9)](){const _0x43f16d=_0x2dc70f,_0x3df788={'isForce':!![],'fnGetSuccessMessage':({ent:_0x5cdce2})=>_0x43f16d(0x257)+(_0x5cdce2[_0x43f16d(0x39d)]||_0x5cdce2['name'])+'\x22'+(_0x5cdce2[_0x43f16d(0x268)]?'\x20('+_0x5cdce2[_0x43f16d(0x28c)]+')':'')+_0x43f16d(0x3c3),'fnGetFailedMessage':({ent:_0x5283cf})=>_0x43f16d(0x344)+(_0x5283cf[_0x43f16d(0x39d)]||_0x5283cf['name'])+'\x22'+(_0x5283cf[_0x43f16d(0x268)]?'\x20('+_0x5283cf[_0x43f16d(0x28c)]+')':'')+'!\x20'+VeCt[_0x43f16d(0x383)]};this[_0x43f16d(0x34e)]({..._0x3df788,'prop':_0x43f16d(0x209),'importerName':_0x43f16d(0x1b6)}),this[_0x43f16d(0x34e)]({..._0x3df788,'prop':_0x43f16d(0x322),'importerName':_0x43f16d(0x19e)}),ImportListClass['SheetLevelUpButtonAdapter']['init']();}constructor(_0x27f605){const _0x31e835=_0x2dc70f;_0x27f605=_0x27f605||{},super({'title':_0x31e835(0x389),'template':SharedConsts[_0x31e835(0x1e2)]+'/template/ImportListClass.hbs','height':Util['getMaxWindowHeight'](),'resizable':!![]},_0x27f605,{'namespace':_0x31e835(0x37a),'dirsHomebrew':[_0x31e835(0x209),'subclass'],'defaultFolderPath':[_0x31e835(0x2ca)],'sidebarTab':_0x31e835(0x2af),'gameProp':'items','pageFilter':new PageFilterClassesFoundry(),'isDedupable':!![],'configGroup':_0x31e835(0x2cb),'page':UrlUtil[_0x31e835(0x2e3)]}),this[_0x31e835(0x1a6)]=null;}async[_0x2dc70f(0x31b)](_0x2f3931){const _0xa70a48=_0x2dc70f;await super['pSetContent'](_0x2f3931),this[_0xa70a48(0x1a6)]=null;}static async[_0x2dc70f(0x265)](_0x40bdbc,{actor:_0x94dd54}={}){const _0x48cabb=_0x2dc70f,_0x1b5fcd=await DataConverterClassSubclassFeature[_0x48cabb(0x34b)]({'data':_0x40bdbc}),_0x40b8d7=await PageFilterClassesFoundry[_0x48cabb(0x265)](_0x40bdbc,{'actor':_0x94dd54,'isIgnoredLookup':_0x1b5fcd});return Charactermancer_Class_Util[_0x48cabb(0x205)](_0x40b8d7,await this[_0x48cabb(0x3c2)]()),_0x40b8d7;}static async[_0x2dc70f(0x3c2)](){const _0x3ba0bf=_0x2dc70f,_0x1aa56f=await Vetools['pGetWithCache'](Vetools['DATA_URL_OPTIONALFEATURES']);return[..._0x1aa56f[_0x3ba0bf(0x360)],...BrewUtil[_0x3ba0bf(0x3b9)]?.[_0x3ba0bf(0x360)]||[]];}async['_pGetSources'](){const _0x2c4de0=_0x2dc70f;return[new UtilDataSource[(_0x2c4de0(0x2ee))](Config['get']('ui',_0x2c4de0(0x189))?_0x2c4de0(0x304):_0x2c4de0(0x1b4),Vetools[_0x2c4de0(0x1f5)],{'cacheKey':_0x2c4de0(0x374),'pPostLoad':_0x5dfe38=>this['constructor']['pPostLoad'](_0x5dfe38,{'actor':this[_0x2c4de0(0x379)]}),'filterTypes':[UtilDataSource[_0x2c4de0(0x291)]],'isDefault':!![]}),new UtilDataSource[(_0x2c4de0(0x1ff))](_0x2c4de0(0x1ea),'',{'pPostLoad':_0x3615ba=>this[_0x2c4de0(0x261)][_0x2c4de0(0x265)](_0x3615ba,{'actor':this[_0x2c4de0(0x379)]}),'filterTypes':[UtilDataSource[_0x2c4de0(0x295)]]}),new UtilDataSource[(_0x2c4de0(0x2ff))]('Upload\x20File',{'pPostLoad':_0x2bd814=>this['constructor'][_0x2c4de0(0x265)](_0x2bd814,{'actor':this[_0x2c4de0(0x379)]}),'filterTypes':[UtilDataSource[_0x2c4de0(0x295)]]}),...await this[_0x2c4de0(0x1b5)]({'pPostLoad':_0x3151cc=>this[_0x2c4de0(0x261)][_0x2c4de0(0x265)](_0x3151cc,{'actor':this[_0x2c4de0(0x379)]})})];}[_0x2dc70f(0x337)](){const _0x5e546d=_0x2dc70f;if(this['_cachedData']&&this[_0x5e546d(0x1a6)][_0x5e546d(0x3c1)]!==!!this[_0x5e546d(0x379)])this[_0x5e546d(0x1a6)]=null;this[_0x5e546d(0x1a6)]=this['_cachedData']||{'titleButtonRun':this[_0x5e546d(0x1da)],'titleSearch':this[_0x5e546d(0x386)],'rows':this[_0x5e546d(0x1f1)]['sort']((_0x57e344,_0xff8af3)=>SortUtil[_0x5e546d(0x336)](_0x57e344[_0x5e546d(0x28c)],_0xff8af3['name'])||SortUtil[_0x5e546d(0x336)](Parser[_0x5e546d(0x290)](_0x57e344[_0x5e546d(0x39a)]||SRC_PHB),Parser[_0x5e546d(0x290)](_0xff8af3[_0x5e546d(0x39a)]||SRC_PHB)))[_0x5e546d(0x2c2)]((_0x4126ee,_0x3884d5)=>{const _0x17d64a=_0x5e546d;return this[_0x17d64a(0x182)][_0x17d64a(0x261)][_0x17d64a(0x252)](_0x4126ee),{'name':_0x4126ee[_0x17d64a(0x28c)],'source':_0x4126ee[_0x17d64a(0x39a)],'sourceShort':Parser[_0x17d64a(0x1c8)](_0x4126ee['source']),'sourceLong':Parser[_0x17d64a(0x290)](_0x4126ee[_0x17d64a(0x39a)]),'sourceClassName':Parser[_0x17d64a(0x1d2)](_0x4126ee['source']),'sourceStyle':BrewUtil[_0x17d64a(0x340)](_0x4126ee['source']),'ixClass':_0x3884d5,'disabled':!_0x4126ee[_0x17d64a(0x378)],'subRows':(_0x4126ee[_0x17d64a(0x2fd)]||[])[_0x17d64a(0x2c2)]((_0x47e755,_0x13a1e5)=>({'name':_0x47e755[_0x17d64a(0x28c)],'source':_0x47e755['source']||_0x4126ee[_0x17d64a(0x39a)],'sourceShort':Parser[_0x17d64a(0x1c8)](_0x47e755[_0x17d64a(0x39a)]||_0x4126ee[_0x17d64a(0x39a)]),'sourceLong':Parser[_0x17d64a(0x290)](_0x47e755[_0x17d64a(0x39a)]||_0x4126ee[_0x17d64a(0x39a)]),'sourceClassName':Parser[_0x17d64a(0x1d2)](_0x47e755[_0x17d64a(0x39a)]||_0x4126ee[_0x17d64a(0x39a)]),'sourceStyle':BrewUtil[_0x17d64a(0x340)](_0x47e755['source']||_0x4126ee[_0x17d64a(0x39a)]),'ixSubclass':_0x13a1e5}))};})};if(this['_actor'])this['_cachedData']['isRadio']=!![];return this[_0x5e546d(0x1a6)];}[_0x2dc70f(0x346)]({allContentFlat:_0x111aa2}){const _0x2839b2=_0x2dc70f;return ImportListClass['Utils'][_0x2839b2(0x38d)]({'allContentFlat':_0x111aa2});}[_0x2dc70f(0x23b)]({dedupedAllContentFlat:_0x527e0a}){const _0xd00dfd=_0x2dc70f;return ImportListClass[_0xd00dfd(0x3c9)][_0xd00dfd(0x27a)]({'dedupedAllContentFlat':_0x527e0a});}[_0x2dc70f(0x1d9)](){const _0x402d54=_0x2dc70f;this[_0x402d54(0x2cf)][_0x402d54(0x1c6)](async()=>{const _0x1d828e=_0x402d54;if(!this['_list'])return;const _0x507778=this['_actor']?this[_0x1d828e(0x39c)]['items']['filter'](_0x5da393=>_0x5da393[_0x1d828e(0x2b6)]['tglSel']&&_0x5da393[_0x1d828e(0x2b6)]['tglSel'][_0x1d828e(0x2db)][_0x1d828e(0x2f1)](_0x1d828e(0x2a7)))[_0x1d828e(0x2c2)](_0x30494c=>({'ixClass':_0x30494c['data'][_0x1d828e(0x338)],'ixSubclass':_0x30494c[_0x1d828e(0x2b6)][_0x1d828e(0x27e)]})):this[_0x1d828e(0x39c)][_0x1d828e(0x2af)][_0x1d828e(0x1e5)](_0x3dd923=>_0x3dd923[_0x1d828e(0x2b6)][_0x1d828e(0x193)]['checked'])[_0x1d828e(0x2c2)](_0x357259=>({'ixClass':_0x357259[_0x1d828e(0x2b6)][_0x1d828e(0x338)],'ixSubclass':_0x357259[_0x1d828e(0x2b6)][_0x1d828e(0x27e)]}));if(!_0x507778[_0x1d828e(0x1d3)])return ui[_0x1d828e(0x1a3)][_0x1d828e(0x299)](_0x1d828e(0x240));this[_0x1d828e(0x2e9)](),this[_0x1d828e(0x2df)]();const _0x59af58=_0x507778[_0x1d828e(0x2c2)](({ixClass:_0xcf4b6a,ixSubclass:_0x2d7420})=>{const _0x34fa7d=_0x1d828e,_0x30db25=MiscUtil['copy'](this['_content'][_0xcf4b6a]);return{'ixClass':_0xcf4b6a,'cls':_0x30db25,'ixSubclass':_0x2d7420,'sc':_0x2d7420!=null?_0x30db25[_0x34fa7d(0x2fd)][_0x2d7420]:null};});_0x59af58[_0x1d828e(0x1e5)](_0x2c9441=>!_0x2c9441['sc'])['forEach'](_0xbee395=>_0xbee395[_0x1d828e(0x398)][_0x1d828e(0x2fd)]=[]),_0x59af58[_0x1d828e(0x2ac)]((_0x211be9,_0x1cd61d)=>!!_0x211be9['sc']-!!_0x1cd61d['sc']);const _0x1dcd50=[],_0x37ae44=[];_0x59af58[_0x1d828e(0x331)](_0x3a48b5=>{const _0x3c8944=_0x1d828e;if(_0x3a48b5['sc']){const _0x4aebab=_0x1dcd50[_0x3c8944(0x37e)](_0x5d3bed=>_0x5d3bed[_0x3c8944(0x28c)]['toLowerCase']()===_0x3a48b5['sc']['className']['toLowerCase']()&&_0x5d3bed[_0x3c8944(0x39a)][_0x3c8944(0x2d2)]()===_0x3a48b5['sc'][_0x3c8944(0x3be)]['toLowerCase']());if(_0x4aebab)_0x4aebab['subclasses'][_0x3c8944(0x288)](_0x3a48b5['sc']);else _0x37ae44['push']({'cls':_0x3a48b5[_0x3c8944(0x398)],'sc':_0x3a48b5['sc']});}else _0x1dcd50[_0x3c8944(0x288)](_0x3a48b5['cls']);});if(_0x1dcd50[_0x1d828e(0x1d3)]||_0x37ae44[_0x1d828e(0x1d3)])await this[_0x1d828e(0x272)]();const _0x27e338=[..._0x1dcd50['map'](_0x26f737=>{const _0x13ccc0=_0x1d828e;return new Util[(_0x13ccc0(0x2e6))](_0x26f737['name']+'\x20('+Parser['sourceJsonToAbv'](_0x26f737[_0x13ccc0(0x39a)])+')',()=>this['pImportClass'](_0x26f737));}),..._0x37ae44[_0x1d828e(0x2c2)](({cls:_0x2eeb7b,sc:_0x557aa7})=>{const _0x10dbe7=_0x1d828e;return new Util[(_0x10dbe7(0x2e6))](_0x557aa7[_0x10dbe7(0x28c)]+'\x20('+Parser[_0x10dbe7(0x1c8)](_0x557aa7[_0x10dbe7(0x39a)])+')',()=>this[_0x10dbe7(0x2e5)](_0x2eeb7b,_0x557aa7));})];await UtilApplications[_0x1d828e(0x318)](_0x27e338);if(!this[_0x1d828e(0x379)])game[this[_0x1d828e(0x30b)]][_0x1d828e(0x34a)]();this[_0x1d828e(0x264)]['prop'](_0x1d828e(0x2a9),![])[_0x1d828e(0x294)]();});}['_activateListeners_pInitFilteredList'](){const _0x478f88=_0x2dc70f;this['_list']=new List({'$iptSearch':this[_0x478f88(0x256)],'$wrpList':this[_0x478f88(0x1ba)],'fnSort':(_0x498e59,_0x6a4ccc,_0x4c9a01)=>{const _0x319d4d=_0x478f88;if(_0x4c9a01[_0x319d4d(0x1a9)]===_0x319d4d(0x235)&&_0x498e59['data'][_0x319d4d(0x338)]===_0x6a4ccc[_0x319d4d(0x2b6)][_0x319d4d(0x338)]&&(_0x498e59['data']['ixSubclass']!=null||_0x6a4ccc['data'][_0x319d4d(0x27e)]!=null))return _0x498e59[_0x319d4d(0x2b6)]['ixSubclass']!=null?-0x1:0x1;return SortUtil['ascSortLower'](_0x498e59[_0x319d4d(0x36d)][_0x319d4d(0x1cb)],_0x6a4ccc['values'][_0x319d4d(0x1cb)]);}}),SortUtil[_0x478f88(0x1bb)](this[_0x478f88(0x18d)],this[_0x478f88(0x39c)]);const _0x2ff897=this[_0x478f88(0x1a6)][_0x478f88(0x1ab)][_0x478f88(0x2c2)](_0x2bb56f=>{const _0x2c7f03=_0x478f88,_0x5e5887={..._0x2bb56f};delete _0x5e5887['subRows'];const _0x2d7dec=_0x2bb56f[_0x2c7f03(0x2aa)][_0x2c7f03(0x2c2)](_0x3ad522=>({..._0x3ad522,'ixClass':_0x2bb56f[_0x2c7f03(0x338)],'className':_0x2bb56f[_0x2c7f03(0x28c)],'classSource':_0x2bb56f[_0x2c7f03(0x39a)],'classSourceLong':_0x2bb56f[_0x2c7f03(0x1ef)],'classSourceClassName':_0x2bb56f['sourceClassName']}));return[_0x5e5887,..._0x2d7dec];})['flat']();return this['_pageFilter']['pInitFilterBox']({'$iptSearch':this[_0x478f88(0x256)],'$btnReset':this[_0x478f88(0x3bd)],'$btnOpen':this[_0x478f88(0x391)],'$btnToggleSummaryHidden':this[_0x478f88(0x36a)],'$wrpMiniPills':this[_0x478f88(0x287)],'namespace':this['_getFilterNamespace']()})[_0x478f88(0x2b4)](()=>{const _0x26ba39=_0x478f88;this['_content']['forEach'](_0xe1c6fe=>this[_0x26ba39(0x182)][_0x26ba39(0x39b)](_0xe1c6fe));const _0x372d69={'fnGetName':_0x115a4=>_0x115a4['name'],'fnGetValues':_0x5e7a09=>{const _0x302502=_0x26ba39;if(_0x5e7a09[_0x302502(0x27e)]!=null)return{'sortName':_0x5e7a09[_0x302502(0x39d)]+_0x302502(0x26d)+_0x5e7a09[_0x302502(0x30c)]+_0x302502(0x17f)+_0x5e7a09[_0x302502(0x28c)]+_0x302502(0x26d)+_0x5e7a09[_0x302502(0x1ef)],'source':_0x5e7a09[_0x302502(0x39a)],'hash':UrlUtil[_0x302502(0x204)]['subclass'](_0x5e7a09)};return{'sortName':_0x5e7a09[_0x302502(0x28c)]+_0x302502(0x26d)+_0x5e7a09[_0x302502(0x1ef)],'source':_0x5e7a09['source'],'hash':UrlUtil[_0x302502(0x204)][this[_0x302502(0x307)]](_0x5e7a09)};},'fnGetData':(_0x2571dd,_0x480dda)=>{const _0x56254f=_0x26ba39,_0x57a4af=this['_actor']?{'tglSel':_0x2571dd['ele']['firstElementChild'][_0x56254f(0x311)]}:UtilList2['absorbFnGetData'](_0x2571dd);if(_0x480dda[_0x56254f(0x27e)]!=null)return{..._0x57a4af,'ixClass':_0x480dda['ixClass'],'ixSubclass':_0x480dda['ixSubclass']};return{..._0x57a4af,'ixClass':_0x480dda[_0x56254f(0x338)]};}};this['_actor']?_0x372d69[_0x26ba39(0x1c3)]=_0x14a29b=>{const _0x334eb0=_0x26ba39;_0x14a29b[_0x334eb0(0x30f)][_0x334eb0(0x2a4)](_0x334eb0(0x1c6),()=>{const _0x3510bc=_0x334eb0,_0x18b039=_0x14a29b[_0x3510bc(0x2b6)]['ixSubclass']!=null,_0xf0fbd9=_0x18b039?this[_0x3510bc(0x39c)][_0x3510bc(0x2af)]['find'](_0x484a55=>_0x484a55['data'][_0x3510bc(0x338)]===_0x14a29b['data']['ixClass']&&_0x484a55[_0x3510bc(0x2b6)][_0x3510bc(0x27e)]==null):null,_0x5730a8=this['_list']['items'][_0x3510bc(0x1e5)](_0x5c06cd=>_0x5c06cd[_0x3510bc(0x2b6)][_0x3510bc(0x232)][_0x3510bc(0x2db)][_0x3510bc(0x2f1)]('active'));if(!_0x5730a8['length']){_0x14a29b[_0x3510bc(0x2b6)]['tglSel'][_0x3510bc(0x2db)]['add'](_0x3510bc(0x2a7)),_0x14a29b[_0x3510bc(0x30f)][_0x3510bc(0x2db)][_0x3510bc(0x26e)](_0x3510bc(0x1bc));_0x18b039&&(_0xf0fbd9[_0x3510bc(0x2b6)][_0x3510bc(0x232)][_0x3510bc(0x2db)][_0x3510bc(0x26e)](_0x3510bc(0x2a7)),_0xf0fbd9[_0x3510bc(0x30f)][_0x3510bc(0x2db)][_0x3510bc(0x26e)](_0x3510bc(0x1bc)));return;}if(_0x14a29b['data']['tglSel'][_0x3510bc(0x2db)][_0x3510bc(0x2f1)](_0x3510bc(0x2a7))){_0x14a29b['data'][_0x3510bc(0x232)][_0x3510bc(0x2db)][_0x3510bc(0x361)](_0x3510bc(0x2a7)),_0x14a29b[_0x3510bc(0x30f)][_0x3510bc(0x2db)][_0x3510bc(0x361)](_0x3510bc(0x1bc));_0x18b039?(_0xf0fbd9[_0x3510bc(0x2b6)][_0x3510bc(0x232)][_0x3510bc(0x2db)][_0x3510bc(0x361)]('active'),_0xf0fbd9[_0x3510bc(0x30f)][_0x3510bc(0x2db)][_0x3510bc(0x361)](_0x3510bc(0x1bc))):_0x5730a8[_0x3510bc(0x331)](_0x2b6848=>{const _0x266b71=_0x3510bc;_0x2b6848[_0x266b71(0x2b6)][_0x266b71(0x232)][_0x266b71(0x2db)][_0x266b71(0x361)](_0x266b71(0x2a7)),_0x2b6848['ele']['classList']['remove'](_0x266b71(0x1bc));});return;}_0x5730a8['forEach'](_0x1df4a4=>{const _0x11d4ec=_0x3510bc;_0x1df4a4[_0x11d4ec(0x2b6)][_0x11d4ec(0x232)][_0x11d4ec(0x2db)][_0x11d4ec(0x361)](_0x11d4ec(0x2a7)),_0x1df4a4['ele'][_0x11d4ec(0x2db)][_0x11d4ec(0x361)](_0x11d4ec(0x1bc));}),_0x14a29b['data']['tglSel'][_0x3510bc(0x2db)]['add']('active'),_0x14a29b[_0x3510bc(0x30f)][_0x3510bc(0x2db)][_0x3510bc(0x26e)](_0x3510bc(0x1bc)),_0x18b039&&(_0xf0fbd9[_0x3510bc(0x2b6)][_0x3510bc(0x232)][_0x3510bc(0x2db)]['add'](_0x3510bc(0x2a7)),_0xf0fbd9[_0x3510bc(0x30f)]['classList'][_0x3510bc(0x26e)](_0x3510bc(0x1bc)));});}:_0x372d69[_0x26ba39(0x1c3)]=_0x337a9b=>UtilList2[_0x26ba39(0x23e)](this[_0x26ba39(0x39c)],_0x337a9b),this['_list']['doAbsorbItems'](_0x2ff897,_0x372d69),this[_0x26ba39(0x39c)]['init'](),this[_0x26ba39(0x182)][_0x26ba39(0x334)](),this[_0x26ba39(0x182)][_0x26ba39(0x1b7)][_0x26ba39(0x34a)](),this[_0x26ba39(0x182)][_0x26ba39(0x1b7)]['on'](FilterBox[_0x26ba39(0x2bf)],this[_0x26ba39(0x1d1)][_0x26ba39(0x35b)](this)),this[_0x26ba39(0x1d1)]();});}[_0x2dc70f(0x1b1)](){const _0x3b4144=_0x2dc70f;if(!this[_0x3b4144(0x379)])return super[_0x3b4144(0x1b1)]();this[_0x3b4144(0x222)][_0x3b4144(0x1c6)](()=>{const _0x4c98b6=_0x3b4144;if(!this['_list']||!this[_0x4c98b6(0x39c)]['visibleItems'][_0x4c98b6(0x1d3)])return;const _0x26a970=RollerUtil[_0x4c98b6(0x315)](this['_list'][_0x4c98b6(0x32c)]);if(!_0x26a970)return;_0x26a970[_0x4c98b6(0x30f)]['click'](),_0x26a970[_0x4c98b6(0x30f)]['scrollIntoView']({'block':_0x4c98b6(0x32e)});});}[_0x2dc70f(0x1d1)](){const _0x330e1a=_0x2dc70f;return ModalFilterClasses['handleFilterChange']({'pageFilter':this['_pageFilter'],'list':this[_0x330e1a(0x39c)],'allData':this[_0x330e1a(0x1f1)]});}async[_0x2dc70f(0x2bc)](_0x2894e4,_0x19dc05){const _0x2920ca=_0x2dc70f;_0x19dc05=_0x19dc05||{};!_0x19dc05[_0x2920ca(0x2d6)]&&!this['_pageFilter']?.['filterBox']&&(_0x19dc05[_0x2920ca(0x2d6)]=await ImportListClass[_0x2920ca(0x395)]());if(_0x2894e4?.[_0x2920ca(0x2b6)]?.['class']){const _0x2410f5=_0x2894e4?.[_0x2920ca(0x2b6)]?.[_0x2920ca(0x322)];_0x2894e4=_0x2894e4?.['data']?.['class'],_0x2894e4=await Renderer[_0x2920ca(0x22b)]['pCacheAndGet']('raw_class',_0x2894e4[_0x2920ca(0x39a)],UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x2920ca(0x2e3)]](_0x2894e4),{'isCopy':!![]});const _0x296715={'class':[_0x2894e4]};if(_0x2410f5){const _0x445adb=await Renderer[_0x2920ca(0x22b)][_0x2920ca(0x19c)](_0x2920ca(0x18f),_0x2410f5[_0x2920ca(0x39a)],UrlUtil[_0x2920ca(0x204)][_0x2920ca(0x322)](_0x2410f5),{'isCopy':!![]});_0x296715[_0x2920ca(0x322)]=[_0x445adb];}const _0x5dceae=await this[_0x2920ca(0x261)][_0x2920ca(0x265)](_0x296715);_0x2894e4=_0x5dceae[0x0];if(_0x2410f5){const _0xaeb40c=_0x2894e4[_0x2920ca(0x2fd)][0x0];return _0x2894e4[_0x2920ca(0x2fd)]=[],this[_0x2920ca(0x2e5)](_0x2894e4,_0xaeb40c,_0x19dc05);}}return this[_0x2920ca(0x371)](_0x2894e4,_0x19dc05);}async[_0x2dc70f(0x371)](_0x50d356,_0x30e3c1){const _0x2f9a9d=_0x2dc70f;_0x30e3c1=_0x30e3c1||{},console[_0x2f9a9d(0x39e)](...LGT,_0x2f9a9d(0x1b3)+_0x50d356[_0x2f9a9d(0x28c)]+_0x2f9a9d(0x2a0)+Parser[_0x2f9a9d(0x1c8)](_0x50d356[_0x2f9a9d(0x39a)])+'\x22)');if(DataConverterClass[_0x2f9a9d(0x292)](_0x50d356))return ImportSummary[_0x2f9a9d(0x341)]();if(_0x30e3c1['isTemp'])return this['_pImportClass_pImportToItems'](_0x50d356,_0x30e3c1);if(this['_actor'])return this[_0x2f9a9d(0x296)](_0x50d356,_0x30e3c1);return this[_0x2f9a9d(0x24c)](_0x50d356,_0x30e3c1);}async[_0x2dc70f(0x296)](_0x2f764a,_0x3d4de4){const _0x1c58f9=_0x2dc70f,_0x246e5f=new ImportListClass[(_0x1c58f9(0x1f7))]({'isClassImport':!![],'isCharactermancer':_0x3d4de4[_0x1c58f9(0x1d7)]});let _0x157506;!_0x2f764a[_0x1c58f9(0x20a)]&&(_0x157506=Charactermancer_Class_Util['getAllFeatures'](_0x2f764a),_0x157506=Charactermancer_Util[_0x1c58f9(0x269)](_0x157506,this[_0x1c58f9(0x182)],_0x3d4de4[_0x1c58f9(0x2d6)]||this[_0x1c58f9(0x182)][_0x1c58f9(0x1b7)][_0x1c58f9(0x274)]()));const _0x524347=_0x2f764a[_0x1c58f9(0x2fd)]?.[_0x1c58f9(0x1d3)]?_0x2f764a[_0x1c58f9(0x2fd)][0x0]:null;return this[_0x1c58f9(0x184)]({'cls':_0x2f764a,'sc':_0x524347,'importOpts':_0x3d4de4,'dataBuilderOpts':_0x246e5f,'allFeatures':_0x157506});}async[_0x2dc70f(0x184)]({cls:_0xe215ce,sc:_0x1c60af,importOpts:_0x253679,dataBuilderOpts:_0x3e9151,allFeatures:_0x1d7fd8}){const _0x4f3762=_0x2dc70f,_0x1f6826=await this[_0x4f3762(0x2f6)](_0xe215ce,_0x253679,_0x1d7fd8,_0x3e9151,_0x1c60af!=null);if(_0x3e9151['isCancelled'])return ImportSummary[_0x4f3762(0x1ed)]();await this[_0x4f3762(0x330)](_0x1f6826,_0x3e9151);if(_0x3e9151['isCancelled'])return ImportSummary[_0x4f3762(0x1ed)]();_0x3e9151[_0x4f3762(0x25c)]=Math['max'](..._0x1f6826)+0x1,_0x3e9151[_0x4f3762(0x31c)]=_0x3e9151[_0x4f3762(0x25c)]-Math['min'](..._0x1f6826),_0x3e9151[_0x4f3762(0x37d)]=UtilActors[_0x4f3762(0x1d0)](this['_actor']),_0x3e9151[_0x4f3762(0x2ce)]=_0xe215ce!=null&&_0x1f6826[_0x4f3762(0x32b)](0x0),_0x3e9151[_0x4f3762(0x1e4)]=_0x1c60af?.[_0x4f3762(0x1e4)]||_0xe215ce[_0x4f3762(0x1e4)],_0x3e9151[_0x4f3762(0x211)]=await this[_0x4f3762(0x3b3)](_0xe215ce,_0x3e9151);if(_0x3e9151[_0x4f3762(0x259)])return ImportSummary[_0x4f3762(0x1ed)]();_0x3e9151[_0x4f3762(0x370)]=await this[_0x4f3762(0x1c0)](_0xe215ce,_0x3e9151);if(_0x3e9151['isCancelled'])return ImportSummary[_0x4f3762(0x1ed)]();const _0xaef106={'data':{}},_0x36facd=await this['_pImportEntry_pGetCurLevelFillClassData'](_0xaef106,_0xe215ce,_0x1c60af,_0x253679,_0x3e9151);if(_0x3e9151[_0x4f3762(0x259)])return ImportSummary[_0x4f3762(0x1ed)]();const {curLevel:_0x574755,existingClassItem:_0x342a58}=_0x36facd;this['_pImportEntry_setActorFlags'](_0xaef106,_0xe215ce,_0x1c60af,_0x574755,_0x3e9151),await this[_0x4f3762(0x2ec)](_0xaef106,_0xe215ce,_0x1c60af,_0x574755,_0x342a58,_0x3e9151);if(_0x3e9151['isCancelled'])return ImportSummary[_0x4f3762(0x1ed)]();await this[_0x4f3762(0x2ea)](_0xe215ce,_0x1c60af,_0x574755,_0x253679,_0x3e9151),await this['_pImportEntry_pFillItemArrayAdditionalSpells'](_0xe215ce,_0xe215ce[_0x4f3762(0x2fd)],_0x574755,_0x3e9151);if(_0x3e9151[_0x4f3762(0x259)])return ImportSummary[_0x4f3762(0x1ed)]();if(_0xe215ce[_0x4f3762(0x18a)])await this[_0x4f3762(0x2b2)](_0xe215ce,_0x1c60af,_0x574755,_0x3e9151);await this[_0x4f3762(0x2cc)](_0xe215ce,_0x1c60af,_0x3e9151);if(_0xe215ce['preparedSpells'])await this[_0x4f3762(0x388)](_0xe215ce,_0x1c60af,_0x574755,_0x3e9151);await this['_pImportEntry_pHandleFeatures'](_0xe215ce,_0x1d7fd8,_0x1f6826,_0x253679,_0x3e9151);if(_0x3e9151[_0x4f3762(0x259)])return ImportSummary['cancelled']();await this[_0x4f3762(0x3af)](),await this[_0x4f3762(0x369)](_0x3e9151);if(this[_0x4f3762(0x379)]['isToken'])this['_actor'][_0x4f3762(0x284)][_0x4f3762(0x34a)]();return new ImportSummary({'status':UtilApplications['TASK_EXIT_COMPLETE'],'imported':[new ImportedDocument({'name':''+_0xe215ce[_0x4f3762(0x28c)]+(_0x1c60af?'\x20('+_0x1c60af['name']+')':''),'actor':this[_0x4f3762(0x379)]})]});}async['_pGetSelectedLevelIndices'](_0x36cfb4,_0xf0f7a4,_0xd84ad9,_0x3aea4e,_0x438de7){const _0x4d4351=_0x2dc70f;if(_0x36cfb4['_foundrySelectedLevelIndices'])return _0x36cfb4['_foundrySelectedLevelIndices'];if(_0xf0f7a4[_0x4d4351(0x22d)])return _0xf0f7a4[_0x4d4351(0x22d)]['map'](_0x2b520e=>_0x2b520e-0x1)[_0x4d4351(0x1e5)](_0x1e5538=>_0x1e5538>=0x0);const _0x3b0245=await Charactermancer_Class_LevelSelect[_0x4d4351(0x3bf)]({'features':_0xd84ad9,'isSubclass':_0x438de7,'maxPreviousLevel':this[_0x4d4351(0x3c8)](_0x36cfb4)});if(_0x3b0245==null)return _0x3aea4e['isCancelled']=!![];return _0x3b0245[_0x4d4351(0x2b6)];}[_0x2dc70f(0x3c8)](_0x888c97){const _0x587eaa=_0x2dc70f,_0xae947f=this[_0x587eaa(0x37b)](_0x888c97);if(!_0xae947f[_0x587eaa(0x1d3)])return 0x0;return Math[_0x587eaa(0x2e8)](..._0xae947f[_0x587eaa(0x2c2)](_0x2768fd=>_0x2768fd[_0x587eaa(0x2b6)][_0x587eaa(0x2b6)][_0x587eaa(0x22d)]||0x0));}[_0x2dc70f(0x206)](_0x2ba39a,_0x47e3f0,_0xf6c03a,_0x1692d8,_0x3707ff){const _0x14ea4f=_0x2dc70f,_0xff328e={'dnd5e':{}};if(Object[_0x14ea4f(0x33b)](_0xff328e[_0x14ea4f(0x237)])[_0x14ea4f(0x1d3)])_0x2ba39a[_0x14ea4f(0x2ef)]=_0xff328e;}async[_0x2dc70f(0x3b3)](_0xa599ab,_0x33255d){const _0x2adaa7=_0x2dc70f,_0x3e6ae2=this[_0x2adaa7(0x379)][_0x2adaa7(0x2af)]['filter'](_0x5a6c71=>_0x5a6c71[_0x2adaa7(0x33e)]==='class');if(!_0x33255d[_0x2adaa7(0x1e6)]||!_0x33255d['isIncludesLevelOne']||!_0x3e6ae2[_0x2adaa7(0x1d3)])return Charactermancer_Class_ProficiencyImportModeSelect[_0x2adaa7(0x183)];if(_0xa599ab[_0x2adaa7(0x19d)]!=null)return _0xa599ab[_0x2adaa7(0x19d)];const _0x6cbc47=await Charactermancer_Class_ProficiencyImportModeSelect[_0x2adaa7(0x3bf)]();if(_0x6cbc47==null)_0x33255d[_0x2adaa7(0x259)]=!![];return _0x6cbc47[_0x2adaa7(0x2b6)];}async[_0x2dc70f(0x1c0)](_0x5b1ac4,_0x536b94){const _0x375d35=_0x2dc70f;if(!Charactermancer_Class_HpIncreaseModeSelect[_0x375d35(0x2a1)](_0x5b1ac4))return Charactermancer_Class_HpIncreaseModeSelect[_0x375d35(0x20f)];if(_0x5b1ac4[_0x375d35(0x3c5)]!=null)return _0x5b1ac4[_0x375d35(0x3c5)];const _0x2d231c=await Charactermancer_Class_HpIncreaseModeSelect[_0x375d35(0x3bf)]();if(_0x2d231c==null)return _0x536b94['isCancelled']=!![];if(_0x2d231c===VeCt[_0x375d35(0x29f)])return Charactermancer_Class_HpIncreaseModeSelect['MODE_DO_NOT_INCREASE'];return _0x2d231c[_0x375d35(0x2b6)];}async[_0x2dc70f(0x24c)](_0x2bb890,_0x245188){const _0x4d337e=_0x2dc70f,_0x475dcd=this['_getDuplicateMeta']({'entity':_0x2bb890,'importOpts':_0x245188});if(_0x475dcd[_0x4d337e(0x2d3)])return new ImportSummary({'status':UtilApplications[_0x4d337e(0x30a)],'imported':[new ImportedDocument({'isExisting':!![],'document':_0x475dcd[_0x4d337e(0x289)]})]});const _0x1cc964=await DataConverterClass[_0x4d337e(0x18b)](_0x2bb890,{'isAddPermission':!![],'filterValues':_0x245188[_0x4d337e(0x2d6)]||this[_0x4d337e(0x182)][_0x4d337e(0x1b7)][_0x4d337e(0x274)]()});if(_0x245188[_0x4d337e(0x25b)]){const _0x58ba97=await Item['create'](_0x1cc964,{'renderSheet':!![],'temporary':!![]}),_0x3b21f2=await(_0x2bb890[_0x4d337e(0x2fd)]||[])['pSerialAwaitMap'](_0x3a34a5=>this[_0x4d337e(0x251)](_0x2bb890,_0x3a34a5,_0x245188));return new ImportSummary({'status':UtilApplications[_0x4d337e(0x2be)],'imported':[_0x58ba97,..._0x3b21f2][_0x4d337e(0x2c2)](_0x4607a3=>new ImportedDocument({'document':_0x4607a3,'actor':this[_0x4d337e(0x379)]}))});}else{if(this[_0x4d337e(0x250)]){if(_0x475dcd[_0x4d337e(0x2fb)]){const _0x59cebe=await this[_0x4d337e(0x22c)](_0x475dcd,_0x1cc964),_0x39037f=await(_0x2bb890['subclasses']||[])['pSerialAwaitMap'](_0x1e67bf=>this['_pImportSubclass_pImportToItems'](_0x2bb890,_0x1e67bf,_0x245188));return new ImportSummary({'status':UtilApplications[_0x4d337e(0x36e)],'imported':[_0x59cebe,..._0x39037f][_0x4d337e(0x2c2)](_0x36e392=>new ImportedDocument({'isExisting':!![],'document':_0x36e392,'actor':this[_0x4d337e(0x379)]}))});}const _0x11e273=await Item['create'](_0x1cc964);await this[_0x4d337e(0x250)][_0x4d337e(0x1d6)](_0x11e273);const _0x45ae4e=await(_0x2bb890[_0x4d337e(0x2fd)]||[])[_0x4d337e(0x33f)](_0x44e885=>this['_pImportSubclass_pImportToItems'](_0x2bb890,_0x44e885,_0x245188));return await this[_0x4d337e(0x1a7)]([_0x11e273],_0x475dcd),new ImportSummary({'status':UtilApplications[_0x4d337e(0x2be)],'imported':[_0x11e273,..._0x45ae4e][_0x4d337e(0x2c2)](_0x47db40=>new ImportedDocument({'document':_0x47db40,'actor':this[_0x4d337e(0x379)]}))});}else{if(_0x475dcd['isOverwrite']){const _0x5b9378=await this[_0x4d337e(0x275)](_0x475dcd,_0x1cc964),_0x5170a5=await(_0x2bb890['subclasses']||[])['pSerialAwaitMap'](_0x4dbcb2=>this[_0x4d337e(0x251)](_0x2bb890,_0x4dbcb2,_0x245188));return new ImportSummary({'status':UtilApplications[_0x4d337e(0x36e)],'imported':[_0x5b9378,..._0x5170a5][_0x4d337e(0x2c2)](_0x5e1418=>new ImportedDocument({'isExisting':!![],'document':_0x5e1418,'actor':this[_0x4d337e(0x379)]}))});}const _0x2c22fb=await this[_0x4d337e(0x1e0)](_0x2bb890);if(_0x2c22fb)_0x1cc964[_0x4d337e(0x38b)]=_0x2c22fb;const _0x5bc506=await Item[_0x4d337e(0x1a1)](_0x1cc964,{'renderSheet':![],'temporary':![]});await game[_0x4d337e(0x2af)][_0x4d337e(0x306)](_0x5bc506['id'],_0x5bc506);const _0x3e8ee2=await(_0x2bb890[_0x4d337e(0x2fd)]||[])[_0x4d337e(0x33f)](_0x392795=>this[_0x4d337e(0x251)](_0x2bb890,_0x392795,_0x245188,{'folderId':_0x2c22fb}));return new ImportSummary({'status':UtilApplications[_0x4d337e(0x2be)],'imported':[_0x5bc506,..._0x3e8ee2][_0x4d337e(0x2c2)](_0x29758e=>new ImportedDocument({'document':_0x29758e,'actor':this[_0x4d337e(0x379)]}))});}}}async['pImportSubclass'](_0x1f3fab,_0x43fd63,_0x201f0e){const _0x184573=_0x2dc70f;_0x201f0e=_0x201f0e||{},console['log'](...LGT,_0x184573(0x1d5)+_0x43fd63['name']+_0x184573(0x2a0)+Parser[_0x184573(0x1c8)](_0x43fd63[_0x184573(0x39a)])+'\x22)');if(DataConverterClass[_0x184573(0x292)](_0x1f3fab))return ImportSummary[_0x184573(0x341)]();if(DataConverterClass['isStubSubclass'](_0x43fd63))return ImportSummary[_0x184573(0x341)]();if(_0x201f0e[_0x184573(0x25b)])return this[_0x184573(0x251)](_0x1f3fab,_0x43fd63,_0x201f0e);if(this['_actor'])return this[_0x184573(0x1a2)](_0x1f3fab,_0x43fd63,_0x201f0e);return this['_pImportSubclass_pImportToItems'](_0x1f3fab,_0x43fd63,_0x201f0e);}async[_0x2dc70f(0x1a2)](_0x168cbe,_0x44b9ae,_0x89170f){const _0x2d6a23=_0x2dc70f,_0x4907a7=new ImportListClass['ImportEntryOpts']({'isClassImport':![],'isCharactermancer':_0x89170f[_0x2d6a23(0x1d7)]}),_0x1c89af=this['_actor'][_0x2d6a23(0x2af)]['filter'](_0x282dad=>_0x282dad['type']==='class');if(!_0x1c89af[_0x2d6a23(0x1d3)]){const _0x314c71=await InputUiUtil['pGetUserBoolean']({'title':_0x2d6a23(0x267),'htmlDescription':_0x2d6a23(0x1f3),'textYes':_0x2d6a23(0x33d),'textNo':_0x2d6a23(0x21b)});if(_0x314c71==null)return _0x4907a7['isCancelled']=!![],ImportSummary[_0x2d6a23(0x1ed)]();if(_0x314c71===!![]){const _0x4b9249=MiscUtil[_0x2d6a23(0x32a)](_0x168cbe);return _0x4b9249[_0x2d6a23(0x2fd)]=[_0x44b9ae],this[_0x2d6a23(0x371)](_0x4b9249,_0x89170f);}}let _0x31dacb=MiscUtil[_0x2d6a23(0x32a)](_0x44b9ae[_0x2d6a23(0x329)]);return _0x31dacb=Charactermancer_Util[_0x2d6a23(0x269)](_0x31dacb,this[_0x2d6a23(0x182)],_0x89170f[_0x2d6a23(0x2d6)]||this['_pageFilter'][_0x2d6a23(0x1b7)][_0x2d6a23(0x274)]()),this[_0x2d6a23(0x184)]({'cls':_0x168cbe,'sc':_0x44b9ae,'importOpts':_0x89170f,'dataBuilderOpts':_0x4907a7,'allFeatures':_0x31dacb});}async[_0x2dc70f(0x251)](_0x2465cd,_0x1e7b90,_0x187c30,_0x2c82ef){const _0x392226=_0x2dc70f;_0x2c82ef=_0x2c82ef||{};const _0xc00b3d=await DataConverterClass[_0x392226(0x1e3)](_0x2465cd,_0x1e7b90,{'isAddPermission':!![],'filterValues':_0x187c30[_0x392226(0x2d6)]||this[_0x392226(0x182)][_0x392226(0x1b7)][_0x392226(0x274)]()}),_0x54e22a=this['_getDuplicateMeta']({'name':_0xc00b3d['name'],'source':_0xc00b3d[_0x392226(0x2b6)][_0x392226(0x39a)],'importOpts':_0x187c30});if(_0x54e22a[_0x392226(0x2d3)])return new ImportSummary({'status':UtilApplications[_0x392226(0x30a)],'imported':[new ImportedDocument({'isExisting':!![],'document':_0x54e22a[_0x392226(0x289)]})]});if(_0x187c30['isTemp']){const _0x15cd5c=await Item[_0x392226(0x1a1)](_0xc00b3d,{'renderSheet':!![],'temporary':!![]});return new ImportSummary({'status':UtilApplications[_0x392226(0x2be)],'imported':[new ImportedDocument({'document':_0x15cd5c})]});}else{if(this[_0x392226(0x250)]){if(_0x54e22a['isOverwrite'])return this[_0x392226(0x22c)](_0x54e22a,_0xc00b3d);const _0x454890=await Item[_0x392226(0x1a1)](_0xc00b3d);return await this['_pack'][_0x392226(0x1d6)](_0x454890),await this[_0x392226(0x1a7)]([_0x454890],_0x54e22a),new ImportSummary({'status':UtilApplications[_0x392226(0x2be)],'imported':[new ImportedDocument({'document':_0x454890})]});}else{if(_0x54e22a[_0x392226(0x2fb)])return this[_0x392226(0x275)](_0x54e22a,_0xc00b3d);const _0x4cc5f7=_0x2c82ef[_0x392226(0x21e)]||await this['_pImportEntry_pGetFolderId'](_0x1e7b90);if(_0x4cc5f7)_0xc00b3d[_0x392226(0x38b)]=_0x4cc5f7;const _0x30c98c=await Item[_0x392226(0x1a1)](_0xc00b3d,{'renderSheet':![],'temporary':![]});return await game[_0x392226(0x2af)][_0x392226(0x306)](_0x30c98c['id'],_0x30c98c),new ImportSummary({'status':UtilApplications[_0x392226(0x2be)],'imported':[new ImportedDocument({'document':_0x30c98c})]});}}}async[_0x2dc70f(0x2ec)](_0x124261,_0x1411a0,_0x1bddac,_0x455775,_0x3e816b,_0x336b7f){const _0x37abe5=_0x2dc70f,_0x477b10=this['_actor']['items'][_0x37abe5(0x1e5)](_0x55bbe5=>_0x55bbe5[_0x37abe5(0x33e)]===_0x37abe5(0x209)),_0x191531=_0x477b10[_0x37abe5(0x1e5)](_0x28fb6d=>_0x28fb6d!==_0x3e816b);await this['_pImportEntry_pDoUpdateCharacter_xp']({'actUpdate':_0x124261,'dataBuilderOpts':_0x336b7f,'otherExistingClassItems':_0x191531}),await this[_0x37abe5(0x3ab)]({'actUpdate':_0x124261,'dataBuilderOpts':_0x336b7f}),await this[_0x37abe5(0x37f)]({'actUpdate':_0x124261,'cls':_0x1411a0,'sc':_0x1bddac,'dataBuilderOpts':_0x336b7f,'otherExistingClassItems':_0x191531}),await this[_0x37abe5(0x1dc)]({'actUpdate':_0x124261,'cls':_0x1411a0,'sc':_0x1bddac,'dataBuilderOpts':_0x336b7f,'otherExistingClassItems':_0x191531}),await this[_0x37abe5(0x319)]({'actUpdate':_0x124261,'cls':_0x1411a0,'dataBuilderOpts':_0x336b7f}),await this[_0x37abe5(0x3b4)]({'actUpdate':_0x124261,'cls':_0x1411a0,'dataBuilderOpts':_0x336b7f});if(_0x336b7f[_0x37abe5(0x259)])return;if(Object['keys'](_0x124261[_0x37abe5(0x2b6)])['length'])await UtilDocuments[_0x37abe5(0x1f9)](this['_actor'],_0x124261);}async['_pImportEntry_pDoUpdateCharacter_xp']({actUpdate:_0x1d3bdd,dataBuilderOpts:_0x64be87,otherExistingClassItems:_0x1b6198}){const _0x28e7d2=_0x2dc70f;if(Config[_0x28e7d2(0x2fc)]('importClass',_0x28e7d2(0x314)))return;const _0x1fc122=_0x1b6198['map'](_0x28aa34=>_0x28aa34[_0x28e7d2(0x2b6)][_0x28e7d2(0x2b6)][_0x28e7d2(0x22d)]||0x0)[_0x28e7d2(0x35a)]((_0x127a1d,_0x2bceb6)=>_0x127a1d+_0x2bceb6,0x0)+(_0x64be87[_0x28e7d2(0x25c)]||0x0);if(_0x1fc122<=0x0)return;const _0x8aa7e5=(_0x1d3bdd[_0x28e7d2(0x2b6)][_0x28e7d2(0x342)]=_0x1d3bdd[_0x28e7d2(0x2b6)][_0x28e7d2(0x342)]||{})['xp']=_0x1d3bdd[_0x28e7d2(0x2b6)][_0x28e7d2(0x342)]['xp']||{},_0x4595ba=MiscUtil[_0x28e7d2(0x2fc)](this[_0x28e7d2(0x379)],'data',_0x28e7d2(0x2b6),_0x28e7d2(0x342),'xp',_0x28e7d2(0x397))||0x0,_0x250877=Parser['LEVEL_XP_REQUIRED'][_0x1fc122-0x1],_0x120193=Parser['LEVEL_XP_REQUIRED'][Math['min'](_0x1fc122,0x13)];_0x4595ba<_0x250877?(_0x8aa7e5['pct']=0x0,_0x8aa7e5['value']=_0x250877):_0x8aa7e5['pct']=_0x4595ba/_0x120193*0x64,_0x8aa7e5[_0x28e7d2(0x2e8)]=_0x120193;}async['_pImportEntry_pDoUpdateCharacter_profBonus']({actUpdate:_0x592ca5,dataBuilderOpts:_0x300921}){const _0x127be9=_0x2dc70f,_0x34aaf4=MiscUtil[_0x127be9(0x2fc)](this[_0x127be9(0x379)],_0x127be9(0x2b6),_0x127be9(0x2b6),_0x127be9(0x24a),'prof'),_0x3311a2=Math[_0x127be9(0x349)]((_0x300921[_0x127be9(0x25c)]-0x1)/0x4)+0x2;if(_0x34aaf4<_0x3311a2)(_0x592ca5['data'][_0x127be9(0x24a)]=_0x592ca5['data'][_0x127be9(0x24a)]||{})[_0x127be9(0x1ca)]=_0x3311a2;}async[_0x2dc70f(0x37f)]({actUpdate:_0x57adee,cls:_0x52cd22,sc:_0x453b8d,dataBuilderOpts:_0x324128,otherExistingClassItems:_0x165d18}){const _0x59973b=_0x2dc70f,{casterProgression:_0x2b6db1,spellAbility:_0x520294,totalSpellcastingLevels:_0x492080,maxPactCasterLevel:_0x30c0a7}=Charactermancer_Class_Util[_0x59973b(0x207)](_0x52cd22,_0x453b8d,{'targetLevel':_0x324128[_0x59973b(0x25c)],'otherExistingClassItems':_0x165d18});if(_0x492080||_0x2b6db1===_0x59973b(0x3b5)){let _0x303f6a=![];_0x57adee[_0x59973b(0x2b6)][_0x59973b(0x245)]=_0x57adee[_0x59973b(0x2b6)][_0x59973b(0x245)]||{};const _0x5245b4=MiscUtil[_0x59973b(0x3bb)](_0x324128[_0x59973b(0x2c3)],_0x59973b(0x2b6),_0x59973b(0x245),{});if(_0x492080){const _0x2ffb82=UtilDataConverter[_0x59973b(0x279)]['full'],_0x1331da=_0x2ffb82[_0x492080-0x1]||_0x2ffb82[_0x59973b(0x2fa)]();_0x1331da['forEach']((_0x49020d,_0x261eba)=>{const _0x10bcb7=_0x59973b;if(_0x49020d===0x0)return;const _0x1c8bf0=_0x10bcb7(0x37c)+(_0x261eba+0x1),_0x1da8ac=MiscUtil[_0x10bcb7(0x2fc)](this[_0x10bcb7(0x379)],_0x10bcb7(0x2b6),_0x10bcb7(0x2b6),_0x10bcb7(0x245),_0x1c8bf0,_0x10bcb7(0x2e8)),_0x11961b=MiscUtil[_0x10bcb7(0x2fc)](this['_actor'],'data',_0x10bcb7(0x2b6),_0x10bcb7(0x245),_0x1c8bf0,_0x10bcb7(0x397));if(_0x1da8ac!=null){if(_0x1da8ac<_0x49020d){_0x303f6a=!![];const _0x5ec139=_0x49020d-_0x1da8ac;_0x57adee[_0x10bcb7(0x2b6)]['spells'][_0x1c8bf0]={'max':_0x49020d,'value':_0x11961b+_0x5ec139},_0x5245b4[_0x1c8bf0]={'max':_0x49020d,'value':_0x11961b+_0x5ec139};}}else _0x303f6a=!![],_0x57adee['data'][_0x10bcb7(0x245)][_0x1c8bf0]={'max':_0x49020d,'value':_0x49020d},_0x5245b4[_0x1c8bf0]={'max':_0x49020d,'value':_0x49020d};});}else{if(_0x2b6db1===_0x59973b(0x3b5)){const _0x466990=MiscUtil[_0x59973b(0x2fc)](this['_actor'],_0x59973b(0x2b6),_0x59973b(0x2b6),_0x59973b(0x245),'pact',_0x59973b(0x2e8)),_0x50ab9b=MiscUtil[_0x59973b(0x2fc)](this[_0x59973b(0x379)],_0x59973b(0x2b6),_0x59973b(0x2b6),_0x59973b(0x245),_0x59973b(0x3b5),_0x59973b(0x397)),_0x5c74ab=UtilDataConverter[_0x59973b(0x279)][_0x59973b(0x3b5)][_0x30c0a7-0x1][_0x59973b(0x37e)](Boolean);if(_0x466990!=null){if(_0x466990<_0x5c74ab){_0x303f6a=!![];const _0x10ea47=_0x5c74ab-_0x466990;_0x57adee['data'][_0x59973b(0x245)]['pact']={'max':_0x5c74ab,'value':_0x50ab9b+_0x10ea47},_0x5245b4[_0x59973b(0x3b5)]={'max':_0x5c74ab,'value':_0x50ab9b+_0x10ea47};}}else _0x303f6a=!![],_0x57adee[_0x59973b(0x2b6)][_0x59973b(0x245)]['pact']={'max':_0x5c74ab,'value':_0x5c74ab},_0x5245b4[_0x59973b(0x3b5)]={'max':_0x5c74ab,'value':_0x5c74ab};}}!_0x303f6a&&(delete _0x57adee['data'][_0x59973b(0x245)],delete _0x324128[_0x59973b(0x2c3)][_0x59973b(0x2b6)]['spells']);}if(_0x520294)(_0x57adee[_0x59973b(0x2b6)][_0x59973b(0x24a)]=_0x57adee['data']['attributes']||{})[_0x59973b(0x309)]=_0x520294;await this[_0x59973b(0x2c9)]({'actUpdate':_0x57adee,'totalSpellcastingLevels':_0x492080});}async[_0x2dc70f(0x2c9)]({actUpdate:_0xbad98d,totalSpellcastingLevels:_0x107c4d}){const _0x37959b=_0x2dc70f,_0x4900c4=this[_0x37959b(0x379)]?.['type']===_0x37959b(0x238)?_0x37959b(0x316):_0x37959b(0x3a6);if(!_0x107c4d||!Config[_0x37959b(0x2fc)](_0x37959b(0x22e),_0x4900c4))return;return Config[_0x37959b(0x2fc)](_0x37959b(0x22e),_0x37959b(0x320))===ConfigConsts[_0x37959b(0x3a2)]?UtilActors[_0x37959b(0x185)]({'actor':this[_0x37959b(0x379)],'totalSpellcastingLevels':_0x107c4d}):this['_pImportEntry_pDoUpdateCharacter_spellcasting_spellPsiPoints_resource']({'actUpdate':_0xbad98d,'amount':UtilDataConverter['getSpellPointTotal']({'totalSpellcastingLevels':_0x107c4d}),'label':_0x37959b(0x247),'resource':Config[_0x37959b(0x36b)]()});}async['_pImportEntry_pDoUpdateCharacter_spellcasting_spellPsiPoints_resource']({actUpdate:_0x12b6ba,amount:_0x139af0,label:_0x40ac9d,resource:_0x2d601b}){const _0x50c0c7=_0x2dc70f,_0x341222=(_0x2d601b||'')[_0x50c0c7(0x25a)]()[_0x50c0c7(0x1b9)]('.');if(!_0x341222[_0x50c0c7(0x1d3)]){const _0x4faebd='Could\x20not\x20update\x20'+_0x40ac9d+_0x50c0c7(0x2f4)+_0x2d601b+'\x22\x20was\x20not\x20valid!';console[_0x50c0c7(0x299)](...LGT,_0x4faebd),ui[_0x50c0c7(0x1a3)][_0x50c0c7(0x299)](_0x4faebd);return;}const _0x4553ac=[..._0x341222,_0x50c0c7(0x397)],_0x1ef8e3=[..._0x341222,_0x50c0c7(0x2e8)],_0x1aaa59=this['_actor'][_0x50c0c7(0x2b6)][_0x50c0c7(0x293)]||this['_actor'][_0x50c0c7(0x2b6)],_0xa5823a=MiscUtil[_0x50c0c7(0x2fc)](_0x1aaa59,_0x50c0c7(0x2b6),..._0x4553ac)||0x0,_0x4bee0a=MiscUtil[_0x50c0c7(0x2fc)](_0x1aaa59,_0x50c0c7(0x2b6),..._0x1ef8e3)||0x0;if(_0x139af0>_0x4bee0a){const _0x32a197=_0x139af0-_0x4bee0a;MiscUtil[_0x50c0c7(0x306)](_0x12b6ba,_0x50c0c7(0x2b6),..._0x4553ac,_0xa5823a+_0x32a197),MiscUtil[_0x50c0c7(0x306)](_0x12b6ba,_0x50c0c7(0x2b6),..._0x1ef8e3,_0x139af0);const _0x5f364c=[..._0x341222,_0x50c0c7(0x298)];!MiscUtil[_0x50c0c7(0x2fc)](_0x1aaa59,_0x50c0c7(0x2b6),..._0x5f364c)&&MiscUtil[_0x50c0c7(0x306)](_0x12b6ba,_0x50c0c7(0x2b6),..._0x5f364c,_0x40ac9d);}}async[_0x2dc70f(0x1dc)]({actUpdate:_0x45f0a0,cls:_0x3a6087,sc:_0xdb23b4,dataBuilderOpts:_0x3e5dfc,otherExistingClassItems:_0x4c55a2}){const _0x3dcd56=_0x2dc70f,{totalMysticLevels:_0x1500af}=Charactermancer_Class_Util[_0x3dcd56(0x2e7)]({'cls':_0x3a6087,'targetLevel':_0x3e5dfc['targetLevel'],'otherExistingClassItems':_0x4c55a2});await this[_0x3dcd56(0x351)]({'actUpdate':_0x45f0a0,'totalMysticLevels':_0x1500af});}async['_pImportEntry_pDoUpdateCharacter_psionics_psiPoints']({actUpdate:_0x598497,totalMysticLevels:_0x5e6c5d}){const _0x18463c=_0x2dc70f;if(!_0x5e6c5d)return;return Config['get']('importPsionic',_0x18463c(0x198))===ConfigConsts[_0x18463c(0x3a2)]?UtilActors[_0x18463c(0x1c4)]({'actor':this[_0x18463c(0x379)],'totalMysticLevels':_0x5e6c5d}):this['_pImportEntry_pDoUpdateCharacter_spellcasting_spellPsiPoints_resource']({'actUpdate':_0x598497,'amount':UtilDataConverter[_0x18463c(0x3aa)]({'totalMysticLevels':_0x5e6c5d}),'label':'Psi\x20Points','resource':Config[_0x18463c(0x1c1)]()});}async[_0x2dc70f(0x319)]({actUpdate:_0x39e3bf,cls:_0x1e0b48,dataBuilderOpts:_0x485f2b}){const _0x3bd8a2=_0x2dc70f;if(!_0x485f2b[_0x3bd8a2(0x1e6)]||!Charactermancer_Class_HpIncreaseModeSelect['isHpAvailable'](_0x1e0b48))return;const _0x13fff7=Parser[_0x3bd8a2(0x301)](Charactermancer_Util[_0x3bd8a2(0x35f)](this[_0x3bd8a2(0x379)])[_0x3bd8a2(0x36f)]),_0x3d7c7c=_0x485f2b['isIncludesLevelOne']&&_0x485f2b[_0x3bd8a2(0x211)]!==Charactermancer_Class_ProficiencyImportModeSelect[_0x3bd8a2(0x2c0)];let _0x17e694=_0x3d7c7c?_0x1e0b48['hd'][_0x3bd8a2(0x27d)]*_0x1e0b48['hd'][_0x3bd8a2(0x233)]+_0x13fff7:0x0;const _0x15453f=_0x3d7c7c?_0x485f2b[_0x3bd8a2(0x31c)]-0x1:_0x485f2b[_0x3bd8a2(0x31c)];switch(_0x485f2b['hpIncreaseMode']){case Charactermancer_Class_HpIncreaseModeSelect[_0x3bd8a2(0x348)]:{const _0x1f2944=Math[_0x3bd8a2(0x248)](_0x1e0b48['hd'][_0x3bd8a2(0x27d)]*((_0x1e0b48['hd'][_0x3bd8a2(0x233)]+0x1)/0x2));_0x17e694+=_0x15453f*Math[_0x3bd8a2(0x2e8)](_0x1f2944+_0x13fff7,0x1);break;}case Charactermancer_Class_HpIncreaseModeSelect[_0x3bd8a2(0x2b0)]:{for(let _0x3d9ebf=0x0;_0x3d9ebf<_0x15453f;++_0x3d9ebf){const _0x2bc9a9=new Roll(_0x1e0b48['hd'][_0x3bd8a2(0x27d)]+'d'+_0x1e0b48['hd']['faces']+_0x3bd8a2(0x181)+_0x13fff7);await _0x2bc9a9[_0x3bd8a2(0x3c6)](),_0x17e694+=Math['max'](_0x2bc9a9[_0x3bd8a2(0x2f3)],0x1),await _0x2bc9a9[_0x3bd8a2(0x27b)]({'flavor':_0x3bd8a2(0x399),'speaker':{'actor':this[_0x3bd8a2(0x379)]['id'],'alias':this[_0x3bd8a2(0x379)][_0x3bd8a2(0x28c)],'scene':null,'token':null}});}break;}case Charactermancer_Class_HpIncreaseModeSelect[_0x3bd8a2(0x20f)]:{_0x17e694=0x0;break;}default:throw new Error(_0x3bd8a2(0x392)+_0x485f2b[_0x3bd8a2(0x370)]+'\x22');}if(_0x17e694){const {value:_0x4c9da9,max:_0x397f2f}=Charactermancer_Util['getBaseHp'](this[_0x3bd8a2(0x379)]);switch(_0x485f2b[_0x3bd8a2(0x211)]){case Charactermancer_Class_ProficiencyImportModeSelect[_0x3bd8a2(0x2c0)]:{const _0x16b6b9=_0x4c9da9+_0x17e694,_0x47a63e=_0x397f2f+_0x17e694;MiscUtil[_0x3bd8a2(0x306)](_0x39e3bf,_0x3bd8a2(0x2b6),_0x3bd8a2(0x24a),'hp',_0x3bd8a2(0x397),_0x16b6b9),MiscUtil[_0x3bd8a2(0x306)](_0x39e3bf,_0x3bd8a2(0x2b6),_0x3bd8a2(0x24a),'hp',_0x3bd8a2(0x2e8),_0x47a63e);break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x3bd8a2(0x183)]:{const _0xea7e91=(_0x3d7c7c?0x0:_0x4c9da9)+_0x17e694,_0x586318=(_0x3d7c7c?0x0:_0x397f2f)+_0x17e694;MiscUtil[_0x3bd8a2(0x306)](_0x39e3bf,'data',_0x3bd8a2(0x24a),'hp','value',_0xea7e91),MiscUtil[_0x3bd8a2(0x306)](_0x39e3bf,_0x3bd8a2(0x2b6),_0x3bd8a2(0x24a),'hp','max',_0x586318);break;}case Charactermancer_Class_ProficiencyImportModeSelect['MODE_NONE']:break;default:throw new Error(_0x3bd8a2(0x1ce)+_0x485f2b[_0x3bd8a2(0x211)]+'\x22');}}}async[_0x2dc70f(0x3b4)]({actUpdate:_0x319f64,cls:_0x59645f,dataBuilderOpts:_0x5d93dc}){const _0x77b876=_0x2dc70f;await DataConverter[_0x77b876(0x262)](MiscUtil[_0x77b876(0x2fc)](this['_actor'],_0x77b876(0x2b6),'data',_0x77b876(0x368),'languages'),_0x59645f[_0x77b876(0x33a)],_0x319f64[_0x77b876(0x2b6)],_0x5d93dc);}async[_0x2dc70f(0x3a7)](_0x8f84bc,_0x1234fa,_0x3a6a1e,_0x389c1e){const _0x599a5a=_0x2dc70f,_0x2d89b1={'chosenProficiencies':{}};_0x2d89b1[_0x599a5a(0x1fb)]=await this[_0x599a5a(0x2dc)](_0x8f84bc,_0x1234fa[_0x599a5a(0x323)],_0x1234fa[_0x599a5a(0x3b7)],Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY'],_0x389c1e);if(_0x389c1e[_0x599a5a(0x259)])return;await this[_0x599a5a(0x2e4)](_0x1234fa,_0x389c1e);if(_0x389c1e['isCancelled'])return;return _0x2d89b1;}async['_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom'](_0x2b5676,_0xe529c0,_0x5c1725,_0x80f403,_0xa997a){const _0x306a0d=_0x2dc70f,_0x497b7d={'skills':{}};if(_0xe529c0?.[_0x306a0d(0x1d4)]){const _0x5bd3fe=await DataConverter[_0x306a0d(0x271)](MiscUtil[_0x306a0d(0x2fc)](this[_0x306a0d(0x379)],_0x306a0d(0x2b6),_0x306a0d(0x2b6),_0x306a0d(0x1d4)),_0xe529c0['skills'],_0x2b5676[_0x306a0d(0x2b6)],_0xa997a);if(_0xa997a[_0x306a0d(0x259)])return _0x497b7d;_0x497b7d['skills']=_0x5bd3fe;}const _0x52b390=await Charactermancer_Class_StartingProficiencies[_0x306a0d(0x3bf)]({'mode':_0x80f403,'primaryProficiencies':_0x80f403===Charactermancer_Class_ProficiencyImportModeSelect[_0x306a0d(0x183)]?_0xe529c0:null,'multiclassProficiencies':_0x80f403===Charactermancer_Class_ProficiencyImportModeSelect[_0x306a0d(0x2c0)]?_0xe529c0:null,'savingThrowsProficiencies':_0x5c1725,'existingProficienciesFvttArmor':MiscUtil[_0x306a0d(0x2fc)](this[_0x306a0d(0x379)],_0x306a0d(0x2b6),_0x306a0d(0x2b6),_0x306a0d(0x368),_0x306a0d(0x362)),'existingProficienciesFvttWeapons':MiscUtil['get'](this['_actor'],_0x306a0d(0x2b6),'data',_0x306a0d(0x368),_0x306a0d(0x2d4)),'existingProficienciesFvttTools':MiscUtil[_0x306a0d(0x2fc)](this[_0x306a0d(0x379)],_0x306a0d(0x2b6),_0x306a0d(0x2b6),_0x306a0d(0x368),_0x306a0d(0x3c0)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies['getExistingProficienciesFvttSavingThrows'](this[_0x306a0d(0x379)])});if(_0x52b390==null)return _0xa997a[_0x306a0d(0x259)]=!![];if(_0x52b390===VeCt['SYM_UI_SKIP'])return;return Charactermancer_Class_StartingProficiencies[_0x306a0d(0x39f)](_0x2b5676,_0x52b390),_0x497b7d;}async[_0x2dc70f(0x253)](_0x451f40,_0x30627c,_0x267cc9,_0x58410e){const _0x43faf6=_0x2dc70f,_0x287613={'chosenProficiencies':{}};if(_0x30627c[_0x43faf6(0x1a8)]&&_0x30627c[_0x43faf6(0x1a8)][_0x43faf6(0x2d5)]){_0x287613[_0x43faf6(0x1fb)]=await this[_0x43faf6(0x2dc)](_0x451f40,_0x30627c['multiclassing']['proficienciesGained'],null,Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS'],_0x58410e);if(_0x58410e[_0x43faf6(0x259)])return;}return _0x287613;}['_getExistingClassItems'](_0xc95c06){const _0x343a2b=_0x2dc70f;return Charactermancer_Class_Util[_0x343a2b(0x1a0)](this[_0x343a2b(0x379)],_0xc95c06);}async[_0x2dc70f(0x3c4)](_0x13694e,_0x593959,_0x537d57,_0x58baaf,_0x37caaf){const _0x58bc1a=_0x2dc70f,_0x822169={'curLevel':0x0,'existingClassItem':null};let _0x2f125b={};if(_0x37caaf[_0x58bc1a(0x1e6)]&&_0x37caaf[_0x58bc1a(0x2ce)])switch(_0x37caaf['proficiencyImportMode']){case Charactermancer_Class_ProficiencyImportModeSelect[_0x58bc1a(0x2c0)]:{_0x2f125b=await this[_0x58bc1a(0x253)](_0x13694e,_0x593959,_0x537d57,_0x37caaf);break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x58bc1a(0x183)]:{_0x2f125b=await this[_0x58bc1a(0x3a7)](_0x13694e,_0x593959,_0x537d57,_0x37caaf);if(_0x37caaf[_0x58bc1a(0x259)])return;break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x58bc1a(0x2cd)]:{break;}default:throw new Error('Unknown\x20proficiency\x20import\x20mode\x20\x22'+_0x37caaf[_0x58bc1a(0x211)]+'\x22');}let _0x1c6fc3=await DataConverterClass[_0x58bc1a(0x2b9)](_0x593959,_0x537d57);if(Config[_0x58bc1a(0x2fc)](this[_0x58bc1a(0x199)],_0x58bc1a(0x1e8))&&_0x593959[_0x58bc1a(0x3bc)]&&_0x593959[_0x58bc1a(0x3bc)][_0x58bc1a(0x1d3)])_0x1c6fc3+=Renderer[_0x58bc1a(0x2fc)]()['setFirstSection'](!![])[_0x58bc1a(0x34a)]({'type':_0x593959[_0x58bc1a(0x3bc)][0x0][_0x58bc1a(0x33e)]||_0x58bc1a(0x25d),'entries':_0x593959[_0x58bc1a(0x3bc)][0x0][_0x58bc1a(0x23f)]||[]});const _0x559d62=this[_0x58bc1a(0x37b)](_0x593959),_0xc373b=await((async()=>{const _0x4f6c5a=_0x58bc1a;if(!_0x559d62[_0x4f6c5a(0x1d3)])return null;if(!_0x537d57&&_0x559d62[_0x4f6c5a(0x1d3)]===0x1)return _0x559d62[0x0];if(!_0x537d57)return this[_0x4f6c5a(0x317)](_0x593959,_0x537d57,_0x559d62);const _0x1dca00=_0x559d62[_0x4f6c5a(0x1e5)](_0xcdf959=>_0xcdf959[_0x4f6c5a(0x2b6)][_0x4f6c5a(0x2b6)][_0x4f6c5a(0x322)]);if(!_0x1dca00[_0x4f6c5a(0x1d3)]&&_0x559d62[_0x4f6c5a(0x1d3)]===0x1)return _0x559d62[0x0];if(!_0x1dca00['length'])return this[_0x4f6c5a(0x317)](_0x593959,_0x537d57,_0x559d62);const _0x4129ea=_0x559d62[_0x4f6c5a(0x1e5)](_0x10bb5b=>(_0x10bb5b[_0x4f6c5a(0x2b6)][_0x4f6c5a(0x2b6)][_0x4f6c5a(0x322)]||'')===_0x537d57['name']);if(!_0x4129ea['length'])return this[_0x4f6c5a(0x317)](_0x593959,_0x537d57,_0x559d62);if(_0x4129ea['length']===0x1)return _0x4129ea[0x0];return this[_0x4f6c5a(0x317)](_0x593959,_0x537d57,_0x4129ea);})());_0x37caaf[_0x58bc1a(0x241)]=_0xc373b;if(_0xc373b){let _0x514a84=![];const _0x5bd476={'_id':_0xc373b['id']};_0x1c6fc3&&!(_0xc373b[_0x58bc1a(0x2b6)]['data'][_0x58bc1a(0x273)]?.[_0x58bc1a(0x397)]||''[_0x58bc1a(0x25a)]())&&(_0x514a84=!![],((_0x5bd476[_0x58bc1a(0x2b6)]=_0x5bd476[_0x58bc1a(0x2b6)]||{})[_0x58bc1a(0x273)]=_0x5bd476[_0x58bc1a(0x2b6)][_0x58bc1a(0x273)]||{})[_0x58bc1a(0x397)]=_0x1c6fc3);let _0x3b635d=_0xc373b[_0x58bc1a(0x2b6)][_0x58bc1a(0x2b6)][_0x58bc1a(0x22d)];_0x3b635d&&(_0x37caaf['targetLevel']>_0x3b635d&&(_0x514a84=!![],(_0x5bd476[_0x58bc1a(0x2b6)]=_0x5bd476[_0x58bc1a(0x2b6)]||{})[_0x58bc1a(0x22d)]=_0x37caaf['targetLevel']));if(_0x537d57&&_0x537d57[_0x58bc1a(0x28c)]){const _0x309f66=_0xc373b[_0x58bc1a(0x2b6)][_0x58bc1a(0x2b6)][_0x58bc1a(0x322)];if(_0x309f66!==_0x537d57[_0x58bc1a(0x28c)]){_0x514a84=!![],(_0x5bd476[_0x58bc1a(0x2b6)]=_0x5bd476['data']||{})[_0x58bc1a(0x322)]=_0x537d57[_0x58bc1a(0x28c)];const _0x24eeb9=MiscUtil['copy'](_0xc373b[_0x58bc1a(0x2ef)]||{}),_0x3572a3=_0x24eeb9[SharedConsts[_0x58bc1a(0x28b)]]=_0x24eeb9[SharedConsts[_0x58bc1a(0x28b)]]||{},_0x5a0c3d=this[_0x58bc1a(0x310)](_0x593959,_0x537d57,_0x58baaf,_0x37caaf);_0x3572a3[_0x58bc1a(0x36c)]=_0x5a0c3d[SharedConsts[_0x58bc1a(0x28b)]]['sourceSubclass'],_0x3572a3[_0x58bc1a(0x345)]=_0x5a0c3d[SharedConsts[_0x58bc1a(0x28b)]][_0x58bc1a(0x345)],_0x5bd476['flags']=_0x24eeb9;}}if(_0x514a84)_0x37caaf[_0x58bc1a(0x3ac)]=_0x5bd476;_0x822169[_0x58bc1a(0x2e2)]=_0x3b635d||0x0,_0x822169[_0x58bc1a(0x2ed)]=_0xc373b;}else{const _0x2c3229=(_0x537d57||{})['casterProgression']||_0x593959[_0x58bc1a(0x226)],_0x340713=await Vetools[_0x58bc1a(0x354)](await this['_pGetClassImagePath'](_0x593959)),_0x1e1357=_0x2f125b[_0x58bc1a(0x1fb)]&&_0x2f125b[_0x58bc1a(0x1fb)][_0x58bc1a(0x1d4)]?Object[_0x58bc1a(0x33b)](_0x2f125b[_0x58bc1a(0x1fb)][_0x58bc1a(0x1d4)]):[];_0x37caaf[_0x58bc1a(0x2d0)]={'name':UtilApplications[_0x58bc1a(0x380)](UtilDataConverter['getNameWithSourcePart'](_0x593959,{'isActorItem':!![]})),'type':'class','data':{'description':{'value':_0x1c6fc3,'chat':'','unidentified':''},'source':UtilDataConverter[_0x58bc1a(0x3b2)](_0x593959),'levels':_0x37caaf[_0x58bc1a(0x25c)],'subclass':_0x537d57?_0x537d57[_0x58bc1a(0x28c)]:'','hitDice':DataConverterClass['getDataHitDice'](_0x593959),'hitDiceUsed':0x0,'spellcasting':{'progression':UtilActors[_0x58bc1a(0x24f)](_0x2c3229)||_0x2c3229,'ability':_0x37caaf['spellcastingAbility']},'saves':_0x37caaf[_0x58bc1a(0x211)]===Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY']?DataConverterClass[_0x58bc1a(0x2e1)](_0x593959):[],'skills':{'number':_0x37caaf[_0x58bc1a(0x211)]===Charactermancer_Class_ProficiencyImportModeSelect[_0x58bc1a(0x2c0)]?_0x593959[_0x58bc1a(0x223)]||0x0:_0x593959[_0x58bc1a(0x3a3)]||0x0,'choices':_0x37caaf[_0x58bc1a(0x211)]===Charactermancer_Class_ProficiencyImportModeSelect[_0x58bc1a(0x2c0)]?DataConverterClass['getAllSkillChoices'](MiscUtil[_0x58bc1a(0x2fc)](_0x593959,_0x58bc1a(0x1a8),_0x58bc1a(0x2d5),_0x58bc1a(0x1d4))||[]):DataConverterClass[_0x58bc1a(0x260)](MiscUtil[_0x58bc1a(0x2fc)](_0x593959,_0x58bc1a(0x323),_0x58bc1a(0x1d4))||[]),'value':_0x1e1357}},'flags':this[_0x58bc1a(0x310)](_0x593959,_0x537d57,_0x58baaf,_0x37caaf),'img':_0x340713};}return _0x822169;}async['_pGetClassImagePath'](_0x4cec3a){const _0xcc6699=_0x2dc70f;if(_0x4cec3a[_0xcc6699(0x1be)])return _0x4cec3a[_0xcc6699(0x1be)];const _0x9f4d22=await UtilCompendium['pGetCompendiumImage'](_0xcc6699(0x209),_0x4cec3a);if(_0x9f4d22)return _0x9f4d22;return _0xcc6699(0x236)+SharedConsts[_0xcc6699(0x302)]+_0xcc6699(0x32f);}[_0x2dc70f(0x310)](_0x58796b,_0x2bcb9e,_0x1b482d,_0x1a40af){const _0x2a3364=_0x2dc70f;return{[SharedConsts[_0x2a3364(0x28b)]]:{'page':UrlUtil[_0x2a3364(0x2e3)],'source':_0x58796b['source'],'hash':UrlUtil[_0x2a3364(0x204)][UrlUtil[_0x2a3364(0x2e3)]](_0x58796b),'sourceSubclass':_0x2bcb9e?_0x2bcb9e[_0x2a3364(0x39a)]:null,'hashSubclass':_0x2bcb9e?UrlUtil[_0x2a3364(0x204)]['subclass'](_0x2bcb9e):null,'filterValues':_0x1b482d['filterValues']||this[_0x2a3364(0x182)][_0x2a3364(0x1b7)][_0x2a3364(0x274)](),'isPrimaryClass':_0x1a40af['proficiencyImportMode']===Charactermancer_Class_ProficiencyImportModeSelect[_0x2a3364(0x183)]}};}async['_pGetUserClassItem'](_0x343b86,_0x3a718a,_0x17e3da){const _0x22d47c=_0x2dc70f,_0x3ae65b=''+(_0x343b86[_0x22d47c(0x28c)]||_0x22d47c(0x2c7))+(_0x3a718a?'\x20('+(_0x3a718a[_0x22d47c(0x28c)]||_0x22d47c(0x1d8))+')':''),_0x1a8e38=await InputUiUtil[_0x22d47c(0x194)]({'values':_0x17e3da,'placeholder':_0x22d47c(0x2b5),'title':_0x22d47c(0x278)+_0x3ae65b+_0x22d47c(0x3b8),'fnDisplay':_0x38616d=>{const _0x5c4c08=_0x22d47c;if(_0x38616d==null)return _0x5c4c08(0x1cc);const _0x136bac=(_0x38616d[_0x5c4c08(0x2b6)][_0x5c4c08(0x2b6)][_0x5c4c08(0x322)]||'')[_0x5c4c08(0x25a)]();return''+(_0x38616d[_0x5c4c08(0x28c)]||_0x5c4c08(0x2c7))+(_0x136bac?':\x20'+_0x136bac:'');},'isAllowNull':!![]});if(_0x1a8e38==null)return null;return _0x17e3da[_0x1a8e38];}async['_pImportCasterCantrips'](_0x173bc8,_0x572dcc,_0x3234c0,_0x309d8f,_0x48e748){const _0x371075=_0x2dc70f;if(_0x173bc8[_0x371075(0x2ad)])return;const _0x54e1e1=Charactermancer_Spell_Util[_0x371075(0x34c)]({'cls':_0x173bc8,'sc':_0x572dcc,'curLevel':_0x3234c0,'targetLevel':_0x48e748['targetLevel']});if(!_0x54e1e1)return;const {maxCantripsHigh:_0x51d1a8,deltaMaxCantrips:_0x5786a0}=_0x54e1e1;if(!_0x5786a0||!_0x51d1a8)return;const _0x1d250f=await Charactermancer_Spell_Modal['pGetUserInput']({'actor':this[_0x371075(0x379)],'existingClass':_0x48e748[_0x371075(0x3ac)]?_0x173bc8:null,'existingCasterMeta':Charactermancer_Spell_Util[_0x371075(0x202)]({'cls':_0x173bc8,'sc':_0x572dcc,'actor':this[_0x371075(0x379)],'targetLevel':_0x48e748['targetLevel']}),'spellDatas':(await Vetools[_0x371075(0x327)]({'isIncludeLoadedBrew':!![],'isApplyBlacklist':!![]}))['spell'],'className':_0x173bc8[_0x371075(0x28c)],'classSource':_0x173bc8[_0x371075(0x39a)],'brewClassSpells':_0x173bc8[_0x371075(0x21c)],'subclassName':_0x572dcc?.['name'],'subclassSource':_0x572dcc?.[_0x371075(0x39a)],'brewSubclassSpells':_0x572dcc?.[_0x371075(0x2a5)],'brewSubSubclassSpells':_0x572dcc?.[_0x371075(0x227)],'maxLevel':0x0,'maxLearnedCantrips':_0x51d1a8});if(!_0x1d250f)return _0x309d8f[_0x371075(0x259)]=!![];if(_0x1d250f===VeCt['SYM_UI_SKIP'])return;await Charactermancer_Spell[_0x371075(0x38a)](this[_0x371075(0x379)],_0x1d250f,{'cls':_0x173bc8,'sc':_0x572dcc});}async[_0x2dc70f(0x388)](_0x39c8dd,_0x27b29b,_0x547680,_0x3a9caf){const _0x51c65f=_0x2dc70f,_0x13e35a=Charactermancer_Spell_Util[_0x51c65f(0x2bd)]({'cls':_0x39c8dd,'sc':_0x27b29b});if(!_0x13e35a)return;const _0x7d5483=this[_0x51c65f(0x379)][_0x51c65f(0x372)][_0x51c65f(0x26c)][_0x51c65f(0x37e)](_0x558f61=>(_0x558f61['data']?.[_0x51c65f(0x298)]||'')[_0x51c65f(0x2d2)]()[_0x51c65f(0x25a)]()===_0x51c65f(0x326));if(_0x7d5483)return;_0x3a9caf[_0x51c65f(0x372)]['push'](UtilActiveEffects[_0x51c65f(0x282)]({'key':_0x51c65f(0x1a5),'value':_0x13e35a,'mode':CONST[_0x51c65f(0x1e7)][_0x51c65f(0x218)],'label':'Prepared\x20Spells','icon':await Vetools[_0x51c65f(0x354)](await this['_pGetClassImagePath'](_0x39c8dd)),'disabled':![],'priority':UtilActiveEffects[_0x51c65f(0x19b)],'originActor':this[_0x51c65f(0x379)],'originActorItem':_0x3a9caf['classItem']}));}async[_0x2dc70f(0x2b2)](_0x2c3f0c,_0x19daaf,_0x3ffa71,_0x5078ee){const _0x14c260=_0x2dc70f;if(_0x2c3f0c[_0x14c260(0x21a)])return;const _0x314a35=Charactermancer_Spell_Util[_0x14c260(0x25e)]({'casterProgression':DataConverter[_0x14c260(0x364)](_0x2c3f0c[_0x14c260(0x226)],_0x19daaf?.['casterProgression']),'curLevel':_0x3ffa71,'targetLevel':_0x5078ee[_0x14c260(0x25c)],'isBreakpointsOnly':!![]});if(!_0x314a35)return;const {spellLevelLow:_0x34847c,spellLevelHigh:_0x30fad3,deltaLevels:_0x5df4fb}=_0x314a35,_0x3870c9=await InputUiUtil[_0x14c260(0x382)]({'title':_0x14c260(0x18c),'htmlDescription':_0x14c260(0x3b0)+(_0x5df4fb===0x1?'':'s')+'\x20'+(_0x5df4fb===0x1?_0x5078ee[_0x14c260(0x25c)]:_0x3ffa71+0x1+'-'+_0x5078ee[_0x14c260(0x25c)])+_0x14c260(0x20c),'textYes':'Yes','textNo':'No'});if(!_0x3870c9)return;const _0x1cc60a=_0x19daaf?BrewUtil[_0x14c260(0x355)](_0x19daaf[_0x14c260(0x39a)]):BrewUtil[_0x14c260(0x355)](_0x2c3f0c[_0x14c260(0x39a)]),_0x2974f8=!_0x1cc60a&&(_0x19daaf?SourceUtil[_0x14c260(0x191)](_0x19daaf[_0x14c260(0x39a)]):SourceUtil[_0x14c260(0x191)](_0x2c3f0c[_0x14c260(0x39a)])),_0x3f8c87=(await Vetools[_0x14c260(0x327)]({'isFilterNonStandard':!_0x2974f8,'additionalSourcesBrew':_0x1cc60a?this[_0x14c260(0x243)](_0x2c3f0c,_0x19daaf):null,'isApplyBlacklist':!![]}))[_0x14c260(0x37c)],_0x18e63b=Charactermancer_Class_Util['getPreparableSpells'](_0x3f8c87,_0x2c3f0c,_0x34847c,_0x30fad3);if(!_0x18e63b['length'])return;const {ImportListSpell:_0x1464e1}=await import(_0x14c260(0x35e)),_0x5dee86=new _0x1464e1({'actor':this['_actor']});await _0x5dee86['pInit']();for(const _0x2d9c8a of _0x18e63b){const _0xdfbcd1=DataConverterSpell[_0x14c260(0x3c7)](this[_0x14c260(0x379)],_0x2d9c8a[_0x14c260(0x28c)],_0x2d9c8a[_0x14c260(0x39a)]);if(_0xdfbcd1)continue;await _0x5dee86[_0x14c260(0x29c)](_0x2d9c8a,{'opts_pGetSpellItem':{...await UtilActors[_0x14c260(0x387)](),'abilityAbv':_0x5078ee[_0x14c260(0x1e4)]}});}}[_0x2dc70f(0x243)](_0x3ffce7,_0x1911f3){const _0x4ae6ee=_0x2dc70f,_0x11c06c=new Set();if(!Parser[_0x4ae6ee(0x29d)][_0x3ffce7[_0x4ae6ee(0x39a)]])_0x11c06c['add'](_0x3ffce7['source']);if(_0x1911f3&&!Parser[_0x4ae6ee(0x29d)][_0x1911f3['source']])_0x11c06c[_0x4ae6ee(0x26e)](_0x1911f3['source']);return _0x3ffce7[_0x4ae6ee(0x21c)]&&_0x3ffce7[_0x4ae6ee(0x21c)]['filter'](_0x5614e2=>_0x5614e2['source']&&!Parser['SOURCE_JSON_TO_ABV'][_0x5614e2[_0x4ae6ee(0x39a)]])[_0x4ae6ee(0x331)](({source:_0x234d52})=>_0x11c06c[_0x4ae6ee(0x26e)](_0x234d52)),_0x1911f3&&_0x1911f3[_0x4ae6ee(0x2a5)]&&_0x1911f3['subclassSpells'][_0x4ae6ee(0x1e5)](_0x26fe89=>_0x26fe89[_0x4ae6ee(0x39a)]&&!Parser[_0x4ae6ee(0x29d)][_0x26fe89[_0x4ae6ee(0x39a)]])[_0x4ae6ee(0x331)](({source:_0x4f807f})=>_0x11c06c[_0x4ae6ee(0x26e)](_0x4f807f)),[..._0x11c06c];}async[_0x2dc70f(0x363)](_0x3032f3,_0x16f0d9,_0x5189da,_0x234cc2){const _0x35ae49=_0x2dc70f,_0x1c1645=Charactermancer_Spell_Util[_0x35ae49(0x25e)]({'casterProgression':_0x3032f3[_0x35ae49(0x226)],'curLevel':_0x5189da,'targetLevel':_0x234cc2[_0x35ae49(0x25c)]}),_0x491f2f=await Charactermancer_AdditionalSpellsSelect['pGetUserInput']({'additionalSpells':_0x3032f3[_0x35ae49(0x217)],'sourceHintText':_0x3032f3[_0x35ae49(0x28c)],'curLevel':_0x5189da,'targetLevel':_0x234cc2[_0x35ae49(0x25c)],'spellLevelLow':_0x1c1645?_0x1c1645[_0x35ae49(0x24d)]:null,'spellLevelHigh':_0x1c1645?_0x1c1645[_0x35ae49(0x192)]:null,'isStandalone':!![]});if(_0x491f2f==null)return _0x234cc2[_0x35ae49(0x259)]=!![];_0x491f2f!==VeCt['SYM_UI_SKIP']&&await Charactermancer_AdditionalSpellsSelect[_0x35ae49(0x38a)](this[_0x35ae49(0x379)],_0x491f2f,{'abilityAbv':_0x234cc2[_0x35ae49(0x1e4)]});for(const _0x2deec5 of _0x16f0d9){const _0x59b9c5=Charactermancer_Spell_Util[_0x35ae49(0x25e)]({'casterProgression':_0x2deec5?.[_0x35ae49(0x226)]||_0x3032f3[_0x35ae49(0x226)],'curLevel':_0x5189da,'targetLevel':_0x234cc2[_0x35ae49(0x25c)]}),_0x5c7438=await Charactermancer_AdditionalSpellsSelect[_0x35ae49(0x3bf)]({'additionalSpells':_0x2deec5[_0x35ae49(0x217)],'sourceHintText':_0x2deec5[_0x35ae49(0x28c)],'curLevel':_0x5189da,'targetLevel':_0x234cc2['targetLevel'],'spellLevelLow':_0x59b9c5?_0x59b9c5['spellLevelLow']:null,'spellLevelHigh':_0x59b9c5?_0x59b9c5[_0x35ae49(0x192)]:null,'isStandalone':!![]});if(_0x5c7438==null)return _0x234cc2[_0x35ae49(0x259)]=!![];if(_0x5c7438===VeCt[_0x35ae49(0x29f)])continue;await Charactermancer_AdditionalSpellsSelect[_0x35ae49(0x38a)](this[_0x35ae49(0x379)],_0x5c7438,{'abilityAbv':_0x234cc2[_0x35ae49(0x1e4)]});}}async[_0x2dc70f(0x3a1)](_0x11d9de,_0x3d0320,_0x14cb86,_0x4bead7,_0x594347){const _0x149101=_0x2dc70f;if(_0x11d9de[_0x149101(0x20a)])await this['_pImportEntry_pFillItemArrayPredefinedFeatures']({'allPreloadedFeatures':_0x11d9de['_foundryAllFeatures'],'importOpts':_0x4bead7,'dataBuilderOpts':_0x594347}),this['_pImportEntry_handleConDifference']({'conInitial':_0x11d9de[_0x149101(0x312)],'conFinal':_0x11d9de['_foundryConFinal'],'isConPreApplied':!![],'dataBuilderOpts':_0x594347});else{const _0x100eec=_0x3d0320[_0x149101(0x1e5)](_0x171289=>_0x14cb86[_0x149101(0x32b)](_0x171289['level']-0x1)),_0xe74174=await this[_0x149101(0x359)](_0x100eec,_0x4bead7,_0x594347);if(_0x594347['isCancelled'])return;this[_0x149101(0x229)]({'conInitial':_0xe74174[_0x149101(0x200)],'conFinal':_0xe74174['conFinal'],'dataBuilderOpts':_0x594347});}}async[_0x2dc70f(0x2d1)]({allPreloadedFeatures:_0x10c726,importOpts:_0x2f44d6,dataBuilderOpts:_0x27b39c}){const _0x2fcaa0=_0x2dc70f,{ImportListClassFeature:_0x10e23e}=await import(_0x2fcaa0(0x31a)),{ImportListOptionalFeature:_0x516797}=await import(_0x2fcaa0(0x20b)),_0x12d6c4=new _0x10e23e({'actor':this[_0x2fcaa0(0x379)]});await _0x12d6c4[_0x2fcaa0(0x38f)]();const _0x5eecdc=new _0x516797({'actor':this[_0x2fcaa0(0x379)]});await _0x5eecdc[_0x2fcaa0(0x38f)]();for(const _0x163a12 of _0x10c726){switch(_0x163a12[_0x2fcaa0(0x33e)]){case _0x2fcaa0(0x360):{await _0x5eecdc[_0x2fcaa0(0x29c)](_0x163a12[_0x2fcaa0(0x28e)],{'isCharactermancer':!![],'isLeaf':!![]});break;}case _0x2fcaa0(0x1db):case _0x2fcaa0(0x1ae):{await _0x12d6c4['pImportEntry'](_0x163a12[_0x2fcaa0(0x28e)],{'isCharactermancer':!![],'isLeaf':!![],'spellcastingAbilityAbv':_0x27b39c[_0x2fcaa0(0x1e4)]});break;}default:throw new Error('Unhandled\x20feature\x20type\x20\x22'+_0x163a12[_0x2fcaa0(0x33e)]+'\x22');}}}async[_0x2dc70f(0x359)](_0x42967d,_0x44dd14,_0x1b550b){const _0x18b710=_0x2dc70f,_0x1bde21=Charactermancer_Util['getCurrentAbilityScores'](this['_actor'])[_0x18b710(0x36f)],_0x15c7a4=new Charactermancer_Class_Util[(_0x18b710(0x254))](this[_0x18b710(0x379)]),{ImportListClassFeature:_0x1698ae}=await import('./ImportListClassFeature.js'),_0x168775=new _0x1698ae({'actor':this[_0x18b710(0x379)]});await _0x168775['pInit']();for(const _0x388977 of _0x42967d){const _0x4e6ff7=(_0x388977[_0x18b710(0x28c)]||'')[_0x18b710(0x2d2)]()['trim']();if(_0x4e6ff7===_0x18b710(0x2f0)){const _0x3b11a2=new ImportListClass[(_0x18b710(0x34d))](this['_actor'],_0x388977[_0x18b710(0x1cf)],_0x1b550b);_0x3b11a2[_0x18b710(0x34a)](!![]);const _0x3e7b86=await _0x3b11a2['pWaitForUserInput']();if(_0x3e7b86){const _0x22d394=new ImportListFeat({'actor':this[_0x18b710(0x379)]});await _0x22d394['pImportEntry'](_0x3e7b86,{'isCharactermancer':_0x44dd14[_0x18b710(0x1d7)]});}continue;}await _0x168775['pImportEntry'](_0x388977,{'isCharactermancer':_0x44dd14[_0x18b710(0x1d7)],'isPreLoadedFeature':!![],'featureEntriesPageFilter':this[_0x18b710(0x182)],'featureEntriesPageFilterValues':_0x44dd14[_0x18b710(0x2d6)]||this[_0x18b710(0x182)][_0x18b710(0x1b7)][_0x18b710(0x274)](),'existingFeatureChecker':_0x15c7a4,'spellcastingAbilityAbv':_0x1b550b['spellcastingAbility']});}if(_0x1b550b['isCancelled'])return;const _0x4d4bf1=Charactermancer_Util[_0x18b710(0x35f)](this['_actor'])[_0x18b710(0x36f)];return{'conInitial':_0x1bde21,'conFinal':_0x4d4bf1};}['_pImportEntry_handleConDifference']({conInitial:_0x2610a7,conFinal:_0x3553dd,dataBuilderOpts:_0x1146be,isConPreApplied:_0x3b0ce2}){const _0x37bcdb=_0x2dc70f;if(_0x2610a7==null||_0x3553dd==null||_0x3553dd===_0x2610a7)return;const _0x360d42=Parser[_0x37bcdb(0x301)](_0x2610a7),_0x2cd931=Parser[_0x37bcdb(0x301)](_0x3553dd),_0x4225e5=(_0x1146be[_0x37bcdb(0x37d)]+(_0x3b0ce2?0x0:_0x1146be[_0x37bcdb(0x31c)]))*(_0x2cd931-_0x360d42),{value:_0x25ea2e,max:_0x6ac02a}=Charactermancer_Util[_0x37bcdb(0x1ec)](this[_0x37bcdb(0x379)]),_0x211068=_0x25ea2e+_0x4225e5,_0x3bc3ef=_0x6ac02a+_0x4225e5;MiscUtil[_0x37bcdb(0x306)](_0x1146be[_0x37bcdb(0x1b0)],_0x37bcdb(0x2b6),_0x37bcdb(0x24a),'hp','value',_0x211068),MiscUtil[_0x37bcdb(0x306)](_0x1146be[_0x37bcdb(0x1b0)],_0x37bcdb(0x2b6),'attributes','hp',_0x37bcdb(0x2e8),_0x3bc3ef);}async[_0x2dc70f(0x2cc)](_0x166463,_0x1cdaee,_0x482bc0){const _0x3894e8=_0x2dc70f;if(_0x482bc0[_0x3894e8(0x2d0)]){const _0x567d94=await UtilActors['pAddActorItems'](this[_0x3894e8(0x379)],[_0x482bc0[_0x3894e8(0x2d0)]],{},{'addFeatures':![]});_0x482bc0[_0x3894e8(0x241)]=DataConverter[_0x3894e8(0x22a)](_0x567d94,_0x482bc0['classItemToCreate'])?.[_0x3894e8(0x1ee)];if(await DataConverterClass[_0x3894e8(0x321)](this[_0x3894e8(0x379)],_0x166463,_0x1cdaee)&&_0x482bc0[_0x3894e8(0x241)]){const _0x2f4947=await DataConverterClass['pGetClassSubclassItemEffects'](this['_actor'],_0x166463,_0x1cdaee,_0x482bc0['classItem']);await UtilActors[_0x3894e8(0x2b1)](this[_0x3894e8(0x379)],_0x2f4947);}}_0x482bc0[_0x3894e8(0x3ac)]&&await UtilDocuments[_0x3894e8(0x196)](this[_0x3894e8(0x379)],[_0x482bc0[_0x3894e8(0x3ac)]],{'propData':'items','ClsEmbed':Item},{'addFeatures':![]});}async[_0x2dc70f(0x3af)](){const _0xd472e7=_0x2dc70f;if(!Config[_0xd472e7(0x2fc)](this['_configGroup'],'isAddUnarmedStrike'))return;const _0x476c99=MiscUtil[_0xd472e7(0x2fc)](this['_actor'],_0xd472e7(0x2b6),'items')||[],_0x59adab=_0x476c99[_0xd472e7(0x1ac)](_0x3e2c1f=>_0x3e2c1f[_0xd472e7(0x28c)][_0xd472e7(0x1b9)]('(')[0x0][_0xd472e7(0x25a)]()[_0xd472e7(0x2d2)]()===ImportListClass['_ITEM_NAME_UNARMED_STRIKE'][_0xd472e7(0x2d2)]());if(_0x59adab)return;const _0x32a32e={'name':'Unarmed\x20Strike','source':SRC_PHB,'page':0x95,'srd':!![],'type':'M','rarity':_0xd472e7(0x300),'weaponCategory':'simple','foundryData':{'equipped':!![],'damage.parts':[['1\x20+\x20@mod',_0xd472e7(0x3a5)]],'ability':'str'}},{ChooseImporter:_0x46e32b}=await import(_0xd472e7(0x2d7)),_0x274b2c=_0x46e32b[_0xd472e7(0x2b3)](_0xd472e7(0x28d),this[_0xd472e7(0x379)]);await _0x274b2c[_0xd472e7(0x38f)](),await _0x274b2c[_0xd472e7(0x29c)](_0x32a32e);}async[_0x2dc70f(0x369)](_0x5ad558){const _0x5bcffa=_0x2dc70f;if(_0x5ad558['formDataEquipment']?.['data']?.[_0x5bcffa(0x18e)])MiscUtil['set'](_0x5ad558[_0x5bcffa(0x1b0)],_0x5bcffa(0x2b6),'currency',_0x5ad558[_0x5bcffa(0x335)][_0x5bcffa(0x2b6)][_0x5bcffa(0x18e)]);await this[_0x5bcffa(0x23a)](_0x5ad558[_0x5bcffa(0x1b0)]),await Charactermancer_StartingEquipment[_0x5bcffa(0x1fa)](this[_0x5bcffa(0x379)],_0x5ad558[_0x5bcffa(0x335)]);_0x5ad558[_0x5bcffa(0x372)][_0x5bcffa(0x1d3)]&&await UtilActors[_0x5bcffa(0x2b1)](this[_0x5bcffa(0x379)],_0x5ad558[_0x5bcffa(0x372)]);Util[_0x5bcffa(0x2dd)](_0x5ad558[_0x5bcffa(0x2c3)]);if(Object['keys'](_0x5ad558[_0x5bcffa(0x2c3)])[_0x5bcffa(0x1d3)])await UtilDocuments[_0x5bcffa(0x1f9)](this['_actor'],_0x5ad558[_0x5bcffa(0x2c3)]);}async['_pValidateUserLevelIndices'](_0x4b667b,_0x12030f){const _0x419aba=_0x2dc70f;if(_0x4b667b['length']>0x1)return;if(_0x4b667b[0x0]===0x0)return;const _0x2ea972=this[_0x419aba(0x379)][_0x419aba(0x2af)]['filter'](_0x27e32c=>_0x27e32c[_0x419aba(0x33e)]===_0x419aba(0x209));if(_0x2ea972[_0x419aba(0x1d3)])return;const _0xf9ed50=_0x4b667b[0x0]+0x1,_0x59a230=await InputUiUtil['pGetUserBoolean']({'title':_0x419aba(0x394),'htmlDescription':'You\x20have\x20selected\x20a\x20single\x20level\x20to\x20import\x20(level\x20'+_0xf9ed50+').\x20Would\x20you\x20like\x20to\x20import\x20level'+(_0xf9ed50===0x2?'':'s')+'\x20'+(_0xf9ed50===0x2?'1':'1-'+(_0xf9ed50-0x1))+_0x419aba(0x305),'textYes':_0x419aba(0x38c)+_0xf9ed50,'textNo':'Import\x20Level\x20'+_0xf9ed50});if(_0x59a230==null){_0x12030f[_0x419aba(0x259)]=!![];return;}if(_0x59a230){const _0xed7690=_0x4b667b[0x0];for(let _0x54f454=0x0;_0x54f454<=_0xed7690;++_0x54f454){_0x4b667b[_0x54f454]=_0x54f454;}}}async['_pImportEntry_pDoUpdateCharacter_pPopulateEquipment'](_0x4f79fd,_0x5b3583){const _0x1baed8=_0x2dc70f;if(!_0x4f79fd[_0x1baed8(0x216)])return;const _0x501e75=new Charactermancer_StartingEquipment({'actor':this['_actor'],'startingEquipment':_0x4f79fd[_0x1baed8(0x216)],'appSubTitle':_0x4f79fd[_0x1baed8(0x28c)],'equiSpecialSource':_0x4f79fd['source'],'equiSpecialPage':_0x4f79fd[_0x1baed8(0x187)]}),_0x202824=await _0x501e75['pWaitForUserInput']();if(_0x202824==null)return _0x5b3583[_0x1baed8(0x259)]=!![];if(_0x202824===VeCt[_0x1baed8(0x29f)])return;_0x5b3583[_0x1baed8(0x335)]=_0x202824;}static async['pGetDefaultFilterValues'](){const _0x308f2a=_0x2dc70f,_0x15341=new ModalFilterClasses({'namespace':ModalFilterClasses['name']+_0x308f2a(0x24e)});return await _0x15341['pPreloadHidden'](),_0x15341['pageFilter'][_0x308f2a(0x1b7)][_0x308f2a(0x274)]();}['_getAsTag'](_0x4c52ec){const _0x1a45aa=_0x2dc70f,_0xa05d82=this[_0x1a45aa(0x1f1)][_0x4c52ec[_0x1a45aa(0x2b6)][_0x1a45aa(0x338)]],_0x284850=_0xa05d82['subclasses'][_0x4c52ec[_0x1a45aa(0x2b6)][_0x1a45aa(0x27e)]],_0x401a85=DataUtil[_0x1a45aa(0x303)]['packUid'](_0xa05d82,_0x1a45aa(0x209));return'@class['+_0x401a85+']';}}ImportListClass[_0x2dc70f(0x2ae)]=_0x2dc70f(0x215),ImportListClass['_ITEM_NAME_UNARMED_STRIKE']=_0x2dc70f(0x1fd),ImportListClass[_0x2dc70f(0x1f7)]=class extends ImportListCharacter[_0x2dc70f(0x1f7)]{constructor(_0x22df9f){const _0x1eb741=_0x2dc70f;super(_0x22df9f),_0x22df9f=_0x22df9f||{},this[_0x1eb741(0x1e6)]=!!_0x22df9f['isClassImport'],this[_0x1eb741(0x1b0)]={},this[_0x1eb741(0x2c3)]={},this[_0x1eb741(0x2d0)]=null,this[_0x1eb741(0x3ac)]=null,this[_0x1eb741(0x241)]=null,this[_0x1eb741(0x335)]=null,this[_0x1eb741(0x25c)]=null,this[_0x1eb741(0x31c)]=null,this[_0x1eb741(0x37d)]=null,this[_0x1eb741(0x2ce)]=null,this['spellcastingAbility']=null,this[_0x1eb741(0x211)]=null,this['hpIncreaseMode']=null;}},ImportListClass[_0x2dc70f(0x3c9)]=class{static[_0x2dc70f(0x38d)]({allContentFlat:_0x273fe3}){const _0x31e82e=_0x2dc70f;_0x273fe3=MiscUtil[_0x31e82e(0x32a)](_0x273fe3);const _0x57278c=[],_0x277617=new Set();return _0x273fe3['forEach'](_0x5dd2f7=>{const _0x137f69=_0x31e82e,_0x2c4e8c=UrlUtil[_0x137f69(0x204)][UrlUtil[_0x137f69(0x2e3)]](_0x5dd2f7);if(_0x277617[_0x137f69(0x35d)](_0x2c4e8c)){if(_0x5dd2f7[_0x137f69(0x2fd)]?.[_0x137f69(0x1d3)]){const _0x408e57=_0x57278c[_0x137f69(0x37e)](_0x253534=>UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x137f69(0x2e3)]](_0x253534)===_0x2c4e8c);(_0x408e57[_0x137f69(0x2fd)]=_0x408e57[_0x137f69(0x2fd)]||[])[_0x137f69(0x288)](..._0x5dd2f7[_0x137f69(0x2fd)]);}return;}_0x277617['add'](_0x2c4e8c),_0x57278c[_0x137f69(0x288)](_0x5dd2f7);}),_0x57278c;}static['getBlacklistFilteredData']({dedupedAllContentFlat:_0x19119a}){const _0x20bfe1=_0x19119a['filter'](_0x2324f6=>{const _0x31bb74=_0x4ba4;if(_0x2324f6[_0x31bb74(0x39a)]===VeCt['STR_GENERIC'])return![];return!ExcludeUtil['isExcluded'](UrlUtil[_0x31bb74(0x204)][_0x31bb74(0x209)](_0x2324f6),'class',_0x2324f6['source'],{'isNoCount':!![]});});return _0x20bfe1['forEach'](_0x51f7ea=>{const _0x3cb8c9=_0x4ba4;if(!_0x51f7ea['subclasses'])return;_0x51f7ea[_0x3cb8c9(0x2fd)]=_0x51f7ea[_0x3cb8c9(0x2fd)]['filter'](_0x26dd62=>{const _0x32122e=_0x3cb8c9;if(_0x26dd62[_0x32122e(0x39a)]===VeCt['STR_GENERIC'])return![];return!ExcludeUtil['isExcluded'](UrlUtil['URL_TO_HASH_BUILDER'][_0x32122e(0x322)](_0x26dd62),_0x32122e(0x322),_0x26dd62['source'],{'isNoCount':!![]});});}),_0x20bfe1;}},ImportListClass['AbilityScoreIncrease']=class extends Application{constructor(_0x525d9f,_0x297cec,_0x580bd9){const _0x451ae5=_0x2dc70f;super({'title':_0x451ae5(0x35c)+_0x297cec,'template':SharedConsts[_0x451ae5(0x1e2)]+_0x451ae5(0x1df),'width':0x280,'resizable':!![]}),this['_dataBuilderOpts']=_0x580bd9,this['_resolve']=null,this[_0x451ae5(0x231)]=null,this['_pUserInput']=new Promise((_0x3d2b48,_0x19229a)=>{const _0x2aa11f=_0x451ae5;this['_resolve']=_0x3d2b48,this[_0x2aa11f(0x231)]=_0x19229a;}),this[_0x451ae5(0x283)]=new ImportListClass[(_0x451ae5(0x34d))][(_0x451ae5(0x1e9))](_0x525d9f,_0x580bd9,this[_0x451ae5(0x2e9)][_0x451ae5(0x35b)](this));}['activateListeners'](_0x269f69){const _0x25e9fe=_0x2dc70f;this[_0x25e9fe(0x283)]['render'](_0x269f69);}async['close'](){const _0x5f12cc=_0x2dc70f;await super[_0x5f12cc(0x2e9)]();if(!this['_comp'][_0x5f12cc(0x367)])this[_0x5f12cc(0x1c2)][_0x5f12cc(0x259)]=!![];this['_resolve'](this['_comp'][_0x5f12cc(0x249)]());}[_0x2dc70f(0x1c9)](){return this['_pUserInput'];}},ImportListClass[_0x2dc70f(0x34d)][_0x2dc70f(0x1e9)]=class extends BaseComponent{constructor(_0x518ec7,_0x255387,_0x498b46){const _0x10ebd9=_0x2dc70f;super(),this[_0x10ebd9(0x379)]=_0x518ec7,this[_0x10ebd9(0x1c2)]=_0x255387,this[_0x10ebd9(0x201)]=_0x498b46,this['_isDataEntered']=![],Object[_0x10ebd9(0x2bb)](this[_0x10ebd9(0x313)],Charactermancer_Util[_0x10ebd9(0x2a6)](this['_actor']));}get[_0x2dc70f(0x367)](){return this['_isDataEntered'];}['render'](_0x1e34bc){const _0x3439d5=_0x2dc70f,_0x54b57f=$(_0x3439d5(0x27f))['click'](()=>this[_0x3439d5(0x358)][_0x3439d5(0x365)]=_0x3439d5(0x2ba)),_0x53cafa=$(_0x3439d5(0x21d))[_0x3439d5(0x1c6)](()=>this[_0x3439d5(0x358)][_0x3439d5(0x365)]=_0x3439d5(0x34f)),_0x4934e5=$(_0x3439d5(0x23c)),_0x3334b7=$(_0x3439d5(0x23c)),_0x5b49db=()=>{const _0x3bb253=_0x3439d5,_0x1381b0=this[_0x3bb253(0x358)]['mode']===_0x3bb253(0x2ba);_0x54b57f[_0x3bb253(0x255)]('active',_0x1381b0),_0x53cafa['toggleClass'](_0x3bb253(0x2a7),!_0x1381b0),_0x4934e5[_0x3bb253(0x225)](_0x1381b0),_0x3334b7[_0x3bb253(0x225)](!_0x1381b0);};_0x5b49db(),this[_0x3439d5(0x26a)]('mode',_0x5b49db),this['_render_ability'](_0x4934e5),this['_render_feat'](_0x3334b7),$$(_0x1e34bc)`<div class="ve-flex-col w-100 h-100">
			<div class="ve-flex no-shrink btn-group mb-1">${_0x54b57f}${_0x53cafa}</div>
			${_0x4934e5}
			${_0x3334b7}
		</div>`;}[_0x2dc70f(0x188)](_0x56c419){const _0xe38111=_0x2dc70f,_0x98f1d2=[_0xe38111(0x2d8),_0xe38111(0x31e),_0xe38111(0x36f),_0xe38111(0x197),_0xe38111(0x258),_0xe38111(0x29b)][_0xe38111(0x2c2)](_0x3eb856=>{const _0x589b74=_0xe38111,_0x27b788=$(_0x589b74(0x203)),_0x3db3d4=$(_0x589b74(0x203)),_0x437989=()=>{const _0x4eb2e2=_0x589b74;_0x27b788[_0x4eb2e2(0x221)](this[_0x4eb2e2(0x358)][_0x3eb856]),_0x3db3d4[_0x4eb2e2(0x221)](Parser['getAbilityModifier'](this['_state'][_0x3eb856]));};this['_addHookBase'](_0x3eb856,_0x437989),_0x437989();const _0x311446=_0x3eb856+_0x589b74(0x20e),{$wrp:_0x1398c0,$ipt:_0x266b3c}=ComponentUiUtil[_0x589b74(0x1f6)](this,_0x311446,0x0,{'min':0x0,'fallbackOnNaN':0x0,'html':_0x589b74(0x1bf),'asMeta':!![],'decorationRight':_0x589b74(0x276),'decorationLeft':_0x589b74(0x347)});_0x266b3c[_0x589b74(0x1c6)](()=>_0x266b3c[_0x589b74(0x28f)]());const _0x174e7b=$(_0x589b74(0x203)),_0xd9524d=$(_0x589b74(0x203)),_0x7261f8=()=>{const _0x480dbf=_0x589b74,_0x54b5d6=this['_state'][_0x3eb856]+this[_0x480dbf(0x358)][_0x311446];_0x174e7b[_0x480dbf(0x221)](_0x54b5d6),_0xd9524d['text'](Parser['getAbilityModifier'](_0x54b5d6)),_0x174e7b[_0x480dbf(0x255)](_0x480dbf(0x2a2),_0x54b5d6>0x14)[_0x480dbf(0x263)](_0x54b5d6>0x14?_0x480dbf(0x210):'');};this[_0x589b74(0x26a)](_0x311446,_0x7261f8),_0x7261f8();const _0x344c87=$$`<div class="ve-flex w-100 my-1">
				<div class="col-1 text-right bold">${_0x3eb856[_0x589b74(0x2ab)]()}</div>
				${_0x27b788}
				${_0x3db3d4}
				<div class="col-2">${_0x1398c0}</div>
				<div class="col-1 text-center">=</div>
				${_0x174e7b}
				${_0xd9524d}
			</div>`;return{'$row':_0x344c87,'$iptBonus':_0x266b3c};}),_0x255e8a=$('<div\x20class=\x22text-center\x22\x20title=\x22Remaining\x22></div>'),_0xc2f84a=()=>{const _0x21242d=_0xe38111,_0x12d478=[_0x21242d(0x23d),_0x21242d(0x17e),_0x21242d(0x186),_0x21242d(0x195),_0x21242d(0x373),_0x21242d(0x242)][_0x21242d(0x2c2)](_0x4aa4e4=>this['_state'][_0x4aa4e4])[_0x21242d(0x35a)]((_0x433e95,_0x315127)=>_0x433e95+_0x315127,0x0),_0x405081=_0x12d478>0x2;_0x255e8a[_0x21242d(0x221)](_0x21242d(0x2fe)+(0x2-_0x12d478))[_0x21242d(0x255)]('veapp__msg-error',_0x405081),_0x98f1d2['forEach'](_0x2cd5db=>_0x2cd5db['$iptBonus']['toggleClass']('form-control--error',_0x405081));};[_0xe38111(0x23d),_0xe38111(0x17e),_0xe38111(0x186),_0xe38111(0x195),'wisBonus',_0xe38111(0x242)][_0xe38111(0x331)](_0x134d5c=>this[_0xe38111(0x26a)](_0x134d5c,_0xc2f84a)),_0xc2f84a();const _0x513add=$(_0xe38111(0x239))[_0xe38111(0x1c6)](async()=>{const _0x4e7353=_0xe38111,_0x30e36d=[this['_state'][_0x4e7353(0x23d)],this['_state'][_0x4e7353(0x17e)],this[_0x4e7353(0x358)][_0x4e7353(0x186)],this['_state'][_0x4e7353(0x195)],this[_0x4e7353(0x358)][_0x4e7353(0x373)],this['_state'][_0x4e7353(0x242)]][_0x4e7353(0x35a)]((_0x163445,_0xa36758)=>_0x163445+_0xa36758,0x0);if(_0x30e36d!==0x2)return ui['notifications'][_0x4e7353(0x230)](_0x4e7353(0x1aa));await this[_0x4e7353(0x3b6)](!![]);}),_0x33a45c=$('<button\x20class=\x22btn\x20btn-default\x20mr-3\x22>Skip</button>')['click'](()=>this['_pDoResolve'](VeCt['SYM_UI_SKIP']));$$(_0x56c419)`
		<div class="ve-flex w-100 my-1 bold">
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Current</div>
			<div class="text-center col-2 ve-muted">Mod</div>
			<div class="text-center col-2 text-center">${_0x255e8a}</div>
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Result</div>
			<div class="text-center col-2 ve-muted">Mod</div>
		</div>
		<div class="ve-flex-col w-100 h-100">
			${_0x98f1d2[_0xe38111(0x2c2)](_0x276d1f=>_0x276d1f[_0xe38111(0x390)])}
		</div>
		<div class="ve-flex-v-center ve-flex-h-right w-100">${_0x513add}${_0x33a45c}</div>
		`;}['_render_feat'](_0x40adf3){const _0x3afe41=_0x2dc70f,_0x45bfe4=$(_0x3afe41(0x1f4))[_0x3afe41(0x1c6)](async()=>{const _0x523a58=_0x3afe41,_0x4e0395=await ImportListFeat['UserChoose'][_0x523a58(0x2f2)]({'id':_0x523a58(0x2c5),'name':_0x523a58(0x29e),'singleName':_0x523a58(0x180),'wizardTitleWindow':_0x523a58(0x325),'wizardTitlePanel3':_0x523a58(0x1f2),'wizardTitleButtonOpenImporter':_0x523a58(0x2f8)},_0x523a58(0x2da));if(!_0x4e0395)return;const {page:_0xebdac1,source:_0x44a3a2,hash:_0x2fc3c9}=MiscUtil[_0x523a58(0x2fc)](_0x4e0395,'flags',SharedConsts[_0x523a58(0x28b)])||{};if(!_0xebdac1||!_0x44a3a2||!_0x2fc3c9)return;this['_state']['feat']=await Renderer[_0x523a58(0x22b)][_0x523a58(0x19c)](_0xebdac1,_0x44a3a2,_0x2fc3c9);}),_0x236ab8=$(_0x3afe41(0x1eb)),_0x5b97d1=()=>{const _0x48ea33=_0x3afe41;_0x236ab8[_0x48ea33(0x1e1)]();if(!this[_0x48ea33(0x358)][_0x48ea33(0x34f)])return;_0x236ab8[_0x48ea33(0x1f8)](_0x48ea33(0x24b)+this[_0x48ea33(0x358)][_0x48ea33(0x34f)][_0x48ea33(0x28c)]+_0x48ea33(0x29a)),_0x236ab8[_0x48ea33(0x1e1)](),$$(_0x236ab8)`<hr class="hr-1">
			${Vetools['withUnpatchedDiceRendering'](()=>Renderer[_0x48ea33(0x22b)][_0x48ea33(0x19a)](UrlUtil['PG_FEATS'],MiscUtil[_0x48ea33(0x32a)](this[_0x48ea33(0x358)][_0x48ea33(0x34f)])))}`;};_0x5b97d1(),this[_0x3afe41(0x26a)](_0x3afe41(0x34f),_0x5b97d1);const _0x26d332=$(_0x3afe41(0x393))[_0x3afe41(0x1c6)](async()=>{const _0x44d687=_0x3afe41;if(!this[_0x44d687(0x358)][_0x44d687(0x34f)])return ui[_0x44d687(0x1a3)]['error'](_0x44d687(0x3ba));await this['_pDoResolve'](!![]);}),_0x132013=$('<button\x20class=\x22btn\x20btn-default\x20btn-5et\x22>Skip</button>')[_0x3afe41(0x1c6)](()=>this['_pDoResolve'](VeCt['SYM_UI_SKIP']));$$(_0x40adf3)`
		<div class="ve-flex-col h-100">
			<div class="ve-flex-v-center mb-1">
				${_0x45bfe4}
				<div class="ve-flex-v-center btn-group">${_0x26d332}${_0x132013}</div>
			</div>
			${_0x236ab8}
		</div>
		`;}async[_0x2dc70f(0x3b6)](_0x4acdfa){const _0x16c663=_0x2dc70f;if(!_0x4acdfa)return this[_0x16c663(0x201)]();if(_0x4acdfa===VeCt[_0x16c663(0x29f)])return this[_0x16c663(0x30d)]=!![],this[_0x16c663(0x201)]();const _0x45aeda=this[_0x16c663(0x2c1)]();_0x45aeda&&(this[_0x16c663(0x30d)]=!![],await UtilDocuments[_0x16c663(0x1f9)](this[_0x16c663(0x379)],_0x45aeda)),this['getFeat']()&&(this[_0x16c663(0x30d)]=!![]),this[_0x16c663(0x201)]();}[_0x2dc70f(0x2c1)](){const _0x4bab14=_0x2dc70f;if(this[_0x4bab14(0x358)][_0x4bab14(0x365)]!==_0x4bab14(0x2ba))return null;return{'data':{'abilities':{'str':{'value':this[_0x4bab14(0x358)]['str']+this[_0x4bab14(0x358)][_0x4bab14(0x23d)]},'dex':{'value':this['_state'][_0x4bab14(0x31e)]+this[_0x4bab14(0x358)][_0x4bab14(0x17e)]},'con':{'value':this[_0x4bab14(0x358)][_0x4bab14(0x36f)]+this['_state'][_0x4bab14(0x186)]},'int':{'value':this[_0x4bab14(0x358)]['int']+this[_0x4bab14(0x358)][_0x4bab14(0x195)]},'wis':{'value':this[_0x4bab14(0x358)][_0x4bab14(0x258)]+this[_0x4bab14(0x358)][_0x4bab14(0x373)]},'cha':{'value':this[_0x4bab14(0x358)][_0x4bab14(0x29b)]+this['_state'][_0x4bab14(0x242)]}}}};}[_0x2dc70f(0x249)](){const _0x18fe06=_0x2dc70f;if(this[_0x18fe06(0x358)][_0x18fe06(0x365)]!==_0x18fe06(0x34f))return null;return MiscUtil['copy'](this[_0x18fe06(0x358)]['feat']);}[_0x2dc70f(0x2b8)](){const _0x13af2a=_0x2dc70f;return{'mode':_0x13af2a(0x2ba),'str':0x0,'dex':0x0,'con':0x0,'int':0x0,'wis':0x0,'cha':0x0,'strBonus':0x0,'dexBonus':0x0,'conBonus':0x0,'intBonus':0x0,'wisBonus':0x0,'chaBonus':0x0,'feat':null};}},ImportListClass[_0x2dc70f(0x25f)]=class{static[_0x2dc70f(0x2f9)](){Hooks['on']('renderActorSheet',(_0xf8d2c7,_0x380fea,_0x476b81)=>{const _0xcaed0a=_0x4ba4;this['_pHandleRenderSheet'](_0xf8d2c7,_0x380fea,_0x476b81)[_0xcaed0a(0x2b4)](null);});}static async[_0x2dc70f(0x277)](_0x3375ae,_0x47a231,_0x1a721e){const _0x142ed1=_0x2dc70f;if(!Config['get'](_0x142ed1(0x2cb),_0x142ed1(0x31d)))return;if(!_0x1a721e[_0x142ed1(0x2de)])return;if(!_0x1a721e[_0x142ed1(0x339)])return;const _0x417c0d=ImportListClass[_0x142ed1(0x25f)][_0x142ed1(0x1f0)][_0x3375ae['constructor'][_0x142ed1(0x28c)]];if(!_0x417c0d)return;const _0x2ebf5e=Config['get'](_0x142ed1(0x27c),_0x142ed1(0x1c7));if(game[_0x142ed1(0x1cd)][_0x142ed1(0x1b8)]<_0x2ebf5e)return;const _0x1d406e=_0x3375ae[_0x142ed1(0x3a8)][_0x142ed1(0x2af)]['filter'](_0x416f5f=>_0x416f5f['type']==='class');if(!_0x1d406e[_0x142ed1(0x1d3)])return;const _0x4a7e4a=await _0x1d406e[_0x142ed1(0x33f)](_0x11b453=>this['_pGetAvailableClassSubclass'](_0x11b453)),_0x52f901=!_0x4a7e4a[_0x142ed1(0x1ac)](_0x2d1ac7=>!_0x2d1ac7[_0x142ed1(0x375)])?this[_0x142ed1(0x213)]({'availableClassesMetas':_0x4a7e4a}):this[_0x142ed1(0x381)]({'app':_0x3375ae,'availableClassesMetas':_0x4a7e4a});_0x417c0d[_0x142ed1(0x2f5)](_0x3375ae[_0x142ed1(0x31f)],_0x52f901);}static['_$getBtn'](){const _0xd456b7=_0x2dc70f;return $(_0xd456b7(0x20d));}static[_0x2dc70f(0x213)]({availableClassesMetas:_0x11ecc4}){const _0x5405e9=_0x2dc70f,_0xa41947=_0x11ecc4[_0x5405e9(0x2c2)](_0x1a68ad=>_0x1a68ad[_0x5405e9(0x375)])[_0x5405e9(0x1e5)](Boolean)['flat']()[_0x5405e9(0x220)](';\x20');return this[_0x5405e9(0x208)]()['prop'](_0x5405e9(0x28a),!![])['title'](_0x5405e9(0x26f)+(_0x11ecc4[_0x5405e9(0x1d3)]?_0x5405e9(0x2eb)+_0xa41947+'.':''));}static[_0x2dc70f(0x381)]({app:_0x317778,availableClassesMetas:_0x20798b}){const _0x5d6ba1=_0x2dc70f,_0x5e7448=!UtilGameSettings['getSafe'](game['system']['id'],_0x5d6ba1(0x1fc))&&UtilActors[_0x5d6ba1(0x285)](_0x317778['actor']);return this[_0x5d6ba1(0x208)]()[_0x5d6ba1(0x255)]('btn-pulse',!!_0x5e7448)[_0x5d6ba1(0x263)](_0x5d6ba1(0x1bd))['click'](async()=>{const _0x4908d9=_0x5d6ba1,{$modalInner:_0x22f8bc,doClose:_0x5ca24d}=UiUtil['getShowModal']({'title':_0x4908d9(0x1bd),'isHeaderBorder':!![],'isMaxWidth640p':!![],'isMinHeight0':!![]}),_0xc624f4=_0x20798b[_0x4908d9(0x2c2)](({errors:_0x174940,existingClassItem:_0xad8f0f,cls:_0x2fccc8,sc:_0x4e8ec1,filterValues:_0x2b47c1})=>{const _0x4a7704=_0x4908d9;if(_0x174940)return $$`<div class="ve-flex-col stripe-even py-1 ve-muted">
							<p>${(_0xad8f0f['name']||'')['qq']()}${(_0xad8f0f[_0x4a7704(0x2b6)][_0x4a7704(0x2b6)]['subclass']||'')[_0x4a7704(0x25a)]()?'\x20('+_0xad8f0f[_0x4a7704(0x2b6)][_0x4a7704(0x2b6)]['subclass']['qq']()+')':''} was not available for level up:</p>${_0x174940[_0x4a7704(0x2c2)](_0x199bb7=>'<p><i>'+_0x199bb7['qq']()+_0x4a7704(0x3b1))[_0x4a7704(0x220)]('')}
						</div>`;const _0x45efa0=$(_0x4a7704(0x1fe)+_0xad8f0f[_0x4a7704(0x2b6)][_0x4a7704(0x2b6)]['levels']+_0x4a7704(0x286)+(_0xad8f0f[_0x4a7704(0x2b6)][_0x4a7704(0x2b6)][_0x4a7704(0x22d)]+0x1)+'</button>')[_0x4a7704(0x1c6)](async()=>{const _0x573e37=_0x4a7704;_0x5ca24d();const _0x459eb3=Number(_0xad8f0f['data'][_0x573e37(0x2b6)]['levels'])+0x1;if(!_0x4e8ec1){const _0x1f4b2b=Math['min'](..._0x2fccc8[_0x573e37(0x378)][_0x573e37(0x1e5)](_0x355f5b=>_0x355f5b[_0x573e37(0x2c6)]&&_0x355f5b['classFeature'])['map'](_0xb4b930=>DataUtil[_0x573e37(0x209)][_0x573e37(0x32d)](_0xb4b930['classFeature'])[_0x573e37(0x1cf)]));if(_0x459eb3>=_0x1f4b2b){const _0x2e68e1=await InputUiUtil[_0x573e37(0x382)]({'title':_0x573e37(0x3ae),'htmlDescription':_0x573e37(0x297),'textYes':_0x573e37(0x214),'textNo':'No'});if(_0x2e68e1){const _0x5be1b5=new ModalFilterClasses({'namespace':ModalFilterClasses[_0x573e37(0x28c)]+_0x573e37(0x2e0)}),_0x3291ed=await _0x5be1b5[_0x573e37(0x332)]({'selectedClass':_0x2fccc8,'isClassDisabled':!![]});if(_0x3291ed)_0x4e8ec1=_0x3291ed[_0x573e37(0x322)];}}}const _0x2f94db=new ImportListClass({'actor':_0x317778[_0x573e37(0x3a8)]});await _0x2f94db[_0x573e37(0x38f)](),_0x2fccc8=MiscUtil[_0x573e37(0x32a)](_0x2fccc8),delete _0x2fccc8['subclasses'];const _0x4b97e1=await ImportListClass[_0x573e37(0x265)]({'class':[_0x2fccc8],'subclass':[_0x4e8ec1][_0x573e37(0x1e5)](Boolean)},{'actor':_0x317778[_0x573e37(0x3a8)]});await _0x2f94db[_0x573e37(0x371)](_0x4b97e1[0x0],{'levels':[_0x459eb3],'filterValues':_0x2b47c1}),ui['notifications'][_0x573e37(0x246)]('Level\x20up\x20complete!');});return $$`<div class="ve-flex-v-center stripe-even py-1">
						<div class="w-100 mr-2">${_0xad8f0f['name']}${_0x4e8ec1&&_0xad8f0f[_0x4a7704(0x2b6)][_0x4a7704(0x2b6)][_0x4a7704(0x322)]?'\x20('+_0xad8f0f[_0x4a7704(0x2b6)][_0x4a7704(0x2b6)][_0x4a7704(0x322)]+')':''}</div>
						<div>${_0x45efa0}</div>
					</div>`;}),_0x519900=$(_0x4908d9(0x26b))[_0x4908d9(0x1c6)](async()=>{const _0xbce291=_0x4908d9;_0x5ca24d();const _0x286409=await new ImportListClass()['pGetSources'](),_0x33cff5=new AppSourceSelectorMulti({'title':_0xbce291(0x266),'filterNamespace':_0xbce291(0x3ca),'savedSelectionKey':_0xbce291(0x19f),'sourcesToDisplay':_0x286409,'fnGetDedupedData':ImportListClass[_0xbce291(0x3c9)]['getDedupedData']['bind'](ImportListClass[_0xbce291(0x3c9)]),'fnGetBlacklistFilteredData':ImportListClass[_0xbce291(0x3c9)][_0xbce291(0x27a)][_0xbce291(0x35b)](ImportListClass[_0xbce291(0x3c9)])}),_0x5c8b48=await _0x33cff5[_0xbce291(0x1c9)]();if(_0x5c8b48==null)return;const _0x4e9c85=new ModalFilterClassesFvtt({'namespace':ModalFilterClasses[_0xbce291(0x28c)]+'.selectSubclass','allData':_0x5c8b48}),_0x4b91ad=await _0x4e9c85['pGetUserSelection']({});if(!_0x4b91ad?.['class'])return;const _0xfda04c=new ImportListClass({'actor':_0x317778[_0xbce291(0x3a8)]});await _0xfda04c[_0xbce291(0x38f)]();const _0x1cdc73=await Renderer[_0xbce291(0x22b)][_0xbce291(0x19c)](_0xbce291(0x3ad),_0x4b91ad[_0xbce291(0x209)][_0xbce291(0x39a)],UrlUtil[_0xbce291(0x204)][UrlUtil['PG_CLASSES']]({'name':_0x4b91ad[_0xbce291(0x209)][_0xbce291(0x28c)],'source':_0x4b91ad[_0xbce291(0x209)][_0xbce291(0x39a)]}),{'isCopy':!![]}),_0x29b3b0=_0x4b91ad[_0xbce291(0x322)]?await Renderer[_0xbce291(0x22b)][_0xbce291(0x19c)](_0xbce291(0x18f),_0x4b91ad['subclass']['source'],UrlUtil[_0xbce291(0x204)]['subclass']({'name':_0x4b91ad[_0xbce291(0x322)][_0xbce291(0x28c)],'shortName':_0x4b91ad[_0xbce291(0x322)][_0xbce291(0x1dd)],'source':_0x4b91ad['subclass'][_0xbce291(0x39a)],'className':_0x4b91ad[_0xbce291(0x322)][_0xbce291(0x39d)],'classSource':_0x4b91ad[_0xbce291(0x322)][_0xbce291(0x3be)]}),{'isCopy':!![]}):null;delete _0x1cdc73[_0xbce291(0x2fd)];const _0x543f1d=await ImportListClass['pPostLoad']({'class':[_0x1cdc73],'subclass':[_0x29b3b0][_0xbce291(0x1e5)](Boolean)},{'actor':_0x317778[_0xbce291(0x3a8)]}),_0x2e117b=_0x543f1d[0x0];_0x2e117b[_0xbce291(0x19d)]=Charactermancer_Class_ProficiencyImportModeSelect[_0xbce291(0x2c0)],await _0xfda04c[_0xbce291(0x371)](_0x543f1d[0x0],{'levels':[0x1],'filterValues':await ImportListClass['pGetDefaultFilterValues']()}),ui['notifications'][_0xbce291(0x246)](_0xbce291(0x212));});$$`<div class="ve-flex-col h-100 w-100 mt-2">
						<div class="mb-1">Your current classes are listed below.</div>
						<div class="mb-1">If you level a class which does not have a subclass, and is elligeble for one, you will be prompted to choose a subclass.</div>
						<div>${Renderer[_0x4908d9(0x2fc)]()[_0x4908d9(0x34a)](_0x4908d9(0x357))}</div>
						<hr class="hr-2">
						<div class="w-100">
							${_0xc624f4}
						</div>
						<hr class="hr-1 hr--dotted">
						<div class="mt-1 mb-2 ve-flex-h-right">${_0x519900}</div>
					</div>`['appendTo'](_0x22f8bc);});}static async[_0x2dc70f(0x2c4)](){const _0x2fada1=_0x2dc70f;ImportListClass[_0x2fada1(0x25f)][_0x2fada1(0x234)]=ImportListClass[_0x2fada1(0x25f)][_0x2fada1(0x234)]||((async()=>{const _0x43e898=_0x2fada1;ImportListClass[_0x43e898(0x25f)][_0x43e898(0x280)]=await DataUtil[_0x43e898(0x209)][_0x43e898(0x244)]();})()),await ImportListClass[_0x2fada1(0x25f)][_0x2fada1(0x234)];}static async[_0x2dc70f(0x376)](_0x148e0f){const _0x52f088=_0x2dc70f,_0xd53081=Number(_0x148e0f[_0x52f088(0x2b6)]['data'][_0x52f088(0x22d)]);if(isNaN(_0xd53081))return{'existingClassItem':_0x148e0f,'errors':[_0x52f088(0x3a4)+_0x148e0f[_0x52f088(0x28c)]+_0x52f088(0x3a0)+_0x148e0f['id']+_0x52f088(0x343)]};const _0x44a756=_0x148e0f?.[_0x52f088(0x2b6)]?.[_0x52f088(0x2ef)]?.[SharedConsts['MODULE_NAME_FAKE']],_0x47bb3b=await this[_0x52f088(0x2b7)](_0x44a756),_0x230b77=_0x44a756&&_0x44a756[_0x52f088(0x187)]&&_0x44a756[_0x52f088(0x39a)]&&_0x44a756[_0x52f088(0x1af)];if(!_0x230b77)return this['_pGetAvailableClassSubclassFromName'](_0x148e0f,_0x47bb3b);const _0x96b317=await Renderer['hover'][_0x52f088(0x19c)](_0x52f088(0x3ad),_0x44a756['source'],_0x44a756['hash'],{'isCopy':!![]}),_0x5e5d84=_0x44a756[_0x52f088(0x36c)]&&_0x44a756['hashSubclass']?await Renderer['hover'][_0x52f088(0x19c)](_0x52f088(0x18f),_0x44a756[_0x52f088(0x36c)],_0x44a756[_0x52f088(0x345)],{'isCopy':!![]}):null;if(_0x44a756[_0x52f088(0x36c)]&&_0x44a756[_0x52f088(0x345)]&&!_0x5e5d84)return{'existingClassItem':_0x148e0f,'errors':[_0x52f088(0x377)+_0x44a756[_0x52f088(0x345)]+_0x52f088(0x3a0)+_0x44a756[_0x52f088(0x36c)]+')\x20from\x20flags']};if(_0x96b317)return{'existingClassItem':_0x148e0f,'cls':_0x96b317,'sc':_0x5e5d84,'filterValues':_0x47bb3b};if(_0x230b77)return{'existingClassItem':_0x148e0f,'errors':['Failed\x20to\x20find\x20and/or\x20load\x20class\x20\x22'+_0x44a756['hash']+_0x52f088(0x3a0)+_0x44a756[_0x52f088(0x39a)]+_0x52f088(0x270)]};return this[_0x52f088(0x353)](_0x148e0f,_0x47bb3b);}static async['_pGetAvailableClassSubclassFromName'](_0x51e0c6,_0x177cf0){const _0x484b5a=_0x2dc70f;await this['_pCacheClassData']();const _0x4d50e0=Charactermancer_Class_Util[_0x484b5a(0x366)](_0x51e0c6,ImportListClass[_0x484b5a(0x25f)]['_CACHE_CLASS_DATA']['class']);if(!_0x4d50e0)return{'existingClassItem':_0x51e0c6,'errors':['Failed\x20to\x20find\x20and/or\x20load\x20class\x20\x22'+_0x51e0c6[_0x484b5a(0x28c)]+_0x484b5a(0x3a0)+UtilDataConverter[_0x484b5a(0x2d9)](_0x51e0c6)[_0x484b5a(0x39a)]+')\x20by\x20name']};const _0x224038=(_0x51e0c6['data'][_0x484b5a(0x2b6)]['subclass']||'')[_0x484b5a(0x25a)](),_0x449b93=_0x224038?Charactermancer_Class_Util[_0x484b5a(0x2c8)](_0x51e0c6,_0x4d50e0,ImportListClass['SheetLevelUpButtonAdapter'][_0x484b5a(0x280)][_0x484b5a(0x322)]):null;if(_0x224038&&_0x449b93==null)return{'existingClassItem':_0x51e0c6,'errors':[_0x484b5a(0x377)+_0x51e0c6['data'][_0x484b5a(0x2b6)][_0x484b5a(0x322)]+_0x484b5a(0x1ad)]};return{'existingClassItem':_0x51e0c6,'cls':_0x4d50e0,'sc':_0x449b93,'filterValues':_0x177cf0};}static async[_0x2dc70f(0x2b7)](_0x1a490f){const _0x4189d1=_0x2dc70f;if(_0x1a490f?.['filterValues'])return _0x1a490f[_0x4189d1(0x2d6)];return ImportListClass[_0x4189d1(0x395)]();}static[_0x2dc70f(0x333)](_0x2b09b1,_0x32899a){const _0x44c512=_0x2dc70f;ImportListClass[_0x44c512(0x25f)][_0x44c512(0x1f0)][_0x2b09b1]=_0x32899a;}},ImportListClass[_0x2dc70f(0x25f)][_0x2dc70f(0x234)]=null,ImportListClass[_0x2dc70f(0x25f)][_0x2dc70f(0x280)]=null,ImportListClass[_0x2dc70f(0x25f)]['_SUPPORTED_SHEETS']={},ImportListClass['SheetLevelUpButtonAdapter'][_0x2dc70f(0x219)]=class{static['addButton'](_0x691467,_0x637262){throw new Error('Unimplemented!');}static[_0x2dc70f(0x38e)](_0x198b99){const _0x154cc3=_0x2dc70f;$(_0x198b99)[_0x154cc3(0x37e)]('.imp-cls__btn-sheet-level-up')['remove']();}},ImportListClass['SheetLevelUpButtonAdapter']['SheetAdapterActorSheet5eCharacter']=class extends ImportListClass[_0x2dc70f(0x25f)]['SheetAdapter']{static['addButton'](_0x9556ed,_0x567dd5){const _0x395520=_0x2dc70f;if(!this[_0x395520(0x3a9)]){const _0x34e7ad=$(_0x9556ed)['find'](_0x395520(0x1a4));this['_INDEX_PATH']=ElementUtil[_0x395520(0x1de)](_0x9556ed,_0x34e7ad[0x0]);}const _0x3f92db=ElementUtil[_0x395520(0x350)](_0x9556ed,this['_INDEX_PATH']);_0x567dd5[_0x395520(0x190)]({'fontSize':10.5}),this[_0x395520(0x38e)](_0x3f92db),$(_0x3f92db)[_0x395520(0x385)](_0x567dd5);}},ImportListClass[_0x2dc70f(0x25f)][_0x2dc70f(0x384)][_0x2dc70f(0x3a9)]=null,ImportListClass[_0x2dc70f(0x25f)]['registerSupportedSheet'](_0x2dc70f(0x2a8),ImportListClass[_0x2dc70f(0x25f)][_0x2dc70f(0x384)]),ImportListClass[_0x2dc70f(0x25f)][_0x2dc70f(0x21f)]=class extends ImportListClass[_0x2dc70f(0x25f)][_0x2dc70f(0x219)]{static['addButton'](_0x37c5c7,_0x565aef){const _0x4ba280=_0x2dc70f;if(!this[_0x4ba280(0x3a9)]){const _0x3edac6=$(_0x37c5c7)[_0x4ba280(0x37e)](_0x4ba280(0x281));this['_INDEX_PATH']=ElementUtil[_0x4ba280(0x1de)](_0x37c5c7,_0x3edac6[0x0]);}const _0xa2c623=ElementUtil['getChildByIndexPath'](_0x37c5c7,this[_0x4ba280(0x3a9)]);_0x565aef[_0x4ba280(0x396)]('ml-2\x20self-ve-flex-center\x20b-0'),this[_0x4ba280(0x38e)](_0xa2c623),$(_0xa2c623)[_0x4ba280(0x352)](_0x565aef);}},ImportListClass[_0x2dc70f(0x25f)][_0x2dc70f(0x21f)]['_INDEX_PATH']=null,ImportListClass['SheetLevelUpButtonAdapter'][_0x2dc70f(0x333)](_0x2dc70f(0x21f),ImportListClass[_0x2dc70f(0x25f)]['Tidy5eSheet']);export{ImportListClass};function _0x1900(){const _0x55a881=['PG_CLASSES','_pImportEntry_pDoUpdateCharacter_pPopulateEquipment','pImportSubclass','Task','getMysticProgression','max','close','_pImportCasterCantrips','\x20Errors\x20were:\x20','_pImportEntry_pDoUpdateCharacter','existingClassItem','DataSourceSpecial','flags','ability\x20score\x20improvement','contains','pGetUserChoice','total','\x20total—resource\x20\x22','addButton','_pGetSelectedLevelIndices','Classes\x20&\x20Subclasses','Open\x20List','init','last','isOverwrite','get','subclasses','Remaining:\x20','DataSourceFile','none','getAbilityModNumber','MODULE_NAME','generic','SRD','\x20too?','set','_page','16zOFZpO','spellcasting','TASK_EXIT_SKIPPED_DUPLICATE','_gameProp','classSourceLong','_isDataEntered','92143EuRJPy','ele','_getClassFlags','firstElementChild','_foundryConInitial','__state','isSetXp','rollOnArray','isSpellPointsNpc','_pGetUserClassItem','pRunTasks','_pImportEntry_pDoUpdateCharacter_hp','./ImportListClassFeature.js','pSetContent','numLevels','isAddLevelUpButton','dex','form','spellPointsResource','pHasClassSubclassSideLoadedEffects','subclass','startingProficiencies','2273604MniLMp','Select\x20Source','prepared\x20spells','pGetAllSpells','13804980kEixYg','subclassFeatures','copy','includes','visibleItems','unpackUidClassFeature','center','/media/icon/laurels.svg','_pValidateUserLevelIndices','forEach','pGetUserSelection','registerSupportedSheet','trimState','formDataEquipment','ascSortLower','getData','ixClass','isCharacter','languageProficiencies','keys','408850VbqlGb','Import\x20Class\x20and\x20Subclass','type','pSerialAwaitMap','sourceJsonToStylePart','completedStub','details',')\x20did\x20not\x20have\x20a\x20valid\x20\x22levels\x22\x20value!','Failed\x20to\x20import\x20\x22','hashSubclass','_getDedupedData','spacer','MODE_TAKE_AVERAGE','floor','render','pGetClassSubclassFeatureIgnoredLookup','getCasterCantripProgressionMeta','AbilityScoreIncrease','_initCreateSheetItemHook','feat','getChildByIndexPath','_pImportEntry_pDoUpdateCharacter_psionics_psiPoints','prepend','_pGetAvailableClassSubclassFromName','pOptionallySaveImageToServerAndGetUrl','hasSourceJson','11VukYnv','Alternatively,\x20you\x20may\x20gain\x20a\x20level\x20in\x20a\x20new\x20class,\x20if\x20your\x20DM\x20allows\x20{@variantrule\x20multiclassing|phb}.','_state','_pImportEntry_pFillItemArrayFeatures','reduce','bind','Ability\x20Score\x20Improvement—Level\x20','has','./ImportListSpell.js','getCurrentAbilityScores','optionalfeature','remove','armorProf','_pImportEntry_pFillItemArrayAdditionalSpells','getMaxCasterProgression','mode','getClassFromExistingClassItem','isDataEntered','traits','_pImportEntry_pFinalise','_$btnToggleSummary','getSpellPointsResource','sourceSubclass','values','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','con','hpIncreaseMode','pImportClass','effects','wisBonus','5etools-classes','errors','_pGetAvailableClassSubclass','Failed\x20to\x20find\x20and/or\x20load\x20subclass\x20\x22','classFeatures','_actor','class_subclass','_getExistingClassItems','spell','numLevelsPrev','find','_pImportEntry_pDoUpdateCharacter_spellcasting','getCleanEntityName','_$getBtnLevelUp','pGetUserBoolean','STR_SEE_CONSOLE','SheetAdapterActorSheet5eCharacter','append','_titleSearch','pGetActorSpellItemOpts','_pImportEntry_pFillPreparedSpells','Import\x20Classes','pApplyFormDataToActor','folder','Import\x20Levels\x201-','getDedupedData','_removeExistingButton','pInit','$row','_$bntFilter','Unhandled\x20Hit\x20Points\x20increase\x20mode\x20\x22','<button\x20class=\x22btn\x20btn-primary\x20btn-5et\x22>Confirm</button>','Import\x20Lower\x20Levels?','pGetDefaultFilterValues','addClass','value','cls','HP\x20Increase','source','addToFilters','_list','className','log','applyFormDataToActorUpdate','\x22\x20(','_pImportEntry_pHandleFeatures','C_SPELL_POINTS_RESOURCE__SHEET_ITEM','_cntStartingSkillChoices','Class\x20item\x20\x22','bludgeoning','isSpellPoints','_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficienciesAndEquipment','actor','_INDEX_PATH','getPsiPointTotal','_pImportEntry_pDoUpdateCharacter_profBonus','classItemToUpdate','raw_class','Choose\x20Subclass?','_pImportEntry_pAddUnarmedStrike','<p>Do\x20you\x20want\x20to\x20populate\x20the\x20spellbook\x20for\x20this\x20class\x20(for\x20class\x20level','</i></p>','getSourceWithPagePart','_pImportClass_pGetProficiencyImportMode','_pImportEntry_pDoUpdateCharacter_languages','pact','_pDoResolve','proficiency','\x20Levels\x20To','homebrew','Please\x20select\x20a\x20feat!','getOrSet','fluff','_$btnReset','classSource','pGetUserInput','toolProf','isRadio','_pPostLoad_pGetAllOptionalFeatures','\x20via\x20Class\x20Importer','_pImportEntry_pGetCurLevelFillClassData','_foundryHpIncreaseMode','evaluate','getActorSpell','_pImportEntry_getApproxPreviousMaxLevel','Utils','ImportListClass_SheetLevelUpButtonAdapter_filter','dexBonus','\x20SUBCLASS\x20','Feat','\x20+\x20','_pageFilter','MODE_PRIMARY','_pImportClassSubclass_pImportToActor','pGetCreateActorSpellPointsItem','conBonus','page','_render_ability','isStreamerMode','preparedSpells','pGetClassItem','Populate\x20Spellbook','_$wrpBtnsSort','currency','raw_subclass','css','isNonstandardSource','spellLevelHigh','cbSel','pGetUserEnum','intBonus','pUpdateEmbeddedDocuments','int','psiPointsResource','_configGroup','$getHoverContent_stats','PRIORITY_BASE','pCacheAndGet','_foundryStartingProficiencyMode','Subclass','ImportListClass_SheetLevelUpButtonAdapter_savedSelection','getExistingClassItems','create','_pImportSubclass_pImportToActor','notifications','.charlevel','data.details.maxPreparedSpells','_cachedData','_pImportEntry_pAddToTargetTableIfRequired','multiclassing','sortDir','Please\x20enter\x20a\x20combination\x20of\x20ability\x20score\x20changes\x20which\x20adds\x20up\x20to\x20two!','rows','some','\x22\x20by\x20name','subclassFeature','hash','actorUpdate','_activateListeners_initFeelingLuckyButton','176344qOzCTU','Importing\x20class\x20\x22','5etools','_pGetSourcesHomebrew','Class','filterBox','role','split','_$wrpList','initBtnSortHandlers','list-multi-selected','Level\x20Up','foundryImg','<input\x20type=\x22text\x22\x20class=\x22text-center\x22\x20placeholder=\x220\x22>','_pImportClass_pGetHpImportMode','getPsiPointsResource','_dataBuilderOpts','fnBindListeners','pGetCreateActorPsiPointsItem','30xAxQMG','click','minimumRole','sourceJsonToAbv','pWaitForUserInput','prof','sortName','(Create\x20New\x20Feature)','user','Unknown\x20proficiency\x20import\x20mode\x20\x22','level','getTotalClassLevels','_handleFilterChange','sourceJsonToColor','length','skills','Importing\x20subclass\x20\x22','importDocument','isCharactermancer','(Unnamed\x20subclass)','_activateListeners_initRunButton','_titleButtonRun','classFeature','_pImportEntry_pDoUpdateCharacter_psionics','shortName','getIndexPathToParent','/template/ImportListClassAbilityScoreIncrease.hbs','_pImportEntry_pGetFolderId','empty','MODULE_LOCATION','pGetSubclassItem','spellcastingAbility','filter','isClassImport','ACTIVE_EFFECT_MODES','isImportDescription','Component','Custom\x20URL','<div></div>','getBaseHp','cancelled','document','sourceLong','_SUPPORTED_SHEETS','_content','Configure\x20and\x20Open\x20List','You\x20have\x20selected\x20a\x20subclass\x20to\x20import,\x20but\x20have\x20no\x20class\x20levels.\x20Would\x20you\x20like\x20to\x20import\x20the\x20class\x20too?','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x20w-100\x20mr-2\x22>Choose\x20Feat</button>','pGetClasses','$getIptNumber','ImportEntryOpts','html','pUpdateDocument','pImportEquipmentItemEntries','chosenProficiencies','disableExperienceTracking','Unarmed\x20Strike','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x20no-wrap\x22\x20title=\x22Level\x20up\x20this\x20class\x22><i\x20class=\x22fas\x20fa-fw\x20fa-arrow-alt-circle-up\x22></i>\x20Level\x20','DataSourceUrl','conInitial','_fnClose','getExistingCasterMeta','<div\x20class=\x22col-2\x20text-center\x22></div>','URL_TO_HASH_BUILDER','addFauxOptionalFeatureFeatures','_pImportEntry_setActorFlags','getCasterProgression','_$getBtn','class','_foundryAllFeatures','./ImportListOptionalFeature.js',')?</p>','<button\x20class=\x22btn\x20btn-5et\x20btn-xxs\x20ml-1\x20imp-cls__btn-sheet-level-up\x20ve-flex-vh-center\x22\x20type=\x22button\x22><i\x20class=\x22fas\x20fa-fw\x20fa-arrow-alt-circle-up\x20mx-auto\x20pl-1p\x22></i></button>','Bonus','MODE_DO_NOT_INCREASE','You\x20can\x27t\x20increase\x20an\x20ability\x20score\x20above\x2020\x20using\x20this\x20feature.','proficiencyImportMode','Level\x20up\x20complete!','_$getBtnLevelUp_errors','Yes','Base/Unarmored\x20AC','startingEquipment','additionalSpells','OVERRIDE','SheetAdapter','_foundryIsSkipImportPreparedSpells','Import\x20Only\x20Subclass','classSpells','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Feat</button>','folderId','Tidy5eSheet','join','text','_$btnFeelingLucky','_cntStartingSkillChoicesMutliclass','302661FMlwoR','toggleVe','casterProgression','subSubclassSpells','66pMVMte','_pImportEntry_handleConDifference','getImportedEmbed','hover','_pImportEntry_pDoUpdateExistingPackEntity','levels','importSpell','18zfkvnV','error','_reject','tglSel','faces','_P_LOADING_CLASS_DATA','desc','modules/','dnd5e','npc','<button\x20class=\x22btn\x20btn-primary\x20mr-2\x22>Confirm</button>','_pDoMergeAndApplyActorUpdate','_getBlacklistFilteredData','<div\x20class=\x22ve-flex-col\x20w-100\x20h-100\x22></div>','strBonus','absorbFnBindListeners','entries','Please\x20select\x20something\x20to\x20import!','classItem','chaBonus','_getBrewSpellSources','loadRawJSON','spells','info','Spell\x20Points','ceil','getFeat','attributes','<hr\x20class=\x22hr-1\x22><h3\x20class=\x22mb-2\x20mt-0\x22>Selected:\x20','_pImportClass_pImportToItems','spellLevelLow','.default','getMappedCasterType','_pack','_pImportSubclass_pImportToItems','mutateForFilters','_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies','ExistingFeatureChecker','toggleClass','_$iptSearch','Imported\x20\x22','wis','isCancelled','trim','isTemp','targetLevel','section','getCasterProgressionMeta','SheetLevelUpButtonAdapter','getAllSkillChoices','constructor','pFillActorLanguageData','title','_$cbAll','pPostLoad','Select\x20Class\x20Sources','Import\x20Class?','subclassShortName','getFilteredFeatures','_addHookBase','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x20no-wrap\x22><i\x20class=\x22fas\x20fa-fw\x20fa-plus-circle\x22></i>\x20Add\x20New\x20Class\x20(Multiclass)</button>','contents','\x20SOURCE\x20','add','Cannot\x20Level\x20Up—no\x20known\x20classes\x20found.',')\x20from\x20flags','pFillActorSkillData','_pHandleClickRunButton_pDoPreCachePack','description','getValues','_pImportEntry_pDoUpdateExistingDirectoryEntity','ticker','_pHandleRenderSheet','Select\x20Existing\x20Feature\x20to\x20Import\x20','CASTER_TYPE_TO_PROGRESSION','getBlacklistFilteredData','toMessage','import','number','ixSubclass','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Ability\x20Score\x20Improvement</button>','_CACHE_CLASS_DATA','.level-information','getGenericEffect','_comp','sheet','isLevelUp','\x20&#8594;\x20Level\x20','_$wrpMiniPills','push','existing','disabled','MODULE_NAME_FAKE','name','item','entity','select','sourceJsonToFull','SOURCE_TYP_OFFICIAL_ALL','isStubClass','_source','change','SOURCE_TYP_CUSTOM','_pImportClass_pImportToActor','Would\x20you\x20like\x20to\x20choose\x20a\x20subclass\x20to\x20include\x20in\x20the\x20level\x20up?','label','warn','</h3>','cha','pImportEntry','SOURCE_JSON_TO_ABV','Feats','SYM_UI_SKIP','\x22\x20(from\x20\x22','isHpAvailable','veapp__msg-error','307825sMBFWp','addEventListener','subclassSpells','getBaseAbilityScores','active','ActorSheet5eCharacter','checked','subRows','toUpperCase','sort','_foundryIsSkipImportCantrips','_AE_LABEL_BASE_AC','items','MODE_ROLL','pAddActorEffects','_pImportPreparedCasterSpells','getImporter','then','Select\x20Existing\x20Feature...','data','_pGetFilterValues','_getDefaultState','pGetRenderedClassTable','ability','assign','_pImportEntry','getMaxPreparedSpellsFormula','TASK_EXIT_COMPLETE','EVNT_VALCHANGE','MODE_MULTICLASS','_getActorUpdate','map','postItemActorUpdate','_pCacheClassData','feats-classAbilityScoreIncrease','gainSubclassFeature','(Unnamed\x20class)','getSubclassFromExistingClassItem','_pImportEntry_pDoUpdateCharacter_spellcasting_spellPoints','Classes','importClass','_pImportEntry_pAddUpdateClassItem','MODE_NONE','isIncludesLevelOne','_$btnRun','classItemToCreate','_pImportEntry_pFillItemArrayPredefinedFeatures','toLowerCase','isSkip','weaponProf','proficienciesGained','filterValues','./ChooseImporter.js','str','getItemSource','classAbilityScoreIncrease','classList','_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom','trimObject','owner','activateSidebarTab','.selectSubclass','getDataSaves','curLevel'];_0x1900=function(){return _0x55a881;};return _0x1900();}