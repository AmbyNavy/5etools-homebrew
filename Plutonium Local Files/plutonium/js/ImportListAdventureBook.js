const _0x297bd2=_0x229a;(function(_0x42e00a,_0x52fb62){const _0x161693=_0x229a,_0x4fae55=_0x42e00a();while(!![]){try{const _0x356bf8=-parseInt(_0x161693(0x86))/0x1*(-parseInt(_0x161693(0x148))/0x2)+parseInt(_0x161693(0xe3))/0x3*(-parseInt(_0x161693(0xe9))/0x4)+-parseInt(_0x161693(0x121))/0x5*(parseInt(_0x161693(0x164))/0x6)+-parseInt(_0x161693(0xb3))/0x7*(parseInt(_0x161693(0x16e))/0x8)+-parseInt(_0x161693(0xfe))/0x9*(-parseInt(_0x161693(0x16c))/0xa)+-parseInt(_0x161693(0xca))/0xb*(parseInt(_0x161693(0x115))/0xc)+-parseInt(_0x161693(0x106))/0xd*(-parseInt(_0x161693(0xd5))/0xe);if(_0x356bf8===_0x52fb62)break;else _0x4fae55['push'](_0x4fae55['shift']());}catch(_0x52830d){_0x4fae55['push'](_0x4fae55['shift']());}}}(_0x3eca,0xbac6f));import{ImportedDocument,ImportList,ImportSummary}from'./ImportList.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Util,LGT}from'./Util.js';import{ImportListCreature}from'./ImportListCreature.js';import{ImportListSpell}from'./ImportListSpell.js';import{UtilApplications}from'./UtilApplications.js';import{ImportListItem}from'./ImportListItem.js';import{ImportListRollableTable}from'./ImportListRollableTable.js';function _0x3eca(){const _0x3aebb5=['_getExtractedGenericTag','_defaultSource','sourceJsonToAbv','map','add','_IMPORTABLE_TAGS','_tag','find','table','create','_pGetJournalDatas','entries','style','sourceJsonToStylePart','_postLoadVetools','Failed\x20to\x20pre-process\x20data!\x20','pHandleEditFolderPathClick','journalEntry','_(\x5cd+)__(\x5cd+)_','source','_imageGroupCbMetas','_importer','_RunInfo','IMPORTABLE_TAG_CREATURE','folderType','FOLDER_TYPE','checked','_props','ImportableTag','item','props','__prop','dataProp','brewDataProp','walk','_titleSearch','fnGetInlineData','splitTagByPipe','_TAG_WALKER_BLACKLIST','C_IMPORT_ADVBOOK_JOURNAL_SPLIT_STRATEGY_CHAPTER','pInit','File\x20did\x20not\x20contain\x20importable\x20data—one\x20of\x20\x22','_registerImportableTag','isCancelled','57386CHlFcN','href','SYM_AT','_pubDate','getOrSet','_pGetSources','copy','isOrderingPrefixJournalNames','getFullYear','values','Upload\x20File','journal','_activateListeners_initConfigButtons','EmbedJournalEntry','constructor','_page','Failed\x20to\x20build\x20journal\x20data!\x20','unique','SOURCE_TYP_CUSTOM','startsWith','displayText','_activateListeners_initRunButton','Variant\x20Rules','62931kyuHBH','@variantrule','_pHandleRunButtonClick','$cb','splitFirstSpace','_pHandleRunButtonClick_pDoPreImport','variantrule','sources','Choose\x20','Could\x20not\x20import—one\x20of\x20\x22','hover','28KEstZG','_availableEntities','existing','_entryIdToMap','[].contents\x22\x20and\x20\x22','itemGroup','Failed\x20to\x20import\x20','isOverwrite','_url','name','title','Custom\x20URL','_getData','_groupNamePlural','26403DUNPFd','ascSortLower','@table','_pLoadInline','_tagCbMetas','spell','356EIaKpJ','_activateListeners_initCheckboxes','Unimplemented!','pImportEntry','_brewDataProp','head','Failed\x20to\x20finalize!','document','getWalker','journalEntries','sourceJsonToFull','Spells','_fnGetInlineHash','_extractTag','mutMapNames','click','defaultSource','DataSourceUrl','isExcluded','PG_VARIANTRULES','PG_VEHICLES','27vnfgdo','error','log','File\x20did\x20not\x20contain\x20importable\x20data—could\x20not\x20link\x20any\x20\x22','Creatures','prop','imported','...','5793502DJhDyP','getAdventureBookTables','variant','length','pLoadHash','_content','_groupName','toLowerCase','flags','groupName','Task','forEach','_fnGetIndex','maps','notifications','456eizGQQ','pUpdateDocument','keys','has','_getDuplicateMeta','toTitleCase','_configGroup','_title','fnGetInlineHash','_pHandleRunButtonClick_pDoPostImport','size','_dataProp','135ScRbxl','_registerImportableImageType','PG_SPELLS','_isActivatedTab','close','Tables','hash','_IMPORTABLE_IMAGE_TYPES','mapPlayer','JournalEntry','Could\x20not\x20import—header\x20and\x20chapter\x20counts\x20differed!','groupNamePlural','@vehupgrade','get','change','URL_TO_HASH_BUILDER','Publication\x20Year','group','_pHandleRunButtonClick_pGetTaskListTags','Import\x20Complete','push','_pLoadGenericHash','filter','PG_BESTIARY','_pHandleRunButtonClick_pGetTaskListImageGroups','activateSidebarTab','Importing\x20','Importing...','Publication\x20Date\x20(Short)','journalEntrySplitMode','TASK_EXIT_SKIPPED_DUPLICATE','getFolderPathMeta','page','tableGroup','activateListeners','STR_SEE_CONSOLE','isEnableJournalEmbeds','PG_TABLES','sidebar','203316pojdXo','slice','button[data-type=\x22configure\x22]','baseitem','_pPostLoadOther','pRunTasks','_pHandleRunButtonClick_pDoMainImport','tag','_HOMEBREW_OTHER_DATA','\x22\x20items\x20together!','Map','fnGetIndex','ImportableImageType','pCacheAndGet','body','isUseJournalEmbeds','some','published','ascSortDate','_entryIdToName','bind','_availableMaps','displayName','\x22\x20was\x20missing!','Maps','type','image-type','ixChapter','319662dlvjOO','doProcessNode_mutAddMaps','content','_displayName','_pImportEntry_pGetFolderId','_imageType','split','importer','4107890friIlc','sourceLong','136tzGqsg','/template/ImportListAdventureBook.hbs','monster','_getImportListMap','_pLoad_doActivateTab','Publication\x20Date\x20(Full)','Imported\x20','_contentMetadata','data','_fnGetInlineData','_group','ixFlat','importedId','each','[].data\x22\x20was\x20missing!','contents','sourceJsonToColor','SOURCE_TYP_OFFICIAL_SINGLE','_availableInlineData','isSkip','MODULE_NAME_FAKE','\x22\x20and\x20\x22','imageType','Finalizing','MODULE_LOCATION','input[data-tag][data-type=\x22all\x22]','entryIds','[name=\x22btn-run\x22]','12RxgGQv'];_0x3eca=function(){return _0x3aebb5;};return _0x3eca();}import{DataConverter}from'./DataConverter.js';function _0x229a(_0x497f71,_0x115cb8){const _0x3ecaf6=_0x3eca();return _0x229a=function(_0x229af5,_0x32f336){_0x229af5=_0x229af5-0x7c;let _0x5c3113=_0x3ecaf6[_0x229af5];return _0x5c3113;},_0x229a(_0x497f71,_0x115cb8);}import{UtilDataSource}from'./UtilDataSource.js';import{ImportListVariantRule}from'./ImportListVariantRule.js';import{ImportListVehicleUpgrade}from'./ImportListVehicleUpgrade.js';import{Config}from'./Config.js';import{ConfigConsts}from'./ConfigConsts.js';import{UtilFolders}from'./UtilFolders.js';import{UtilDocuments}from'./UtilDocuments.js';import{UtilAdventureBook}from'./UtilAdventureBook.js';class ImportListAdventureBook extends ImportList{static get[_0x297bd2(0xa0)](){const _0x3c22b4=_0x297bd2;return _0x3c22b4(0x12a);}constructor(_0x1b4a11,_0x2d8cf8,_0x530807,_0x54f2ca){const _0x446b4a=_0x297bd2;super({'title':_0x1b4a11[_0x446b4a(0xdf)],'template':SharedConsts[_0x446b4a(0x82)]+_0x446b4a(0x16f),'width':0x1e0,'height':Util['getMaxWindowHeight'](0x280),'resizable':!![]},_0x2d8cf8,{..._0x530807,'sidebarTab':_0x446b4a(0xbe),'gameProp':_0x446b4a(0xbe),'isNonCacheableInstance':!![]}),this['_fnGetIndex']=_0x54f2ca[_0x446b4a(0x153)],this[_0x446b4a(0x120)]=_0x54f2ca[_0x446b4a(0xa7)],this[_0x446b4a(0xed)]=_0x54f2ca[_0x446b4a(0xa8)],this[_0x446b4a(0x11c)]=_0x54f2ca[_0x446b4a(0xdf)],this[_0x446b4a(0xd6)]=null,this['_availableInlineData']=null,this[_0x446b4a(0xe7)]=null,this[_0x446b4a(0x9b)]=null,this['_availableMaps']={},this[_0x446b4a(0xd8)]={},this[_0x446b4a(0x15b)]={};}get['isRadio'](){return!![];}async[_0x297bd2(0xb8)](){const _0x5593c8=_0x297bd2,_0x148407=await this[_0x5593c8(0x112)](),_0xa5ff99=_0x148407[this['_dataProp']]['sort']((_0x59c591,_0x2d9970)=>SortUtil[_0x5593c8(0x15a)](_0x2d9970['_pubDate'],_0x59c591[_0x5593c8(0xb6)])||SortUtil['ascSortLower'](_0x59c591[_0x5593c8(0xde)],_0x2d9970[_0x5593c8(0xde)]));return[..._0xa5ff99['map'](_0x3eb751=>new UtilDataSource[(_0x5593c8(0xfa))](_0x3eb751[_0x5593c8(0xde)],_0x3eb751[_0x5593c8(0xdd)],{'pPostLoad':this[_0x5593c8(0x95)][_0x5593c8(0x15c)](this),'userData':_0x3eb751,'filterTypes':[UtilDataSource[_0x5593c8(0x17f)]],'source':_0x3eb751[_0x5593c8(0x9a)]})),new UtilDataSource[(_0x5593c8(0xfa))](_0x5593c8(0xe0),'',{'pPostLoad':this['_pPostLoadOther'][_0x5593c8(0x15c)](this),'filterTypes':[UtilDataSource[_0x5593c8(0xc5)]]}),new UtilDataSource['DataSourceFile'](_0x5593c8(0xbd),{'pPostLoad':this[_0x5593c8(0x14c)]['bind'](this),'filterTypes':[UtilDataSource[_0x5593c8(0xc5)]]}),...await this['_pGetSourcesHomebrew']({'pPostLoad':this['_pPostLoadOther'][_0x5593c8(0x15c)](this)})];}[_0x297bd2(0x95)](_0x559325,_0x111219,_0x1ed954){const _0x4439fc=_0x297bd2;return _0x559325=MiscUtil[_0x4439fc(0xb9)](_0x559325),_0x559325[_0x4439fc(0x175)]=MiscUtil['copy'](_0x1ed954),_0x559325;}async[_0x297bd2(0x14c)](_0x24d1a3){const _0x221042=_0x297bd2;if(!_0x24d1a3[this['_dataProp']]||!_0x24d1a3[this[_0x221042(0xed)]])return ui[_0x221042(0x114)][_0x221042(0xff)](_0x221042(0xb0)+this[_0x221042(0x120)]+'\x22\x20and\x20\x22'+this[_0x221042(0xed)]+_0x221042(0x15f)),null;_0x24d1a3=MiscUtil['copy'](_0x24d1a3);const _0x19fb97=_0x24d1a3[this[_0x221042(0x120)]]['map'](_0x3522c3=>{const _0x48af68=_0x221042,_0x53a833=_0x24d1a3[this[_0x48af68(0xed)]][_0x48af68(0x8e)](_0x64ec04=>_0x64ec04['id']===_0x3522c3['id']);if(!_0x53a833)return null;return{'head':_0x3522c3,'body':_0x53a833[_0x48af68(0x176)]};})[_0x221042(0x137)](Boolean);if(!_0x19fb97[_0x221042(0x109)])return ui[_0x221042(0x114)]['error'](_0x221042(0x101)+this[_0x221042(0x120)]+_0x221042(0x7f)+this[_0x221042(0xed)]+_0x221042(0x151)),null;let _0x52e67e;if(_0x19fb97[_0x221042(0x109)]===0x1)_0x52e67e=_0x19fb97[0x0];else{const _0x5431db=await InputUiUtil['pGetUserEnum']({'values':_0x19fb97[_0x221042(0x8a)](_0x4b8bfe=>_0x4b8bfe['head']['id']),'fnDisplay':_0x59c8db=>{const _0x4b67f6=_0x221042,_0x19dab1=_0x19fb97[_0x4b67f6(0x8e)](_0x30f235=>_0x30f235[_0x4b67f6(0xee)]['id']===_0x59c8db);return _0x19dab1[_0x4b67f6(0xee)][_0x4b67f6(0xde)]+'\x20('+Parser[_0x4b67f6(0x89)](_0x19dab1[_0x4b67f6(0xee)][_0x4b67f6(0x9a)])+')';},'title':_0x221042(0xd2)+this['_title'],'default':0x0,'isAllowNull':![],'isResolveItem':!![]});if(_0x5431db==null)return null;_0x52e67e=_0x19fb97[_0x221042(0x8e)](_0x2b2a75=>_0x2b2a75[_0x221042(0xee)]['id']===_0x5431db);}const _0x1c3a3a=MiscUtil[_0x221042(0x12e)](_0x52e67e,_0x221042(0xee),'contents'),_0x4898d5=MiscUtil[_0x221042(0x12e)](_0x52e67e,_0x221042(0x156));if(!_0x1c3a3a||!_0x4898d5)return ui[_0x221042(0x114)][_0x221042(0xff)](_0x221042(0xd3)+this[_0x221042(0x120)]+_0x221042(0xd9)+this[_0x221042(0xed)]+_0x221042(0x17c)),null;if(_0x1c3a3a[_0x221042(0x109)]!==_0x4898d5[_0x221042(0x109)])return ui[_0x221042(0x114)][_0x221042(0xff)](_0x221042(0x12b)),null;return{'_contentMetadata':_0x52e67e[_0x221042(0xee)],'data':_0x52e67e['body']};}[_0x297bd2(0x140)](){const _0x5b9d5f=_0x297bd2;return{...super[_0x5b9d5f(0x140)](),'published':{'label':_0x5b9d5f(0x173),'getter':_0x2997d8=>{const _0x3a7315=_0x5b9d5f;if(!_0x2997d8[_0x3a7315(0x159)])return'—';const _0xe15a9c=new Date(_0x2997d8[_0x3a7315(0x159)]);return DatetimeUtil['getDateStr'](_0xe15a9c);}},'publishedFull':{'label':_0x5b9d5f(0x13d),'getter':_0x5402bf=>{const _0x1a2483=_0x5b9d5f;if(!_0x5402bf['published'])return'—';return _0x5402bf[_0x1a2483(0x159)];}},'publishedYear':{'label':_0x5b9d5f(0x131),'getter':_0x3ed9bd=>{const _0xb3bbd0=_0x5b9d5f;if(!_0x3ed9bd[_0xb3bbd0(0x159)])return'—';return new Date(_0x3ed9bd['published'])[_0xb3bbd0(0xbb)]();}}};}['getData'](){const _0xe290e=_0x297bd2;try{return this['_getData']();}catch(_0x2e0859){ui[_0xe290e(0x114)][_0xe290e(0xff)](_0xe290e(0x96)+VeCt[_0xe290e(0x144)]);throw _0x2e0859;}}[_0x297bd2(0xe1)](){const _0x3d7f8d=_0x297bd2;this[_0x3d7f8d(0x10b)]=MiscUtil[_0x3d7f8d(0xb9)](this[_0x3d7f8d(0x10b)]),this[_0x3d7f8d(0xd6)]={},this[_0x3d7f8d(0x7c)]={};const _0x524f19=MiscUtil[_0x3d7f8d(0xf1)]({'keyBlacklist':ImportListAdventureBook[_0x3d7f8d(0xad)]}),_0x323554={},_0x3c51b3=this[_0x3d7f8d(0x10b)][0x0][_0x3d7f8d(0x175)]['source']||this[_0x3d7f8d(0x10b)][0x0][_0x3d7f8d(0x175)]['id'];Object[_0x3d7f8d(0xbc)](ImportListAdventureBook[_0x3d7f8d(0x8c)])[_0x3d7f8d(0x137)](_0x4dc0fa=>_0x4dc0fa['fnGetInlineData']&&_0x4dc0fa[_0x3d7f8d(0x11d)])[_0x3d7f8d(0x111)](_0x1729e9=>{const _0x44bd60=_0x3d7f8d,_0x27ef0e={[this[_0x44bd60(0x120)]]:this[_0x44bd60(0x10b)][0x0][_0x44bd60(0x175)],[this[_0x44bd60(0xed)]]:{'data':this['_content'][0x0][_0x44bd60(0x176)]}},_0x4c46cf={'headProp':this[_0x44bd60(0x120)],'bodyProp':this['_brewDataProp']};this[_0x44bd60(0x7c)][_0x1729e9[_0x44bd60(0x14f)]]=_0x1729e9['fnGetInlineData'](_0x27ef0e,_0x4c46cf)['sort']((_0x14cfb9,_0x56e1df)=>{const _0x3924af=_0x44bd60;return SortUtil['ascSortLower'](_0x14cfb9[_0x3924af(0xde)],_0x56e1df[_0x3924af(0xde)])||SortUtil[_0x3924af(0xe4)](Parser[_0x3924af(0xf3)](_0x14cfb9['source']||_0x3c51b3),Parser[_0x3924af(0xf3)](_0x56e1df[_0x3924af(0x9a)]||_0x3c51b3));}),this[_0x44bd60(0x7c)][_0x1729e9[_0x44bd60(0x14f)]]['forEach'](_0x177413=>{const _0x186155=_0x44bd60,_0x37f5b8=_0x1729e9[_0x186155(0x11d)](_0x177413);(_0x323554[_0x1729e9[_0x186155(0x14f)]]=_0x323554[_0x1729e9[_0x186155(0x14f)]]||new Set())[_0x186155(0x8b)](_0x37f5b8);});}),this[_0x3d7f8d(0x10b)][0x0][_0x3d7f8d(0x176)][_0x3d7f8d(0x111)]((_0x3e68cc,_0x1445c4)=>{const _0x3b3381=_0x3d7f8d,_0x3be22c={'string':_0x55e64e=>{const _0x356cb4=_0x229a,_0x242482=Renderer['splitByTags'](_0x55e64e),_0x1e499d=_0x242482['length'];for(let _0x5d7202=0x0;_0x5d7202<_0x1e499d;++_0x5d7202){const _0x406baf=_0x242482[_0x5d7202];if(!_0x406baf)continue;if(!_0x406baf[_0x356cb4(0xc6)]('{@'))continue;const [_0x4b39b2,_0x1a7215]=Renderer[_0x356cb4(0xce)](_0x406baf[_0x356cb4(0x149)](0x1,-0x1)),_0x16d379=ImportListAdventureBook[_0x356cb4(0x8c)][_0x4b39b2];if(!_0x16d379)continue;const _0x2d9389=_0x16d379['_extractTag'](_0x1a7215);if(!_0x2d9389)continue;if(_0x323554[_0x4b39b2]&&_0x323554[_0x4b39b2][_0x356cb4(0x118)](_0x2d9389[_0x356cb4(0x127)]))continue;(this['_availableEntities'][_0x4b39b2]=this['_availableEntities'][_0x4b39b2]||{})[_0x2d9389[_0x356cb4(0x9a)]]=this[_0x356cb4(0xd6)][_0x4b39b2][_0x2d9389['source']]||new Set(),this['_availableEntities'][_0x4b39b2][_0x2d9389[_0x356cb4(0x9a)]][_0x356cb4(0x8b)](_0x2d9389['hash']);}return _0x55e64e;},'object':(_0x2acfc0,_0x302939,_0xc592ae)=>{const _0x1f1c1c=_0x229a;return UtilAdventureBook[_0x1f1c1c(0x165)]({'availableMaps':this['_availableMaps'],'entryIdToMap':this[_0x1f1c1c(0xd8)],'entryIdToName':this['_entryIdToName'],'entry':_0x2acfc0,'entryStack':_0xc592ae,'source':_0x3c51b3,'chapterInfo':this[_0x1f1c1c(0x10b)][0x0][_0x1f1c1c(0x175)][_0x1f1c1c(0x17d)]?.[_0x1445c4]}),_0x2acfc0;}};_0x524f19[_0x3b3381(0xa9)](_0x3e68cc,_0x3be22c);}),UtilAdventureBook[_0x3d7f8d(0xf7)]({'availableMaps':this[_0x3d7f8d(0x15d)],'entryIdToMap':this[_0x3d7f8d(0xd8)],'entryIdToName':this['_entryIdToName']}),Object[_0x3d7f8d(0xbc)](ImportListAdventureBook[_0x3d7f8d(0x8c)])[_0x3d7f8d(0x111)](_0x4d0a07=>{const _0x3125fa=_0x3d7f8d,_0x275f10=this['_getAdditionalContentForTag'](_0x4d0a07[_0x3125fa(0x14f)]);if(!_0x275f10?.[_0x3125fa(0x109)])return;_0x275f10['forEach'](({source:_0x5bdb44,hash:_0x112b55})=>{const _0x4bb161=_0x3125fa;_0x5bdb44=_0x5bdb44[_0x4bb161(0x10d)]();const _0x3bea6c=MiscUtil[_0x4bb161(0xb7)](this[_0x4bb161(0xd6)],_0x4d0a07[_0x4bb161(0x14f)],_0x5bdb44,new Set());_0x3bea6c[_0x4bb161(0x8b)](_0x112b55);});});const _0x5b492b=Object[_0x3d7f8d(0x92)](ImportListAdventureBook[_0x3d7f8d(0x8c)])['map'](([_0x192c2a,_0x4337d2])=>{const _0x53eee4=_0x3d7f8d,_0x2608d1=this[_0x53eee4(0xd6)][_0x192c2a],_0x732ff0=this[_0x53eee4(0x7c)][_0x192c2a],_0x3183fd={'displayName':_0x4337d2[_0x53eee4(0x15e)],'tag':_0x192c2a,'sources':[]};_0x2608d1&&_0x3183fd[_0x53eee4(0xd1)][_0x53eee4(0x135)](...Object[_0x53eee4(0x92)](_0x2608d1)[_0x53eee4(0x8a)](([_0x594c23,_0x559418])=>{const _0x8986de=_0x53eee4;return{'sourceLong':Parser[_0x8986de(0xf3)](_0x594c23),'sourceShort':Parser['sourceJsonToAbv'](_0x594c23),'sourceClassName':Parser[_0x8986de(0x17e)](_0x594c23),'sourceStyle':BrewUtil[_0x8986de(0x94)](_0x594c23),'source':_0x594c23,'count':_0x559418[_0x8986de(0x11f)]};}));if(_0x732ff0&&_0x732ff0['length']){const _0x2af48c=_0x3183fd[_0x53eee4(0xd1)][_0x53eee4(0x8e)](_0x3c1792=>_0x3c1792[_0x53eee4(0x9a)][_0x53eee4(0x10d)]()===_0x3c51b3[_0x53eee4(0x10d)]());if(_0x2af48c)_0x2af48c['count']+=_0x732ff0['length'];else _0x3183fd[_0x53eee4(0xd1)]['push']({'sourceLong':Parser['sourceJsonToFull'](_0x3c51b3),'sourceShort':Parser[_0x53eee4(0x89)](_0x3c51b3),'sourceClassName':Parser['sourceJsonToColor'](_0x3c51b3),'sourceStyle':BrewUtil[_0x53eee4(0x94)](_0x3c51b3),'source':_0x3c51b3,'count':_0x732ff0[_0x53eee4(0x109)]});}return _0x3183fd[_0x53eee4(0xd1)]['sort']((_0x3c156f,_0x710a22)=>SortUtil[_0x53eee4(0xe4)](_0x3c156f[_0x53eee4(0x16d)],_0x710a22[_0x53eee4(0x16d)])),_0x3183fd;})[_0x3d7f8d(0x137)](_0x2260f3=>_0x2260f3[_0x3d7f8d(0xd1)][_0x3d7f8d(0x109)]),_0x49ec83=Object['values'](ImportListAdventureBook[_0x3d7f8d(0x128)])[_0x3d7f8d(0x8a)](_0x1438d8=>_0x1438d8[_0x3d7f8d(0x132)])[_0x3d7f8d(0xc4)]()[_0x3d7f8d(0x8a)](_0x28e2aa=>{const _0x4fdd7a=_0x3d7f8d,_0x1fb20e=Object[_0x4fdd7a(0xbc)](ImportListAdventureBook[_0x4fdd7a(0x128)])[_0x4fdd7a(0x137)](_0x327b16=>_0x327b16['group']===_0x28e2aa);if(!_0x1fb20e[_0x4fdd7a(0x109)])return null;const _0xb2babf=_0x1fb20e[_0x4fdd7a(0x8a)](({imageType:_0x1e74af,displayName:_0x3926ea})=>{const _0x570cfd=_0x4fdd7a,_0x54db0f=Object[_0x570cfd(0xbc)](this[_0x570cfd(0x15d)][_0x1e74af]||{})['length'];if(!_0x54db0f)return null;return{'imageType':_0x1e74af,'displayName':_0x3926ea,'count':_0x54db0f};})[_0x4fdd7a(0x137)](Boolean);if(!_0xb2babf['length'])return null;return{'group':_0x28e2aa,'groupNamePlural':_0x1fb20e[0x0][_0x4fdd7a(0x12c)],'imageTypeMetas':_0xb2babf};})[_0x3d7f8d(0x137)](Boolean);return{'name':this[_0x3d7f8d(0x10b)][0x0][_0x3d7f8d(0x175)][_0x3d7f8d(0xde)],'titleSearch':this[_0x3d7f8d(0xaa)],'tagSections':_0x5b492b,'imageGroupSections':_0x49ec83};}[_0x297bd2(0x143)](_0x355ac1){const _0x58d74c=_0x297bd2;this[_0x58d74c(0xea)](_0x355ac1),this['_activateListeners_initConfigButtons'](_0x355ac1),this[_0x58d74c(0xc8)](_0x355ac1);}[_0x297bd2(0xea)](_0x3bedef){const _0x6d3fb7=_0x297bd2;this['_tagCbMetas']={},this[_0x6d3fb7(0x9b)]={},_0x3bedef['find']('input[data-tag][data-source]')[_0x6d3fb7(0x17b)]((_0x5b820e,_0x3d3abc)=>{const _0x173446=_0x6d3fb7,_0x51a586=$(_0x3d3abc),_0x52b981=_0x51a586[_0x173446(0x176)](_0x173446(0x14f)),_0x3e8431=_0x51a586[_0x173446(0x176)]('source');(this[_0x173446(0xe7)][_0x52b981]=this[_0x173446(0xe7)][_0x52b981]||[])[_0x173446(0x135)]({'source':_0x3e8431,'$cb':_0x51a586});});const _0xe62c10=_0x3bedef[_0x6d3fb7(0x8e)](_0x6d3fb7(0x83))[_0x6d3fb7(0x8a)]((_0x5ddea8,_0x755087)=>{const _0x16873c=_0x6d3fb7,_0x2995de=$(_0x755087),_0x916472=_0x2995de[_0x16873c(0x176)]('tag');return _0x2995de[_0x16873c(0x12f)](()=>{const _0x501790=_0x16873c,_0x4a4235=_0x2995de['prop'](_0x501790(0xa1));this[_0x501790(0xe7)][_0x916472]['forEach'](_0x5950b7=>_0x5950b7[_0x501790(0xcd)][_0x501790(0x103)](_0x501790(0xa1),_0x4a4235));}),_0x2995de;})[_0x6d3fb7(0x12e)]();_0x3bedef['find']('input[data-image-group][data-image-type]')[_0x6d3fb7(0x17b)]((_0x1538a1,_0x4c3ccc)=>{const _0x245cb4=_0x6d3fb7,_0x551dbb=$(_0x4c3ccc),_0x205978=_0x551dbb['data']('image-group'),_0x53de42=_0x551dbb['data'](_0x245cb4(0x162));(this[_0x245cb4(0x9b)][_0x205978]=this[_0x245cb4(0x9b)][_0x205978]||[])[_0x245cb4(0x135)]({'imageType':_0x53de42,'$cb':_0x551dbb});});const _0x10ea97=_0x3bedef[_0x6d3fb7(0x8e)]('input[data-image-group][data-type=\x22all\x22]')[_0x6d3fb7(0x8a)]((_0x23dddf,_0x19692d)=>{const _0x50f5df=_0x6d3fb7,_0x3ec37b=$(_0x19692d),_0x47dfb1=_0x3ec37b[_0x50f5df(0x176)]('image-group');return _0x3ec37b[_0x50f5df(0x12f)](()=>{const _0x42b05f=_0x50f5df,_0x5d5a05=_0x3ec37b[_0x42b05f(0x103)](_0x42b05f(0xa1));this['_imageGroupCbMetas'][_0x47dfb1][_0x42b05f(0x111)](_0x1f01b3=>_0x1f01b3['$cb']['prop'](_0x42b05f(0xa1),_0x5d5a05));}),_0x3ec37b;})['get'](),_0xb2c758=_0x3bedef[_0x6d3fb7(0x8e)]('input[data-type=\x22god\x22]');_0xb2c758['change'](()=>{const _0x3b2fd7=_0x6d3fb7,_0x2f1bc4=_0xb2c758['prop'](_0x3b2fd7(0xa1));_0xe62c10['forEach'](_0x24bfca=>_0x24bfca[_0x3b2fd7(0x103)](_0x3b2fd7(0xa1),_0x2f1bc4)['change']()),_0x10ea97['forEach'](_0x56a094=>_0x56a094[_0x3b2fd7(0x103)](_0x3b2fd7(0xa1),_0x2f1bc4)['change']());});}[_0x297bd2(0xbf)](_0x554e99){const _0x554591=_0x297bd2;_0x554e99[_0x554591(0x8e)](_0x554591(0x14a))[_0x554591(0x17b)]((_0x3d2331,_0x391e4d)=>{const _0x14353c=_0x554591,_0xea251b=$(_0x391e4d),_0x244cb4=_0xea251b[_0x14353c(0x176)](_0x14353c(0x14f)),_0x4505fd=ImportListAdventureBook['_IMPORTABLE_TAGS'][_0x244cb4];_0xea251b[_0x14353c(0xf8)](async()=>{const _0x455a69=_0x14353c;await _0x4505fd[_0x455a69(0x16b)][_0x455a69(0xaf)](),await _0x4505fd[_0x455a69(0x16b)][_0x455a69(0x97)]();});});}[_0x297bd2(0xc8)](_0x2c23de){const _0x29dc77=_0x297bd2;_0x2c23de[_0x29dc77(0x8e)](_0x29dc77(0x85))[_0x29dc77(0xf8)](async()=>this[_0x29dc77(0xcc)]());}async['_pHandleRunButtonClick'](){const _0x481aee=_0x297bd2;this[_0x481aee(0x125)](),console[_0x481aee(0x100)](...LGT,_0x481aee(0x13b)+this[_0x481aee(0x120)]+'\x20\x22'+this[_0x481aee(0x10b)][0x0][_0x481aee(0x175)]['name']+'\x22');const _0x4a9584=new ImportListAdventureBook[(_0x481aee(0x9d))](),_0xf9707e=await this[_0x481aee(0xcf)]({'runInfo':_0x4a9584});if(_0x4a9584['isCancelled'])return;const _0x26c9c0=await this[_0x481aee(0x14e)]({'preloadedTagMetas':_0xf9707e,'runInfo':_0x4a9584});if(_0x4a9584[_0x481aee(0xb2)])return;await this[_0x481aee(0x11e)]({'entryIdToJournalId':_0x26c9c0,'runInfo':_0x4a9584});}async[_0x297bd2(0xcf)]({runInfo:_0x1ed9f1}){const _0x4e2e30=_0x297bd2,_0x32ce60={},_0x548419=await this['_pHandleRunButtonClick_pGetTaskListTags']({'loadedEntityInfos':_0x32ce60});if(!_0x548419[_0x4e2e30(0x109)])return _0x32ce60;const _0x1bf576=await UtilApplications[_0x4e2e30(0x14d)](_0x548419,{'titleInitial':_0x4e2e30(0x13c),'titleComplete':_0x4e2e30(0x134),'fnGetRowRunningText':_0x457fdb=>'Importing\x20'+_0x457fdb+'...','fnGetRowSuccessText':_0x5e5145=>_0x4e2e30(0x174)+_0x5e5145+'.','fnGetRowErrorText':_0x28c09b=>_0x4e2e30(0xdb)+_0x28c09b+'!\x20'+VeCt[_0x4e2e30(0x144)],'isForceClose':!![]});if(_0x1bf576[_0x4e2e30(0xb2)])return _0x1ed9f1[_0x4e2e30(0xb2)]=_0x1bf576['isCancelled'];return _0x32ce60;}async[_0x297bd2(0x133)]({loadedEntityInfos:_0x23e79b}){const _0xe7cd57=_0x297bd2,_0x3bf423={};Object[_0xe7cd57(0x92)](this['_tagCbMetas'])[_0xe7cd57(0x111)](([_0x2ae6bb,_0x1bb64c])=>{const _0x423273=_0xe7cd57,_0x266dd1=_0x1bb64c['filter'](_0x545ea8=>_0x545ea8['$cb'][_0x423273(0x103)](_0x423273(0xa1)))[_0x423273(0x8a)](_0x1d2c0a=>_0x1d2c0a[_0x423273(0x9a)]);if(!_0x266dd1[_0x423273(0x109)])return;_0x3bf423[_0x2ae6bb]=_0x266dd1;});const _0x55d06f=[];for(const [_0x6ff39b,_0x42f07b]of Object[_0xe7cd57(0x92)](_0x3bf423)){const _0x2d11e2=_0x23e79b[_0x6ff39b]={},_0x2e7d71=ImportListAdventureBook[_0xe7cd57(0x8c)][_0x6ff39b];for(const _0x29eecb of _0x42f07b){const _0x3957cc=[...MiscUtil[_0xe7cd57(0x12e)](this[_0xe7cd57(0xd6)],_0x6ff39b,_0x29eecb)||[]];for(const _0x2e4772 of _0x3957cc){const [_0x42ffc1,_0x403ee3]=_0x2e4772[_0xe7cd57(0x16a)](HASH_LIST_SEP),_0x416a7e=decodeURIComponent(_0x42ffc1)[_0xe7cd57(0x11a)](),_0x146533=Parser['sourceJsonToAbv'](_0x403ee3);_0x55d06f['push'](new Util['Task'](_0x2e7d71[_0xe7cd57(0x15e)]+':\x20'+_0x416a7e+'\x20('+_0x146533+')',()=>((async()=>{const _0x25053d=_0xe7cd57,{folderType:_0x4602aa,id:_0xeb0bdf}=await _0x2e7d71[_0x25053d(0x10a)](_0x2e4772);(_0x2d11e2[_0x6ff39b]=_0x2d11e2[_0x6ff39b]||{})[_0x2e4772]={'folderType':_0x4602aa,'importedId':_0xeb0bdf};})())));}const _0x34759d=[...MiscUtil['get'](this['_availableInlineData'],_0x6ff39b)||[]];for(const _0x1f5e7a of _0x34759d){_0x55d06f['push'](new Util['Task'](_0x2e7d71['displayName']+':\x20'+_0x1f5e7a[_0xe7cd57(0xde)]+'\x20('+_0x1f5e7a[_0xe7cd57(0x9a)]+')',()=>((async()=>{const _0x2d5faf=_0xe7cd57;await _0x2e7d71[_0x2d5faf(0xe6)](_0x1f5e7a);})())));}}}return _0x55d06f;}async[_0x297bd2(0x139)]({entryIdToJournalId:_0x16e0af}){const _0x390fdb=_0x297bd2,_0x3df26d={};Object[_0x390fdb(0x92)](this[_0x390fdb(0x9b)])[_0x390fdb(0x111)](([_0x50a911,_0x47031f])=>{const _0x5b2ea5=_0x390fdb,_0x4885c6=_0x47031f[_0x5b2ea5(0x137)](_0x3e34ad=>_0x3e34ad[_0x5b2ea5(0xcd)]['prop'](_0x5b2ea5(0xa1)))[_0x5b2ea5(0x8a)](_0x19a55c=>_0x19a55c[_0x5b2ea5(0x80)]);if(!_0x4885c6[_0x5b2ea5(0x109)])return;_0x3df26d[_0x50a911]=_0x4885c6;});let _0x5d3820;const _0x7b55b4=[];for(const _0x4abb8a of Object['values'](_0x3df26d)){for(const _0xa52d29 of _0x4abb8a){const _0x3c76ec=ImportListAdventureBook[_0x390fdb(0x128)][_0xa52d29],_0x590299=this['_availableMaps'][_0xa52d29];for(const _0x4a2457 of Object[_0x390fdb(0xbc)](_0x590299)){if(!_0x5d3820)_0x5d3820=await this[_0x390fdb(0xc1)][_0x390fdb(0x171)]();const _0x3a3baa=new Util[(_0x390fdb(0x110))]((_0x3c76ec['groupName']||_0x3c76ec['group'])+':\x20'+_0x4a2457[_0x390fdb(0xde)],()=>{return _0x5d3820['pImportEntry'](_0x4a2457,{'entryIdToJournalId':_0x16e0af});});_0x7b55b4[_0x390fdb(0x135)](_0x3a3baa);}}}return _0x7b55b4;}static async[_0x297bd2(0x171)](){const _0x4bf568=_0x297bd2,{ImportListMap:_0x50cda9}=await import('./ImportListMap.js'),_0x2a4689=new _0x50cda9();return await _0x2a4689[_0x4bf568(0xaf)](),_0x2a4689;}async['_pHandleRunButtonClick_pDoMainImport']({preloadedTagMetas:_0x3cb9ed,runInfo:_0x3256d8}){const _0x387c42=_0x297bd2,_0x5a47f7=MiscUtil[_0x387c42(0xf1)]({'keyBlacklist':ImportListAdventureBook[_0x387c42(0xad)]}),_0xd87810={'string':_0x13f557=>{const _0x21fc95=_0x387c42,_0x44ef14=Renderer['splitByTags'](_0x13f557),_0x464126=_0x44ef14['length'];let _0x24cf58='';for(let _0x4e5d8d=0x0;_0x4e5d8d<_0x464126;++_0x4e5d8d){const _0x4dce43=_0x44ef14[_0x4e5d8d];if(!_0x4dce43)continue;if(!_0x4dce43[_0x21fc95(0xc6)]('{@')){_0x24cf58+=_0x4dce43;continue;}const [_0x3f6630,_0x51bd8a]=Renderer[_0x21fc95(0xce)](_0x4dce43[_0x21fc95(0x149)](0x1,-0x1)),_0x4702fc=ImportListAdventureBook[_0x21fc95(0x8c)][_0x3f6630],_0x317bb3=_0x3cb9ed[_0x3f6630];if(!_0x4702fc||!_0x317bb3){_0x24cf58+=_0x4dce43;continue;}const _0xd97faa=_0x4702fc[_0x21fc95(0xf6)](_0x51bd8a);if(!_0xd97faa){_0x24cf58+=_0x4dce43;continue;}const _0x3151f6=MiscUtil[_0x21fc95(0x12e)](_0x317bb3,_0x3f6630,_0xd97faa[_0x21fc95(0x127)]);if(!_0x3151f6){_0x24cf58+=_0x4dce43;continue;}_0x24cf58+=''+DataConverter[_0x21fc95(0xb5)]+_0x3151f6[_0x21fc95(0x9f)]+'['+_0x3151f6[_0x21fc95(0x17a)]+']{'+_0xd97faa[_0x21fc95(0xc7)]+'}';}return _0x24cf58;}};this[_0x387c42(0x10b)][0x0][_0x387c42(0x176)]=_0x5a47f7[_0x387c42(0xa9)](this[_0x387c42(0x10b)][0x0][_0x387c42(0x176)],_0xd87810);let _0x565d8f;try{_0x565d8f=await this['_pGetJournalDatas']();}catch(_0x5e7ffa){ui['notifications'][_0x387c42(0xff)](_0x387c42(0xc3)+VeCt[_0x387c42(0x144)]);throw _0x5e7ffa;}const _0x51653b=await this[_0x387c42(0x168)]({'name':this[_0x387c42(0x10b)][0x0]['_contentMetadata']['name'],'source':this['_content'][0x0][_0x387c42(0x175)]['source'],'published':this['_content'][0x0][_0x387c42(0x175)][_0x387c42(0x159)]},{'sorting':'m'}),_0x2a0946={},_0x1f1c87={},_0x1824cc=[];for(const _0x978efd of _0x565d8f){const _0x1ab41a=new Util[(_0x387c42(0x110))](_0x978efd[_0x387c42(0x98)]['name'],()=>this['_pImportWrappedJournalData']({'finalizeLinkLookup':_0x2a0946,'entryIdToJournalId':_0x1f1c87,'folderIdRoot':_0x51653b,'wrappedJournalData':_0x978efd}));_0x1824cc['push'](_0x1ab41a);}const _0x60e332=new Util[(_0x387c42(0x110))](_0x387c42(0x81),async()=>{const _0x2f7baa=_0x387c42;if(Object[_0x2f7baa(0x117)](_0x2a0946)[_0x2f7baa(0x109)]){const _0x5787a3=new RegExp('%'+SharedConsts[_0x2f7baa(0x7e)]+_0x2f7baa(0x99)+SharedConsts['MODULE_NAME_FAKE']+'%','gi'),_0x3a2667=Config[_0x2f7baa(0x12e)](_0x2f7baa(0xf2),_0x2f7baa(0x145))&&Config[_0x2f7baa(0x12e)](this[_0x2f7baa(0x11b)],_0x2f7baa(0x157))?_0x2f7baa(0xc0):_0x2f7baa(0x12a);for(const _0x132174 of Object[_0x2f7baa(0xbc)](_0x2a0946)){for(const _0x3bb844 of Object[_0x2f7baa(0xbc)](_0x132174)){const _0xabeef7=_0x3bb844[_0x2f7baa(0x176)][_0x2f7baa(0x166)]['replace'](_0x5787a3,(..._0x1704ce)=>{const [,_0x4dadbc,_0x417bd6]=_0x1704ce,_0x1661c9=_0x2a0946[_0x4dadbc]?.[_0x417bd6];return'@'+_0x3a2667+'['+_0x1661c9?.['id']+']';});if(_0xabeef7!==_0x3bb844['data'][_0x2f7baa(0x166)])await UtilDocuments[_0x2f7baa(0x116)](_0x3bb844,{'content':_0xabeef7});}}}});_0x1824cc[_0x387c42(0x135)](_0x60e332),ui[_0x387c42(0x147)]['activateTab'](_0x387c42(0xbe));const _0x3cdab1=await UtilApplications[_0x387c42(0x14d)](_0x1824cc,{'titleInitial':_0x387c42(0x13c),'titleComplete':'Import\x20Complete','fnGetRowRunningText':_0x300531=>_0x300531===_0x387c42(0x81)?_0x300531+_0x387c42(0x105):'Importing\x20'+_0x300531+_0x387c42(0x105),'fnGetRowSuccessText':_0x34b86f=>_0x34b86f===_0x387c42(0x81)?'Finalized.':'Imported\x20'+_0x34b86f+'.','fnGetRowErrorText':_0x1e759b=>_0x1e759b===_0x387c42(0x81)?_0x387c42(0xef):'Failed\x20to\x20import\x20'+_0x1e759b+'!\x20'+VeCt[_0x387c42(0x144)]});if(_0x3cdab1[_0x387c42(0xb2)])return _0x3256d8[_0x387c42(0xb2)]=_0x3cdab1['isCancelled'];if(_0x3cdab1['isCancelled'])return _0x3256d8[_0x387c42(0xb2)]=_0x3cdab1[_0x387c42(0xb2)],_0x1f1c87;return _0x1f1c87;}async['_pImportWrappedJournalData']({finalizeLinkLookup:_0x2faf71,entryIdToJournalId:_0x563055,folderIdRoot:_0x558da5,wrappedJournalData:_0x33ce6d}){const _0x45ab3a=_0x297bd2,{journalEntry:_0x56deb9,folderNames:_0x5a267d}=_0x33ce6d,_0x22e1bd={'name':_0x56deb9['name']};Config['get'](this['_configGroup'],_0x45ab3a(0x13e))===ConfigConsts[_0x45ab3a(0xae)]||Config[_0x45ab3a(0x12e)](this['_configGroup'],_0x45ab3a(0xba))?_0x22e1bd['flags']={[SharedConsts[_0x45ab3a(0x7e)]]:{'source':_0x56deb9[_0x45ab3a(0x10e)][SharedConsts['MODULE_NAME_FAKE']][_0x45ab3a(0x9a)]}}:_0x22e1bd['flags']={[SharedConsts[_0x45ab3a(0x7e)]]:{'source':_0x56deb9[_0x45ab3a(0x10e)][SharedConsts[_0x45ab3a(0x7e)]][_0x45ab3a(0x9a)],'ixChapter':_0x56deb9[_0x45ab3a(0x10e)][SharedConsts['MODULE_NAME_FAKE']]['ixChapter'],'ixFlat':_0x56deb9[_0x45ab3a(0x10e)][SharedConsts['MODULE_NAME_FAKE']][_0x45ab3a(0x179)]}};const _0x4d2e22=Object['keys'](_0x22e1bd)['length']?this[_0x45ab3a(0x119)](_0x22e1bd):null;if(_0x4d2e22?.[_0x45ab3a(0x7d)]){const _0x4f939c=_0x4d2e22[_0x45ab3a(0xd7)]?.[_0x45ab3a(0x176)]?.[_0x45ab3a(0x10e)]?.[SharedConsts['MODULE_NAME_FAKE']]?.[_0x45ab3a(0x84)]||[];return _0x4f939c[_0x45ab3a(0x111)](_0x228f03=>_0x563055[_0x228f03]=_0x4d2e22[_0x45ab3a(0xd7)]['id']),new ImportSummary({'status':UtilApplications[_0x45ab3a(0x13f)],'imported':[new ImportedDocument({'document':_0x4d2e22['existing'],'isExisting':!![]})]});}if(_0x4d2e22?.[_0x45ab3a(0xdc)]){const _0x10b1b6=_0x4d2e22[_0x45ab3a(0xd7)]?.[_0x45ab3a(0x176)]?.[_0x45ab3a(0x10e)]?.[SharedConsts[_0x45ab3a(0x7e)]]?.['entryIds']||[];return _0x10b1b6[_0x45ab3a(0x111)](_0x2d6575=>_0x563055[_0x2d6575]=_0x4d2e22[_0x45ab3a(0xd7)]['id']),this['_pImportEntry_pDoUpdateExistingDirectoryEntity'](_0x4d2e22,_0x56deb9);}let _0x1354f3=_0x558da5;_0x5a267d?.[_0x45ab3a(0x109)]&&(_0x1354f3=await UtilFolders['pCreateFoldersGetId']({'folderType':this[_0x45ab3a(0xc1)]['FOLDER_TYPE'],'folderIdRoot':_0x558da5,'folderNames':_0x5a267d,'sorting':'m'}));if(_0x1354f3)_0x56deb9['folder']=_0x1354f3;const _0x57192e=await JournalEntry[_0x45ab3a(0x90)](_0x56deb9,{'renderSheet':![],'temporary':![]}),_0x11ceee=_0x57192e?.[_0x45ab3a(0x176)]?.[_0x45ab3a(0x10e)]?.[SharedConsts[_0x45ab3a(0x7e)]];if(_0x11ceee)(_0x2faf71[_0x11ceee[_0x45ab3a(0x163)]]=_0x2faf71[_0x11ceee[_0x45ab3a(0x163)]]||{})[_0x11ceee[_0x45ab3a(0x179)]]=_0x57192e;const _0x180fc2=_0x57192e?.[_0x45ab3a(0x176)]?.[_0x45ab3a(0x10e)]?.[SharedConsts['MODULE_NAME_FAKE']]?.[_0x45ab3a(0x84)]||[];_0x180fc2['forEach'](_0x274640=>_0x563055[_0x274640]=_0x57192e['id']);}async[_0x297bd2(0x11e)]({entryIdToJournalId:_0x3fcdbb,runInfo:_0x368d8b}){const _0x12be3a=_0x297bd2,_0x7ee99e=await this['_pHandleRunButtonClick_pGetTaskListImageGroups']({'entryIdToJournalId':_0x3fcdbb});if(!_0x7ee99e[_0x12be3a(0x109)])return;const _0x454f2a=await UtilApplications[_0x12be3a(0x14d)](_0x7ee99e,{'titleInitial':_0x12be3a(0x13c),'titleComplete':'Import\x20Complete','fnGetRowRunningText':_0xca0c68=>_0x12be3a(0x13b)+_0xca0c68+'...','fnGetRowSuccessText':_0x5ecb40=>'Imported\x20'+_0x5ecb40+'.','fnGetRowErrorText':_0x165d06=>_0x12be3a(0xdb)+_0x165d06+'!\x20'+VeCt[_0x12be3a(0x144)],'isForceClose':!![]});if(_0x454f2a['isCancelled'])return _0x368d8b[_0x12be3a(0xb2)]=_0x454f2a[_0x12be3a(0xb2)];}async[_0x297bd2(0x91)](){const _0x2fd971=_0x297bd2;throw new Error(_0x2fd971(0xeb));}['_getAdditionalContentForTag'](){return null;}static[_0x297bd2(0xb1)](_0x3aee5f){const _0x47a705=_0x297bd2;this[_0x47a705(0x8c)][_0x3aee5f[_0x47a705(0x14f)]]=_0x3aee5f;}static[_0x297bd2(0x122)](_0x3ff59b){this['_IMPORTABLE_IMAGE_TYPES'][_0x3ff59b['imageType']]=_0x3ff59b;}}ImportListAdventureBook['_IMPORTABLE_TAGS']={},ImportListAdventureBook['_IMPORTABLE_IMAGE_TYPES']={},ImportListAdventureBook[_0x297bd2(0x150)]={},ImportListAdventureBook[_0x297bd2(0x9d)]=class{constructor(){const _0x5eb750=_0x297bd2;this[_0x5eb750(0xb2)]=![];}},ImportListAdventureBook[_0x297bd2(0xa3)]=class{constructor(_0x3c5968){const _0xfa9dd9=_0x297bd2;this['_displayName']=_0x3c5968['displayName'],this[_0xfa9dd9(0x8d)]=_0x3c5968[_0xfa9dd9(0x14f)],this['_props']=_0x3c5968[_0xfa9dd9(0xa5)],this[_0xfa9dd9(0xc2)]=_0x3c5968[_0xfa9dd9(0x141)],this['_defaultSource']=_0x3c5968[_0xfa9dd9(0xf9)],this[_0xfa9dd9(0x9c)]=_0x3c5968[_0xfa9dd9(0x16b)],this[_0xfa9dd9(0x177)]=_0x3c5968[_0xfa9dd9(0xab)],this['_fnGetInlineHash']=_0x3c5968[_0xfa9dd9(0x11d)],this[_0xfa9dd9(0x124)]=![];}get[_0x297bd2(0x15e)](){const _0x1d6d51=_0x297bd2;return this[_0x1d6d51(0x167)];}get[_0x297bd2(0x14f)](){const _0x2668ac=_0x297bd2;return this[_0x2668ac(0x8d)];}get[_0x297bd2(0x141)](){const _0x1c08bc=_0x297bd2;return this[_0x1c08bc(0xc2)];}get[_0x297bd2(0x16b)](){const _0x37a8ea=_0x297bd2;return this[_0x37a8ea(0x9c)];}get[_0x297bd2(0xab)](){const _0x1ebf15=_0x297bd2;return this[_0x1ebf15(0x177)];}get[_0x297bd2(0x11d)](){const _0x42d140=_0x297bd2;return this[_0x42d140(0xf5)];}[_0x297bd2(0x10a)](_0x4512e3){const _0x247c1e=_0x297bd2;return this[_0x247c1e(0x172)](),this[_0x247c1e(0x136)](_0x4512e3);}[_0x297bd2(0x172)](){const _0x142720=_0x297bd2;!this[_0x142720(0x124)]&&(this[_0x142720(0x9c)][_0x142720(0x13a)](),this['_isActivatedTab']=!![]);}async[_0x297bd2(0x136)](_0x318fc3){const _0x219aaa=_0x297bd2,[_0x514761,_0x595e59]=_0x318fc3[_0x219aaa(0x16a)](HASH_LIST_SEP),_0x502225=await Renderer[_0x219aaa(0xd4)][_0x219aaa(0x155)](this[_0x219aaa(0xc2)],_0x595e59,_0x318fc3);await this['_importer'][_0x219aaa(0xaf)]();const _0x332a00=await this[_0x219aaa(0x9c)][_0x219aaa(0xec)](_0x502225,{});return{'folderType':this[_0x219aaa(0x9c)][_0x219aaa(0xc1)][_0x219aaa(0xa0)],'id':_0x332a00[_0x219aaa(0x104)]?.[0x0]?.[_0x219aaa(0xf0)]?.['id'],'hash':_0x318fc3};}static[_0x297bd2(0x87)](_0x4b7fb1,_0x120b89,_0x214b88){const _0x1f0b2e=_0x297bd2,[_0xe9e44d,_0x371571,_0x1820fb]=Renderer[_0x1f0b2e(0xac)](_0x214b88),_0x5ad461=(_0x371571||_0x120b89)[_0x1f0b2e(0x10d)](),_0x1c8083={'name':_0xe9e44d,'source':_0x5ad461};return{'source':_0x5ad461,'displayText':_0x1820fb||_0xe9e44d,'hash':UrlUtil['URL_TO_HASH_BUILDER'][_0x4b7fb1](_0x1c8083)};}['_extractTag'](_0x176237){const _0x4504db=_0x297bd2,_0xe0b27=ImportListAdventureBook['ImportableTag'][_0x4504db(0x87)](this[_0x4504db(0xc2)],this[_0x4504db(0x88)],_0x176237),_0x264825=this[_0x4504db(0xa2)][_0x4504db(0x158)](_0x28eef2=>ExcludeUtil[_0x4504db(0xfb)](_0xe0b27[_0x4504db(0x127)],_0x28eef2,_0xe0b27['source'],{'isNoCount':!![]}));if(_0x264825)return null;return _0xe0b27;}async[_0x297bd2(0xe6)](_0x1a7ca2){const _0xa122b4=_0x297bd2;this[_0xa122b4(0x172)](),await this[_0xa122b4(0x9c)]['pInit'](),await this[_0xa122b4(0x9c)]['pImportEntry'](_0x1a7ca2,{});}},ImportListAdventureBook[_0x297bd2(0x154)]=class{constructor({group:_0x3f87d9,groupName:_0x55be7b,groupNamePlural:_0x4937ab,displayName:_0xdb7dc1,imageType:_0xaa26cd}){const _0x4da64b=_0x297bd2;this[_0x4da64b(0x178)]=_0x3f87d9,this[_0x4da64b(0x10c)]=_0x55be7b,this[_0x4da64b(0xe2)]=_0x4937ab,this[_0x4da64b(0x167)]=_0xdb7dc1,this[_0x4da64b(0x169)]=_0xaa26cd;}get[_0x297bd2(0x132)](){const _0x435b68=_0x297bd2;return this[_0x435b68(0x178)];}get[_0x297bd2(0x10f)](){const _0x2e2e37=_0x297bd2;return this[_0x2e2e37(0x10c)];}get[_0x297bd2(0x12c)](){const _0x5b19eb=_0x297bd2;return this[_0x5b19eb(0xe2)];}get[_0x297bd2(0x15e)](){const _0x518590=_0x297bd2;return this[_0x518590(0x167)];}get['imageType'](){const _0x2c0645=_0x297bd2;return this[_0x2c0645(0x169)];}},ImportListAdventureBook['_TAG_WALKER_BLACKLIST']=new Set([_0x297bd2(0xde),'caption','colLabels',_0x297bd2(0x93),_0x297bd2(0x161),_0x297bd2(0xb4),_0x297bd2(0x141)]),ImportListAdventureBook[_0x297bd2(0x9e)]={'displayName':_0x297bd2(0x102),'tag':'@creature','props':[_0x297bd2(0x170)],'page':UrlUtil[_0x297bd2(0x138)],'defaultSource':SRC_MM,'importer':new ImportListCreature()},ImportListAdventureBook[_0x297bd2(0xb1)](new ImportListAdventureBook[(_0x297bd2(0xa3))](ImportListAdventureBook[_0x297bd2(0x9e)])),ImportListAdventureBook[_0x297bd2(0xb1)](new ImportListAdventureBook[(_0x297bd2(0xa3))]({'displayName':_0x297bd2(0xf4),'tag':'@spell','props':[_0x297bd2(0xe8)],'page':UrlUtil[_0x297bd2(0x123)],'defaultSource':SRC_PHB,'importer':new ImportListSpell()})),ImportListAdventureBook[_0x297bd2(0xb1)](new ImportListAdventureBook[(_0x297bd2(0xa3))]({'displayName':'Items','tag':'@item','props':[_0x297bd2(0xa4),_0x297bd2(0x14b),_0x297bd2(0x108),_0x297bd2(0xda)],'page':UrlUtil['PG_ITEMS'],'defaultSource':SRC_DMG,'importer':new ImportListItem()})),ImportListAdventureBook[_0x297bd2(0xb1)](new ImportListAdventureBook[(_0x297bd2(0xa3))]({'displayName':_0x297bd2(0xc9),'tag':_0x297bd2(0xcb),'props':[_0x297bd2(0xd0)],'page':UrlUtil[_0x297bd2(0xfc)],'defaultSource':SRC_DMG,'importer':new ImportListVariantRule()})),ImportListAdventureBook[_0x297bd2(0xb1)](new ImportListAdventureBook[(_0x297bd2(0xa3))]({'displayName':'Vehicle\x20Upgrades','tag':_0x297bd2(0x12d),'props':['vehicleUpgrade'],'page':UrlUtil[_0x297bd2(0xfd)],'defaultSource':SRC_GoS,'importer':new ImportListVehicleUpgrade()})),ImportListAdventureBook['_registerImportableTag'](new ImportListAdventureBook[(_0x297bd2(0xa3))]({'displayName':_0x297bd2(0x126),'tag':_0x297bd2(0xe5),'props':['table',_0x297bd2(0x142)],'page':UrlUtil[_0x297bd2(0x146)],'defaultSource':SRC_DMG,'importer':new ImportListRollableTable(),'fnGetInlineData':(_0x3b29e3,_0x5de6dd)=>{const _0x12f6e2=_0x297bd2,{table:_0x55d33a,tableGroup:_0x2810c2}=UtilGenTables[_0x12f6e2(0x107)](_0x3b29e3,_0x5de6dd);return _0x55d33a[_0x12f6e2(0x111)](_0x25f80f=>_0x25f80f['__prop']=_0x12f6e2(0x8f)),_0x2810c2['forEach'](_0x34f658=>_0x34f658[_0x12f6e2(0xa6)]=_0x12f6e2(0x142)),[..._0x55d33a,..._0x2810c2];},'fnGetInlineHash':_0x241948=>{const _0x2447f1=_0x297bd2;return UrlUtil[_0x2447f1(0x130)][UrlUtil[_0x2447f1(0x146)]](_0x241948)['toLowerCase']();}})),ImportListAdventureBook[_0x297bd2(0x122)](new ImportListAdventureBook[(_0x297bd2(0x154))]({'group':_0x297bd2(0x113),'groupName':_0x297bd2(0x152),'groupNamePlural':'Maps','displayName':'Map','imageType':'map'})),ImportListAdventureBook[_0x297bd2(0x122)](new ImportListAdventureBook[(_0x297bd2(0x154))]({'group':_0x297bd2(0x113),'groupName':_0x297bd2(0x152),'groupNamePlural':_0x297bd2(0x160),'displayName':'Player\x20Map','imageType':_0x297bd2(0x129)}));export{ImportListAdventureBook};