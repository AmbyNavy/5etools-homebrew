const _0x57f9bd=_0x2a57;function _0x45fd(){const _0x1944ca=['544941RmKCUt','HK_CONFIG_UPDATE','renderSettings','render','_doRenderSettings_handleConfigFixEscapeKey','1386266rnNjNw','element','minimumRole','_init_isImportableFvttEntityType','_init_isRequireExtraSpacingFvttEntityType','.game-system','remove','isFixEscapeKey','text','isStreamerMode','renderCardsDirectory','_init_addCompendiumObfuscation','14681592QMkbip','addClass','./ChooseImporter.js','./MenuCollectionTools.js','click','8801048sJcgoU','each','dir__btn-header\x20dir__control-header--alt','insertAfter','$getDirButton','isAddOpenMainMenuButtonToSettings','appendTo','<i\x20class=\x22fab\x20fa-fw\x20fa-d-and-d\x22></i>','settings','find','renderMacroDirectory','.header-actions','role','compendium','isHidePlutoniumDirectoryButtons','<div\x20class=\x22w-100\x22></div>','_init_addDirectoryWrapper','_handleConfigUpdate','length','<i\x20class=\x22fas\x20fa-fw\x20fa-atom\x22></i>','215322OcOqlR','getModuleFaIcon','_doRenderSettings_addPlayerConfigButton','dir__btn-header','get','pb-1','</button>','css','slideDown','\x20(Expanded\x20SRD)','$getDirButtonQuick','import','_doRenderSettings_handleConfigHidePlutoniumDirectoryButtons','Plutonium\x20','<button><i\x20class=\x22fas\x20fa-fw\x20fa-cogs\x22></i>\x20Configure\x20','.compendium-footer','655nqmNyz','isGM','359473lmSwmr','.ui__btn-open-menu','renderItemDirectory','#compendium','.dir__wrp-header','12VjqCDR','<button\x20class=\x22ui__btn-open-menu\x22><i\x20class=\x22fas\x20fa-fw\x20fa-bars\x22></i>\x20Open\x20Game\x20Menu</button>','.cfg__btn-open-alt','renderCompendiumDirectory','renderActorDirectory','button[data-action=\x22configure\x22]','trim','insertBefore','includes','span','62862zPkDqN','pHandleButtonClick','menu','user','SRD\x20Module','renderJournalDirectory','.header-actions.action-buttons'];_0x45fd=function(){return _0x1944ca;};return _0x45fd();}(function(_0x198296,_0x24389c){const _0x5baeaa=_0x2a57,_0x4d0b74=_0x198296();while(!![]){try{const _0x1c9ceb=-parseInt(_0x5baeaa(0xe4))/0x1+-parseInt(_0x5baeaa(0xd2))/0x2+-parseInt(_0x5baeaa(0xa8))/0x3*(parseInt(_0x5baeaa(0xe9))/0x4)+-parseInt(_0x5baeaa(0xe2))/0x5*(-parseInt(_0x5baeaa(0xf3))/0x6)+-parseInt(_0x5baeaa(0xad))/0x7+-parseInt(_0x5baeaa(0xbe))/0x8+parseInt(_0x5baeaa(0xb9))/0x9;if(_0x1c9ceb===_0x24389c)break;else _0x4d0b74['push'](_0x4d0b74['shift']());}catch(_0x480a83){_0x4d0b74['push'](_0x4d0b74['shift']());}}}(_0x45fd,0xa951b));import{Config}from'./Config.js';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilHooks}from'./UtilHooks.js';function _0x2a57(_0x1ea25a,_0x5b8846){const _0x45fd43=_0x45fd();return _0x2a57=function(_0x2a57a5,_0x222275){_0x2a57a5=_0x2a57a5-0xa7;let _0x26670a=_0x45fd43[_0x2a57a5];return _0x26670a;},_0x2a57(_0x1ea25a,_0x5b8846);}class UtilUi{static['init'](){const _0x4fd380=_0x2a57;game['user'][_0x4fd380(0xe3)]&&(UtilUi['_init_addDirectoryWrapper']('renderSceneDirectory'),UtilUi[_0x4fd380(0xce)](_0x4fd380(0xed)),UtilUi['_init_addDirectoryWrapper'](_0x4fd380(0xe6)),UtilUi[_0x4fd380(0xce)](_0x4fd380(0xf8)),UtilUi[_0x4fd380(0xce)]('renderRollTableDirectory'),UtilUi[_0x4fd380(0xce)]('renderCardsDirectory'),UtilUi['_init_addDirectoryWrapper'](_0x4fd380(0xc8)),UtilUi[_0x4fd380(0xce)](_0x4fd380(0xec))),UtilUi[_0x4fd380(0xb8)](),UtilHooks['on'](UtilHooks[_0x4fd380(0xa9)],()=>this[_0x4fd380(0xcf)]());}static[_0x57f9bd(0xb8)](){const _0x14db2c=_0x57f9bd,_0x4d2ae7='('+SharedConsts['MODULE_NAME']+')';Hooks['on'](_0x14db2c(0xec),()=>{const _0x55d72b=_0x14db2c;if(!Config['get']('ui',_0x55d72b(0xb6)))return;$(_0x55d72b(0xe7))[_0x55d72b(0xc7)](_0x55d72b(0xe1))[_0x55d72b(0xbf)]((_0x11a096,_0x3733bc)=>{const _0x438981=_0x55d72b;$(_0x3733bc)['find'](_0x438981(0xf2))['filter']((_0x5760cd,_0x12aee5)=>$(_0x12aee5)[_0x438981(0xb5)]()[_0x438981(0xef)]()===_0x4d2ae7)['text'](_0x438981(0xdb));});}),ui[_0x14db2c(0xcb)][_0x14db2c(0xab)]();}static[_0x57f9bd(0xce)](_0x1a2107){const _0x3cc6e7=_0x57f9bd,_0xf583d6=Config['get'](_0x3cc6e7(0xdd),_0x3cc6e7(0xaf)),_0x102c9d=game[_0x3cc6e7(0xf6)][_0x3cc6e7(0xca)]>=_0xf583d6&&this[_0x3cc6e7(0xb0)](_0x1a2107);Hooks['on'](_0x1a2107,async(_0x3b52ec,_0x7adf8f)=>{const _0x197039=_0x3cc6e7;_0x7adf8f['find'](_0x197039(0xe8))[_0x197039(0xb3)]();const {ChooseImporter:_0x264eaf}=await import(_0x197039(0xbb)),{MenuCollectionTools:_0x578d35}=await import(_0x197039(0xbc)),_0xab68ba=_0x264eaf[_0x197039(0xc2)](_0x1a2107),_0x37c9dd=_0x264eaf[_0x197039(0xdc)](_0x1a2107),_0x495458=_0x102c9d?$$`<div class="btn-group ve-flex-v-center mr-1 w-100">
				${_0xab68ba?_0xab68ba[_0x197039(0xba)](_0x197039(0xd5)):null}
				${_0x37c9dd?_0x37c9dd['addClass'](_0x197039(0xd5)):null}
			</div>`:_0x197039(0xcd),_0x231ca3=$$`<div class="ve-flex-col dir__wrp-header w-100 no-shrink min-w-100 dir__control-header ${this[_0x197039(0xb1)](_0x1a2107)?_0x197039(0xd7):''}">
					<div class="ve-flex w-100">
						${_0x495458}
						${_0x578d35[_0x197039(0xc2)](_0x1a2107)[_0x197039(0xba)](_0x197039(0xd5))}
						${Config[_0x197039(0xc2)]()['addClass'](_0x197039(0xd5))}
					</div>
				</div>`,_0x19c132=_0x7adf8f[_0x197039(0xc7)](_0x197039(0xc9));if(_0x19c132[_0x197039(0xd0)])_0x231ca3['insertAfter'](_0x19c132[0x0]);_0x578d35[_0x197039(0xc2)](_0x1a2107)[_0x197039(0xba)](_0x197039(0xc0))[_0x197039(0xd9)]({'maxWidth':0x1c})[_0x197039(0xc4)](_0x7adf8f[_0x197039(0xc7)](_0x197039(0xa7)));}),Hooks['on'](_0x3cc6e7(0xaa),(_0x65407c,_0x3df172)=>{const _0x4f6abe=_0x3cc6e7;this[_0x4f6abe(0xac)](_0x65407c,_0x3df172),this[_0x4f6abe(0xde)](_0x65407c,_0x3df172),this['_doRenderSettings_addPlayerConfigButton'](_0x65407c,_0x3df172);});}static[_0x57f9bd(0xb0)](_0x115349){const _0x472cde=_0x57f9bd;return!['renderMacroDirectory',_0x472cde(0xec),_0x472cde(0xb7)]['includes'](_0x115349);}static[_0x57f9bd(0xb1)](_0x3666cb){const _0xc5da5c=_0x57f9bd;return[_0xc5da5c(0xc8),_0xc5da5c(0xec),_0xc5da5c(0xb7)][_0xc5da5c(0xf1)](_0x3666cb);}static[_0x57f9bd(0xcf)](){const _0x3bddb3=_0x57f9bd;if(!ui['settings']||!ui[_0x3bddb3(0xc6)][_0x3bddb3(0xae)])return;this[_0x3bddb3(0xac)](ui['settings'],ui[_0x3bddb3(0xc6)]['element']);}static[_0x57f9bd(0xac)](_0x3bb3f9,_0x2c1ce2){const _0x20c5f1=_0x57f9bd;if(!Config[_0x20c5f1(0xd6)]('ui',_0x20c5f1(0xb4))||!Config[_0x20c5f1(0xd6)]('ui',_0x20c5f1(0xc3)))return _0x2c1ce2[_0x20c5f1(0xc7)](_0x20c5f1(0xe5))[_0x20c5f1(0xb3)]();if(_0x2c1ce2[_0x20c5f1(0xc7)](_0x20c5f1(0xe5))[_0x20c5f1(0xd0)])return;$(_0x20c5f1(0xea))[_0x20c5f1(0xbd)](()=>{const _0x2b8b56=_0x20c5f1,_0x297751=ui[_0x2b8b56(0xf5)][_0x2b8b56(0xae)];if(!_0x297751[_0x2b8b56(0xd0)])ui[_0x2b8b56(0xf5)][_0x2b8b56(0xab)](!![]);else _0x297751[_0x2b8b56(0xda)](0x96);})[_0x20c5f1(0xf0)](_0x2c1ce2[_0x20c5f1(0xc7)](_0x20c5f1(0xee)));}static[_0x57f9bd(0xde)](_0x543beb,_0x14019c){const _0x5a727e=_0x57f9bd;if(!Config['get']('ui',_0x5a727e(0xcc)))return _0x14019c[_0x5a727e(0xc7)](_0x5a727e(0xeb))[_0x5a727e(0xb3)]();if(_0x14019c[_0x5a727e(0xc7)]('.cfg__btn-open-alt')[_0x5a727e(0xd0)])return;Config[_0x5a727e(0xc2)]({'isGameSettingsButton':!![]})['insertAfter'](_0x14019c['find'](_0x5a727e(0xee)));}static[_0x57f9bd(0xd4)](_0x143cdf,_0xcbd239){const _0x4484fe=_0x57f9bd;if(game['user'][_0x4484fe(0xe3)])return;if(_0xcbd239[_0x4484fe(0xc7)]('.ui__wrp-player-settings')[_0x4484fe(0xd0)])return;const _0x599d36=$(_0x4484fe(0xe0)+(Config[_0x4484fe(0xd6)]('ui',_0x4484fe(0xb6))?_0x4484fe(0xf7):_0x4484fe(0xdf))+_0x4484fe(0xd8))[_0x4484fe(0xbd)](_0x178123=>Config[_0x4484fe(0xf4)](_0x178123));$$`<div class="ui__wrp-player-settings">${_0x599d36}</div>`[_0x4484fe(0xc1)](_0xcbd239[_0x4484fe(0xc7)](_0x4484fe(0xb2)));}static[_0x57f9bd(0xd3)](){const _0xe8a025=_0x57f9bd;return Config['get']('ui','isStreamerMode')?_0xe8a025(0xc5):_0xe8a025(0xd1);}}export{UtilUi};