function _0x29f9(){const _0x5f48fe=['then','_SYSTEMS_SUPPORTED','min','1667788wdLBms','join','effects','combatant','_MODULE_DRAG_UPLOAD','\x20and\x20','reaction','Combat','babele','Game\x20system\x20\x22','twilight-ui','tidy5e-sheet','MODULE_PLUTONIUM_ADDON_DATA','actor','isDefeated','MODULE_TITLE','1930QhBtvl','105936FPqXXl','_MODULE_BABELE','isPlutoniumAddonDataActive','isStreamerMode','.\x20Please\x20','\x20your\x20system\x20version.','data','below\x20the\x20minimum\x20required\x20version\x20(','1118103RVSDvi','getSystemVersion','_MODULE_BETTER_ROLLS','138865lPEOtB','getFlag','\x20for\x20use\x20with\x20','\x22\x20version\x20','isDaeActive','permission_viewer','_getVersionString','MODULE_BETTER_ROLLTABLES','108bBgNpz','isDragUploadActive','user','better-rolltables','isModuleActive','_MODULE_TIDY5E_SHEET','getApi','item-piles','upgrade','1246PasnLo','midi-qol','isMonksLittleDetailsActive','isDaeGeneratingArmorEffects','above\x20the\x20maximum\x20supported\x20version\x20(','27QaMDHr','Versions','isPermissionViewerActive','MODULE_MIDI_QOL','modules','MODULE_MONKS_LITTLE_DETAILS','_MODULE_OBSIDIAN','plutonium-addon-data','MonksLittleDetails','isTwilightUiActive','MAX_SAFE_INTEGER','isObsidianActive','MODULE_MONKS_ENHANCED_JOURNAL','max','adnd5e','isBetterRolltablesActive','active','./Config.js','monks-enhanced-journal','find','_init_doShowNotification','get','defeated','init','downgrade','statusId','isBetterRollsActive','minor','5566aIDiNn','6456mlHKQf','patch','_MODULE_BETTER_ROLLTABLES','MODULE_SMOL_FOUNDRY','major','_MODULE_TWILIGHT_UI','isGM','warn','betterrolls5e','1440342zbIhnq','isItemPilesActive','MODULE_DAE'];_0x29f9=function(){return _0x5f48fe;};return _0x29f9();}const _0x2dfb36=_0x6ae9;(function(_0x49a27d,_0xe0509d){const _0x4bfe67=_0x6ae9,_0x1476c9=_0x49a27d();while(!![]){try{const _0x340664=parseInt(_0x4bfe67(0x1a3))/0x1+parseInt(_0x4bfe67(0x19b))/0x2*(parseInt(_0x4bfe67(0x15e))/0x3)+-parseInt(_0x4bfe67(0x18a))/0x4+parseInt(_0x4bfe67(0x1a6))/0x5*(-parseInt(_0x4bfe67(0x1ae))/0x6)+-parseInt(_0x4bfe67(0x159))/0x7*(parseInt(_0x4bfe67(0x17b))/0x8)+parseInt(_0x4bfe67(0x184))/0x9+parseInt(_0x4bfe67(0x19a))/0xa*(-parseInt(_0x4bfe67(0x17a))/0xb);if(_0x340664===_0xe0509d)break;else _0x1476c9['push'](_0x1476c9['shift']());}catch(_0x1047db){_0x1476c9['push'](_0x1476c9['shift']());}}}(_0x29f9,0x91ad0));import{Util}from'./Util.js';import{UtilGameSettings}from'./UtilGameSettings.js';import{SharedConsts}from'../shared/SharedConsts.js';class UtilCompat{static[_0x2dfb36(0x175)](){const _0x38a398=_0x2dfb36;this[_0x38a398(0x172)]()[_0x38a398(0x187)](null);}static async[_0x2dfb36(0x172)](){const _0x34432c=_0x2dfb36;if(!game[_0x34432c(0x1b0)][_0x34432c(0x181)])return;const {system:_0x1b6c0a,isUnknownVersion:_0x1a9a61,major:_0x359f1b,minor:_0x2e4969,patch:_0xa0eb8,version:_0x4ca51e}=Util[_0x34432c(0x15f)][_0x34432c(0x1a4)]();if(_0x1a9a61)return;const _0x3a1e1d=this[_0x34432c(0x188)][_0x1b6c0a];if(!_0x3a1e1d)return;const _0xff6648=_0x3a1e1d[_0x34432c(0x189)]?_0x359f1b<_0x3a1e1d[_0x34432c(0x189)]['major']||_0x359f1b===_0x3a1e1d[_0x34432c(0x189)][_0x34432c(0x17f)]&&_0x2e4969<_0x3a1e1d[_0x34432c(0x189)]['minor']||_0x359f1b===_0x3a1e1d[_0x34432c(0x189)]['major']&&_0x2e4969===_0x3a1e1d[_0x34432c(0x189)][_0x34432c(0x179)]&&_0xa0eb8<_0x3a1e1d[_0x34432c(0x189)][_0x34432c(0x17c)]:![],_0x1e79fd=_0x3a1e1d[_0x34432c(0x16b)]?_0x359f1b>_0x3a1e1d['max'][_0x34432c(0x17f)]||_0x359f1b===_0x3a1e1d['max'][_0x34432c(0x17f)]&&_0x2e4969>_0x3a1e1d['max']['minor']||_0x359f1b===_0x3a1e1d[_0x34432c(0x16b)][_0x34432c(0x17f)]&&_0x2e4969===_0x3a1e1d[_0x34432c(0x16b)][_0x34432c(0x179)]&&_0xa0eb8>_0x3a1e1d[_0x34432c(0x16b)][_0x34432c(0x17c)]:![];if(!_0xff6648&&!_0x1e79fd)return;const {Config:_0x1a8d37}=await import(_0x34432c(0x16f));ui['notifications'][_0x34432c(0x182)](_0x34432c(0x193)+_0x1b6c0a+_0x34432c(0x1a9)+_0x4ca51e+'\x20is\x20'+[_0xff6648?_0x34432c(0x1a2)+this[_0x34432c(0x1ac)](_0x3a1e1d[_0x34432c(0x189)])+')':null,_0x1e79fd?_0x34432c(0x15d)+this[_0x34432c(0x1ac)](_0x3a1e1d[_0x34432c(0x16b)])+')':null]['filter'](Boolean)[_0x34432c(0x18b)](_0x34432c(0x18f))+_0x34432c(0x1a8)+(_0x1a8d37['get']('ui',_0x34432c(0x19e))?SharedConsts['MODULE_TITLE_FAKE']:SharedConsts[_0x34432c(0x199)])+_0x34432c(0x19f)+(_0x1e79fd?_0x34432c(0x176):_0x34432c(0x158))+_0x34432c(0x1a0));}static['_getVersionString'](_0x1d5ecd){const _0x599190=_0x2dfb36;return _0x1d5ecd['major']+'.'+_0x1d5ecd[_0x599190(0x179)]+'.'+_0x1d5ecd[_0x599190(0x17c)];}static['isModuleActive'](_0x358379){const _0x166dd1=_0x2dfb36;return!!game[_0x166dd1(0x162)][_0x166dd1(0x173)](_0x358379)?.[_0x166dd1(0x16e)];}static['isDaeActive'](){const _0x4cdf73=_0x2dfb36;return this[_0x4cdf73(0x1b2)](UtilCompat[_0x4cdf73(0x186)]);}static[_0x2dfb36(0x1af)](){const _0x247e8a=_0x2dfb36;return this['isModuleActive'](UtilCompat[_0x247e8a(0x18e)]);}static[_0x2dfb36(0x178)](){const _0x8896db=_0x2dfb36;return this['isModuleActive'](UtilCompat[_0x8896db(0x1a5)]);}static[_0x2dfb36(0x160)](){const _0x25c494=_0x2dfb36;return this[_0x25c494(0x1b2)](UtilCompat['MODULE_PERMISSION_VIEWER']);}static['isSmolFoundryActive'](){const _0xc0e156=_0x2dfb36;return this[_0xc0e156(0x1b2)](UtilCompat['MODULE_SMOL_FOUNDRY']);}static[_0x2dfb36(0x167)](){const _0x22002b=_0x2dfb36;return this[_0x22002b(0x1b2)](UtilCompat[_0x22002b(0x180)]);}static['isTidy5eSheetActive'](){const _0x39d5dc=_0x2dfb36;return this[_0x39d5dc(0x1b2)](UtilCompat[_0x39d5dc(0x155)]);}static[_0x2dfb36(0x169)](){const _0x31f256=_0x2dfb36;return this[_0x31f256(0x1b2)](UtilCompat[_0x31f256(0x164)]);}static['isBabeleActive'](){const _0x41c2a6=_0x2dfb36;return this[_0x41c2a6(0x1b2)](UtilCompat[_0x41c2a6(0x19c)]);}static[_0x2dfb36(0x15b)](){const _0x3808aa=_0x2dfb36;return this[_0x3808aa(0x1b2)](UtilCompat[_0x3808aa(0x163)]);}static[_0x2dfb36(0x16d)](){const _0x304376=_0x2dfb36;return this[_0x304376(0x1b2)](UtilCompat[_0x304376(0x1ad)]);}static[_0x2dfb36(0x185)](){const _0x535b20=_0x2dfb36;return this[_0x535b20(0x1b2)](UtilCompat[_0x535b20(0x17d)]);}static[_0x2dfb36(0x19d)](){const _0x4c16d1=_0x2dfb36;return this[_0x4c16d1(0x1b2)](UtilCompat[_0x4c16d1(0x196)]);}static[_0x2dfb36(0x156)](_0x1163d8){const _0x5325be=_0x2dfb36;if(!this['isModuleActive'](_0x1163d8))return null;return game[_0x5325be(0x162)]['get'](_0x1163d8)['api'];}static[_0x2dfb36(0x15c)](){const _0x2f2075=_0x2dfb36;if(!this[_0x2f2075(0x1aa)]())return![];return!!UtilGameSettings['getSafe'](UtilCompat[_0x2f2075(0x186)],'calculateArmor');}static['getFeatureFlags']({isReaction:_0x396b44}){const _0x380c62=_0x2dfb36,_0x3fca0a={};return _0x396b44&&(_0x3fca0a[_0x380c62(0x16c)]={'itemInfo':{'type':_0x380c62(0x190)}}),_0x3fca0a;}static [_0x2dfb36(0x166)]=class{static[_0x2dfb36(0x198)](token){const _0x543d54=_0x2dfb36;return token[_0x543d54(0x18d)]&&token[_0x543d54(0x18d)][_0x543d54(0x1a1)][_0x543d54(0x174)]||token[_0x543d54(0x197)]?.[_0x543d54(0x18c)][_0x543d54(0x171)](e=>e[_0x543d54(0x1a7)]('core',_0x543d54(0x177))===CONFIG[_0x543d54(0x191)]['defeatedStatusId'])||token[_0x543d54(0x1a1)]['overlayEffect']===CONFIG['controlIcons']['defeated'];}};}UtilCompat[_0x2dfb36(0x186)]='dae',UtilCompat[_0x2dfb36(0x18e)]='dragupload',UtilCompat[_0x2dfb36(0x1a5)]=_0x2dfb36(0x183),UtilCompat[_0x2dfb36(0x161)]=_0x2dfb36(0x15a),UtilCompat['MODULE_KANKA_FOUNDRY']='kanka-foundry',UtilCompat[_0x2dfb36(0x17e)]='smol-foundry',UtilCompat['MODULE_PERMISSION_VIEWER']=_0x2dfb36(0x1ab),UtilCompat[_0x2dfb36(0x180)]=_0x2dfb36(0x194),UtilCompat[_0x2dfb36(0x155)]=_0x2dfb36(0x195),UtilCompat[_0x2dfb36(0x164)]='obsidian',UtilCompat[_0x2dfb36(0x19c)]=_0x2dfb36(0x192),UtilCompat[_0x2dfb36(0x163)]='monks-little-details',UtilCompat[_0x2dfb36(0x16a)]=_0x2dfb36(0x170),UtilCompat['MODULE_BETTER_ROLLTABLES']=_0x2dfb36(0x1b1),UtilCompat[_0x2dfb36(0x17d)]=_0x2dfb36(0x157),UtilCompat[_0x2dfb36(0x196)]=_0x2dfb36(0x165),UtilCompat['_SYSTEMS_SUPPORTED']={'dnd5e':{'min':{'major':0x1,'minor':0x5,'patch':0x2},'max':{'major':0x1,'minor':0x5,'patch':Number[_0x2dfb36(0x168)]}}};function _0x6ae9(_0x381e81,_0x1cc37c){const _0x29f911=_0x29f9();return _0x6ae9=function(_0x6ae933,_0x112180){_0x6ae933=_0x6ae933-0x155;let _0x38cb0c=_0x29f911[_0x6ae933];return _0x38cb0c;},_0x6ae9(_0x381e81,_0x1cc37c);}export{UtilCompat};