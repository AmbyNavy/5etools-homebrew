const _0x36599d=_0x3dfe;function _0x34f8(){const _0x1fdc71=['data','size','defaultPermission','getMovement','objectType','VET_SIZE_TO_ABV','3784328RLOZdY','items','66egdoqs','508837XxzsZd','permission','Import\x20Objects','type','string','fluff','entries','objects','actors','object','hitEntries','source','med','Objects','7665849dNZXHl','4819mGctmq','action','10178290IYqwRg','pGetEntryDescription','isTemp','toLowerCase','name','_pImportEntry_fillData_Cargo','ImportEntryOpts','_pImportEntry_fillData_Attributes','stringify','details','biography','length','speed','SRD','_pImportEntry_pGetImportMetadata','movement','_pGetSources','_pImportEntry_pFillFolder','_pack','capCrew','_pGetSourcesHomebrew','SOURCE_TYP_CUSTOM','number','isStreamerMode','643251vTTqWW','PG_OBJECTS','164mIdOcS','DataSourceUrl','feat','_pImportEntry_pFillItems_pActionEntry','actionEntries','importObject','5etools','103195lJNiEx','_pImportEntry_fillConditionsDamage','capacity','64CchaiZ','\x20{@h}','Custom\x20URL','_pImportEntry_fillData_Currency','_pImportEntry_fillData_Abilities','traits','DataSourceFile','attackEntries','_pFillWeaponItem','copy','pGetObjectSideData','capCargo','_pImportEntry_pFillToken','Upload\x20File','push','_pImportEntry_pFillBase','_pImportEntry_pFillData_Details','_pImportEntry_fillData_Traits','DISPLAY_NAME_TYPE_PLURAL'];_0x34f8=function(){return _0x1fdc71;};return _0x34f8();}(function(_0x5c042d,_0x1cde69){const _0xc67775=_0x3dfe,_0x4f4f04=_0x5c042d();while(!![]){try{const _0x445925=parseInt(_0xc67775(0x17a))/0x1*(parseInt(_0xc67775(0x14f))/0x2)+-parseInt(_0xc67775(0x143))/0x3+-parseInt(_0xc67775(0x145))/0x4*(parseInt(_0xc67775(0x14c))/0x5)+-parseInt(_0xc67775(0x16a))/0x6*(-parseInt(_0xc67775(0x16b))/0x7)+parseInt(_0xc67775(0x168))/0x8+-parseInt(_0xc67775(0x179))/0x9+parseInt(_0xc67775(0x17c))/0xa;if(_0x445925===_0x1cde69)break;else _0x4f4f04['push'](_0x4f4f04['shift']());}catch(_0x57f580){_0x4f4f04['push'](_0x4f4f04['shift']());}}}(_0x34f8,0x81f4e));import{ImportListActor}from'./ImportListActor.js';import{Vetools}from'./Vetools.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{UtilActors}from'./UtilActors.js';import{DataConverterObject}from'./DataConverterObject.js';function _0x3dfe(_0x1048c8,_0x3596d7){const _0x34f81b=_0x34f8();return _0x3dfe=function(_0x3dfeed,_0x248df0){_0x3dfeed=_0x3dfeed-0x13c;let _0x3e211d=_0x34f81b[_0x3dfeed];return _0x3e211d;},_0x3dfe(_0x1048c8,_0x3596d7);}import{UtilDataSource}from'./UtilDataSource.js';import{UtilDataConverter}from'./UtilDataConverter.js';class ImportListObject extends ImportListActor{static ['ID']=_0x36599d(0x172);static [_0x36599d(0x161)]=_0x36599d(0x178);static ['_']=this['registerImpl'](this);constructor(_0x37074f){const _0x29ef66=_0x36599d;_0x37074f=_0x37074f||{},super({'title':_0x29ef66(0x16d)},_0x37074f,{'props':[_0x29ef66(0x174)],'dirsHomebrew':[_0x29ef66(0x174)],'propsBrewAdditionalData':['foundryObject'],'fnLoadSideData':Vetools[_0x29ef66(0x159)],'titleSearch':_0x29ef66(0x172),'sidebarTab':_0x29ef66(0x173),'gameProp':_0x29ef66(0x173),'defaultFolderPath':[_0x29ef66(0x178)],'pageFilter':new PageFilterObjects(),'page':UrlUtil[_0x29ef66(0x144)],'isPreviewable':!![],'isDedupable':!![],'configGroup':_0x29ef66(0x14a)},{'actorType':'vehicle','DataConverter':DataConverterObject});}async[_0x36599d(0x18c)](){const _0x456fad=_0x36599d;return[new UtilDataSource['DataSourceUrl'](Config['get']('ui',_0x456fad(0x142))?_0x456fad(0x189):_0x456fad(0x14b),Vetools['DATA_URL_OBJECTS'],{'filterTypes':[UtilDataSource['SOURCE_TYP_OFFICIAL_ALL']],'isDefault':!![]}),new UtilDataSource[(_0x456fad(0x146))](_0x456fad(0x151),'',{'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),new UtilDataSource[(_0x456fad(0x155))](_0x456fad(0x15c),{'filterTypes':[UtilDataSource[_0x456fad(0x140)]]}),...await this[_0x456fad(0x13f)]()];}async[_0x36599d(0x18a)](_0x44855b,_0x2636bf,_0x5d5e7d){const _0x2cece8=_0x36599d,_0x8176dd={},_0x30f89f=_0x2636bf[_0x2cece8(0x171)]?{'entries':_0x2636bf['entries']}:null,_0x404573=new ImportListObject[(_0x2cece8(0x182))]({'actor':_0x44855b,'fluff':_0x30f89f});await this[_0x2cece8(0x15e)](_0x2636bf,_0x8176dd,_0x404573[_0x2cece8(0x170)],{'isUseTokenImageAsPortrait':!![]}),_0x8176dd[_0x2cece8(0x162)]={},await this[_0x2cece8(0x13c)](_0x2636bf,_0x8176dd,_0x5d5e7d);if(_0x5d5e7d[_0x2cece8(0x164)]!=null)_0x8176dd[_0x2cece8(0x16c)]={'default':_0x5d5e7d[_0x2cece8(0x164)]};else _0x8176dd['permission']={'default':Config['get'](this['_configGroup'],'permissions')};return this[_0x2cece8(0x153)](_0x2636bf,_0x8176dd[_0x2cece8(0x162)],_0x404573),this[_0x2cece8(0x183)](_0x2636bf,_0x8176dd['data'],_0x404573),await this['_pImportEntry_pFillData_Details'](_0x2636bf,_0x8176dd[_0x2cece8(0x162)],_0x404573),this[_0x2cece8(0x160)](_0x2636bf,_0x8176dd[_0x2cece8(0x162)],_0x404573),this[_0x2cece8(0x152)](_0x2636bf,_0x8176dd[_0x2cece8(0x162)],_0x404573),this['_pImportEntry_fillData_Cargo'](_0x2636bf,_0x8176dd[_0x2cece8(0x162)],_0x404573),await this[_0x2cece8(0x15b)]({'importable':_0x2636bf,'actor':_0x8176dd}),{'dataBuilderOpts':_0x404573,'actorData':_0x8176dd};}['_pImportEntry_fillData_Attributes'](_0xbd9f08,_0x48b1eb){const _0x51cce5=_0x36599d,_0x5d1b93={};_0x5d1b93['init']={'value':0x0,'bonus':0x0,'mod':0x0,'prof':0x0,'total':0x0},_0x5d1b93['spelldc']=null;if(_0xbd9f08['speed']!=null)_0x5d1b93[_0x51cce5(0x18b)]=DataConverter[_0x51cce5(0x165)](_0xbd9f08[_0x51cce5(0x188)],{'configGroup':_0x51cce5(0x14a)});else _0x5d1b93[_0x51cce5(0x18b)]={'walk':0x0};typeof _0xbd9f08['ac']===_0x51cce5(0x141)&&(_0x5d1b93['ac']={'flat':_0xbd9f08['ac'],'motionless':''+_0xbd9f08['ac']}),typeof _0xbd9f08['hp']===_0x51cce5(0x141)&&(_0x5d1b93['hp']={'value':_0xbd9f08['hp'],'min':0x0,'max':_0xbd9f08['hp'],'temp':0x0,'tempmax':0x0,'dt':0x0,'mt':0x0}),(_0xbd9f08[_0x51cce5(0x13e)]!=null||_0xbd9f08['capPassenger']!=null||_0xbd9f08[_0x51cce5(0x15a)]!=null)&&(_0x5d1b93[_0x51cce5(0x14e)]={'creature':Renderer['vehicle']['getShipCreatureCapacity'](_0xbd9f08),'cargo':typeof _0xbd9f08[_0x51cce5(0x15a)]==='string'?0x0:_0xbd9f08[_0x51cce5(0x15a)]}),_0x48b1eb['attributes']=_0x5d1b93;}async[_0x36599d(0x15f)](_0x3b7675,_0x403d40,_0x1e012e){const _0x2328ba=_0x36599d,_0x18b03f={};_0x18b03f[_0x2328ba(0x186)]={'value':await this['_pGetBiographyValue'](_0x3b7675,_0x1e012e['fluff'],{'isImportText':!![]})},_0x18b03f[_0x2328ba(0x176)]=UtilDataConverter['getSourceWithPagePart'](_0x3b7675),_0x403d40[_0x2328ba(0x185)]=_0x18b03f;}[_0x36599d(0x160)](_0x5cf7d8,_0x3c19d0){const _0x25daa5=_0x36599d,_0x5d86ad={};_0x5d86ad[_0x25daa5(0x163)]=UtilActors[_0x25daa5(0x167)][_0x5cf7d8[_0x25daa5(0x163)]]||_0x25daa5(0x177),this[_0x25daa5(0x14d)](_0x5cf7d8,_0x5d86ad),_0x3c19d0[_0x25daa5(0x154)]=_0x5d86ad;}[_0x36599d(0x152)](_0x2049b6,_0x35f6a8){_0x35f6a8['currency']={'pp':0x0,'gp':0x0,'ep':0x0,'sp':0x0,'cp':0x0};}async['_pImportEntry_pFillItems'](_0x55ea85,_0x558521,_0x2954aa,_0x4351c5){const _0x2199eb=_0x36599d;if(_0x55ea85[_0x2199eb(0x149)]?.['length']){for(const _0x36699a of _0x55ea85[_0x2199eb(0x149)])await this[_0x2199eb(0x148)](_0x55ea85,_0x558521,_0x36699a,_0x2954aa);}const _0x5715ff=_0x4351c5[_0x2199eb(0x17e)]||this[_0x2199eb(0x13d)]!=null;await UtilActors['pAddActorItems'](_0x2954aa['actor'],_0x2954aa[_0x2199eb(0x169)],{'isTemporary':_0x5715ff});}async[_0x36599d(0x148)](_0x47f75b,_0x3c534b,_0x2213d6,_0x1baa92){const _0x40dd88=_0x36599d;if(_0x2213d6[_0x40dd88(0x16e)]==='actions'){for(const _0x3338b4 of _0x2213d6[_0x40dd88(0x171)]){if(typeof _0x3338b4===_0x40dd88(0x174)){const _0x3aae4f=MiscUtil[_0x40dd88(0x158)](_0x3338b4);_0x3aae4f['name']=_0x3aae4f[_0x40dd88(0x180)]||_0x2213d6[_0x40dd88(0x180)],_0x3338b4['type']==='attack'&&_0x3aae4f[_0x40dd88(0x156)]?.[_0x40dd88(0x187)]===0x1&&_0x3aae4f['hitEntries']?.[_0x40dd88(0x187)]===0x1&&typeof _0x3aae4f[_0x40dd88(0x156)][0x0]===_0x40dd88(0x16f)&&typeof _0x3aae4f['hitEntries'][0x0]===_0x40dd88(0x16f)&&(_0x3aae4f['entries']=['{@atk\x20'+_0x3338b4['attackType'][_0x40dd88(0x17f)]()+'}\x20'+_0x3aae4f[_0x40dd88(0x156)][0x0]+_0x40dd88(0x150)+_0x3aae4f[_0x40dd88(0x175)][0x0]],delete _0x3aae4f['attackEntries'],delete _0x3aae4f['hitEntries']),await this[_0x40dd88(0x148)](_0x47f75b,_0x3c534b,_0x3aae4f,_0x1baa92);}else await this[_0x40dd88(0x148)](_0x47f75b,_0x3c534b,_0x3338b4,_0x1baa92);}return;}_0x2213d6=typeof _0x2213d6===_0x40dd88(0x174)?_0x2213d6:{'name':'Unnamed\x20Action','entries':[_0x2213d6]};const _0x4161ef=await DataConverter[_0x40dd88(0x17d)](_0x2213d6),_0x3da8a6=_0x2213d6[_0x40dd88(0x171)]?JSON[_0x40dd88(0x184)](_0x2213d6[_0x40dd88(0x171)]):null,{damageTuples:_0x246d43,formula:_0x3c8113,isAttack:_0x1e13ad,rangeShort:_0x53fd2e,rangeLong:_0x4596bb,actionType:_0x341eed,isProficient:_0x20ef39,attackBonus:_0x4e465d,_foundryData:_0x5302b9,foundryData:_0x2a6519,_foundryFlags:_0x4de629,foundryFlags:_0x4e9cc9,img:_0x29e1bc}=await DataConverterObject['pGetParsedAction'](_0x47f75b,_0x2213d6,_0x1baa92),_0x275120=_0x246d43,{saveAbility:_0x232919,saveScaling:_0x41a9b2,saveDc:_0x3136f8}=this['_getSavingThrowData'](_0x3da8a6);_0x1e13ad?await this[_0x40dd88(0x157)](_0x47f75b,_0x3c534b,_0x2213d6,_0x1baa92,{'damageParts':_0x275120,'formula':_0x3c8113,'rangeShort':_0x53fd2e,'rangeLong':_0x4596bb,'actionType':_0x341eed,'isProficient':_0x20ef39,'description':_0x4161ef,'saveAbility':_0x232919,'saveDc':_0x3136f8,'saveScaling':_0x41a9b2,'attackBonus':_0x4e465d,'_foundryData':_0x5302b9,'foundryData':_0x2a6519,'_foundryFlags':_0x4de629,'foundryFlags':_0x4e9cc9,'img':_0x29e1bc,'isSiegeWeapon':_0x47f75b[_0x40dd88(0x166)]==='SW'}):_0x1baa92[_0x40dd88(0x169)][_0x40dd88(0x15d)](await DataConverter['pGetItemActorPassive'](_0x2213d6,{'mode':'creature','fvttType':_0x40dd88(0x147),'activationType':_0x40dd88(0x17b),'activationCost':0x1,'description':_0x4161ef,'saveAbility':_0x232919,'saveDc':_0x3136f8,'saveScaling':_0x41a9b2,'damageParts':_0x275120,'formula':_0x3c8113,'attackBonus':_0x4e465d,'_foundryData':_0x5302b9,'foundryData':_0x2a6519,'_foundryFlags':_0x4de629,'foundryFlags':_0x4e9cc9,'img':_0x29e1bc,'entity':_0x47f75b,'source':_0x47f75b['source'],'actor':{'data':_0x3c534b}}));}[_0x36599d(0x181)](_0x250850,_0x501a95){_0x501a95['cargo']={'crew':[],'passengers':[]};}}ImportListObject['ImportEntryOpts']=class extends ImportListActor[_0x36599d(0x182)]{};export{ImportListObject};