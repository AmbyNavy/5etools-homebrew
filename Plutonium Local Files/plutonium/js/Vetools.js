const _0x182fc8=_0x2ebc;(function(_0xb7ec51,_0x71dc92){const _0x31cbd7=_0x2ebc,_0x49dc16=_0xb7ec51();while(!![]){try{const _0x4fb369=-parseInt(_0x31cbd7(0x2b4))/0x1*(parseInt(_0x31cbd7(0x25c))/0x2)+parseInt(_0x31cbd7(0x295))/0x3+-parseInt(_0x31cbd7(0x201))/0x4*(-parseInt(_0x31cbd7(0x2fe))/0x5)+-parseInt(_0x31cbd7(0x289))/0x6*(parseInt(_0x31cbd7(0x2b7))/0x7)+parseInt(_0x31cbd7(0x30f))/0x8*(parseInt(_0x31cbd7(0x2a4))/0x9)+-parseInt(_0x31cbd7(0x2bf))/0xa+-parseInt(_0x31cbd7(0x30c))/0xb*(-parseInt(_0x31cbd7(0x2f4))/0xc);if(_0x4fb369===_0x71dc92)break;else _0x49dc16['push'](_0x49dc16['shift']());}catch(_0x331158){_0x49dc16['push'](_0x49dc16['shift']());}}}(_0x324c,0xb27e7));import{SharedConsts}from'../shared/SharedConsts.js';import{Consts}from'./Consts.js';import{JqueryExtension}from'./JqueryExtension.js';import{Config}from'./Config.js';import{GameStorage}from'./GameStorage.js';import{LGT}from'./Util.js';import{UtilNotifications}from'./UtilNotifications.js';import{UtilHooks}from'./UtilHooks.js';class NotAxios{static async[_0x182fc8(0x1d4)](_0x270231){const _0x12cbd3=_0x182fc8;return{'data':await(await fetch(_0x270231))[_0x12cbd3(0x24f)]()};}}class Vetools{static async[_0x182fc8(0x1ef)](){const _0x2cfac5=_0x182fc8;if(Config[_0x2cfac5(0x1d4)]('import',_0x2cfac5(0x230)))return;Vetools[_0x2cfac5(0x28a)]()['then'](({source:_0x3e09fa,prop:_0x1d48b8,abbreviation:_0x5e6f09})=>{const _0x518a89=_0x2cfac5;Vetools[_0x518a89(0x2fa)]=_0x1d48b8,Vetools[_0x518a89(0x2de)]=_0x3e09fa,Vetools[_0x518a89(0x1df)]=_0x5e6f09,console['log'](...LGT,'Loaded\x20homebrew\x20index.');})[_0x2cfac5(0x1f9)](_0x1499ab=>{const _0x1b12dc=_0x2cfac5;Vetools[_0x1b12dc(0x2fa)]={},Vetools['HOMEBREW_INDEX__SOURCE']={},Vetools['HOMEBREW_INDEX__ABBREVIATION']={},ui[_0x1b12dc(0x21d)][_0x1b12dc(0x1ba)]('Failed\x20to\x20load\x20homebrew\x20index!\x20'+VeCt[_0x1b12dc(0x22f)]),setTimeout(()=>{throw _0x1499ab;});});}static[_0x182fc8(0x2f7)](_0x499825){const _0x45bd63=_0x182fc8;Renderer[_0x45bd63(0x2ee)]=Vetools[_0x45bd63(0x2ef)];const _0x566738=_0x499825();return Renderer[_0x45bd63(0x2ee)]=Vetools[_0x45bd63(0x2d9)],_0x566738;}static['withCustomDiceRenderingPatch'](_0x5c59cd,_0x5688bb){const _0x72add7=_0x182fc8;Renderer[_0x72add7(0x2ee)]=_0x5688bb;const _0xaace80=_0x5c59cd();return Renderer['getRollableEntryDice']=Vetools[_0x72add7(0x2d9)],_0xaace80;}static[_0x182fc8(0x20b)](_0x10a30c){const _0x45b315=_0x182fc8;return _0x10a30c[_0x45b315(0x266)](/×/g,'*')[_0x45b315(0x266)](/÷/g,'/')[_0x45b315(0x266)](/#\$.*?\$#/g,'0');}static[_0x182fc8(0x236)](){const _0xe1e52e=_0x182fc8;VeCt[_0xe1e52e(0x22f)]='See\x20the\x20console\x20(F12\x20or\x20CTRL+SHIFT+J)\x20for\x20details.',StorageUtil[_0xe1e52e(0x304)]=GameStorage[_0xe1e52e(0x28f)]['bind'](GameStorage),StorageUtil[_0xe1e52e(0x255)]=GameStorage[_0xe1e52e(0x279)][_0xe1e52e(0x1e0)](GameStorage);}static['doMonkeyPatchPostConfig'](){const _0x19eee3=_0x182fc8;JqueryExtension[_0x19eee3(0x26b)](),this[_0x19eee3(0x27d)](),UtilsChangelog[_0x19eee3(0x235)]='https://github.com/TheGiddyLimit/plutonium-next/tags';const _0x1abdf3=()=>{const _0x4d406b=_0x19eee3;Renderer['get']()[_0x4d406b(0x2f3)](Vetools[_0x4d406b(0x2d6)]);if(Config[_0x4d406b(0x1d4)]('import',_0x4d406b(0x308))){const _0x3b2268=(Config[_0x4d406b(0x1d4)](_0x4d406b(0x22b),_0x4d406b(0x1db))+'/')[_0x4d406b(0x266)](/\/+$/,'/');Renderer[_0x4d406b(0x1d4)]()[_0x4d406b(0x1f5)](_0x4d406b(0x1bf),_0x3b2268);return;}if(this[_0x4d406b(0x1fe)]()){Renderer['get']()['setBaseMediaUrl']('img',Vetools[_0x4d406b(0x2d6)]);return;}Renderer[_0x4d406b(0x1d4)]()[_0x4d406b(0x1f5)](_0x4d406b(0x1bf),null);};_0x1abdf3(),UtilHooks['on'](UtilHooks[_0x19eee3(0x2d5)],_0x1abdf3),Renderer[_0x19eee3(0x2ea)][_0x19eee3(0x2dc)]=Consts[_0x19eee3(0x262)]+0x1,Renderer[_0x19eee3(0x2ea)][_0x19eee3(0x2e2)]=Renderer[_0x19eee3(0x2ea)]['MIN_Z_INDEX']+0xa,BrewUtil[_0x19eee3(0x23d)]={},BrewUtil[_0x19eee3(0x252)]={'sources':[]},Vetools['_CACHED_GET_ROLLABLE_ENTRY_DICE']=Renderer[_0x19eee3(0x2ee)],Vetools[_0x19eee3(0x2d9)]=(_0x3f38ff,_0xb57cb7,_0x1580c8,{isAddHandlers:isAddHandlers=!![],pluginResults:pluginResults=null}={})=>{const _0x57a69f=_0x19eee3,_0x208b1f=MiscUtil[_0x57a69f(0x1bd)](_0x3f38ff);typeof _0x208b1f['toRoll']!==_0x57a69f(0x232)&&(_0x208b1f[_0x57a69f(0x2e9)]=Renderer[_0x57a69f(0x306)](_0x208b1f[_0x57a69f(0x2e9)]));if(_0x208b1f[_0x57a69f(0x2eb)]){const _0x3d4307=Math[_0x57a69f(0x285)](...Object[_0x57a69f(0x2f1)](_0x208b1f[_0x57a69f(0x2eb)][_0x57a69f(0x234)])[_0x57a69f(0x293)](_0x2d78f9=>Number(_0x2d78f9))[_0x57a69f(0x2bd)](_0x300c0c=>_0x208b1f[_0x57a69f(0x2eb)][_0x57a69f(0x234)][_0x300c0c]));_0x208b1f[_0x57a69f(0x2e9)]=_0x208b1f['prompt'][_0x57a69f(0x234)][_0x3d4307];}const _0x144aeb=this['getCleanDiceString'](_0x208b1f['toRoll']);if(Config[_0x57a69f(0x1d4)](_0x57a69f(0x22b),_0x57a69f(0x310)))return _0x1580c8||_0x144aeb;return _0x57a69f(0x1eb)+_0x144aeb+']]'+(_0x144aeb[_0x57a69f(0x1bc)]()['trim']()!==_0x1580c8[_0x57a69f(0x1bc)]()['trim']()?'\x20('+_0x1580c8+')':'');},Renderer[_0x19eee3(0x2ee)]=Vetools[_0x19eee3(0x2d9)];const _0x1eec40={},_0x102f39=[_0x19eee3(0x269),_0x19eee3(0x20c),'$getHoverContent_statsCode','$getHoverContent_miscCode',_0x19eee3(0x2a9)];_0x102f39[_0x19eee3(0x1fc)](_0x1ec81e=>{const _0x474c6b=_0x19eee3;_0x1eec40[_0x1ec81e]=Renderer[_0x474c6b(0x2ea)][_0x1ec81e],Renderer[_0x474c6b(0x2ea)][_0x1ec81e]=(..._0x2c1896)=>{Renderer['getRollableEntryDice']=Vetools['_CACHED_GET_ROLLABLE_ENTRY_DICE'];const _0x3f04b3=_0x1eec40[_0x1ec81e](..._0x2c1896);return Renderer['getRollableEntryDice']=Vetools['_PATCHED_GET_ROLLABLE_ENTRY_DICE'],_0x3f04b3;};});const _0x1ef64b=Renderer[_0x19eee3(0x2ea)][_0x19eee3(0x210)]['bind'](Renderer[_0x19eee3(0x2ea)]);Renderer['hover'][_0x19eee3(0x210)]=(_0x368796,_0x1b22f9)=>{const _0x3a81ee=_0x19eee3,_0x2e8b0e=_0x1ef64b(_0x368796,_0x1b22f9);return _0x2e8b0e['html']=_0x3a81ee(0x311)+!![]+_0x3a81ee(0x241)+!![]+_0x3a81ee(0x2c3)+_0x2e8b0e['id']+'\x22\x20'+(_0x1b22f9?_0x3a81ee(0x263)+JSON[_0x3a81ee(0x281)](_0x1b22f9)['qq']()+'\x22':''),_0x2e8b0e;},Renderer[_0x19eee3(0x1e6)]['rollerClick']=(_0x2a0919,_0x435012,_0xf80e3a,_0x439cc5)=>{const _0x573e96=_0x19eee3,_0x40a7e5=JSON[_0x573e96(0x2f5)](_0xf80e3a);if(_0x40a7e5[_0x573e96(0x2e9)])new Roll(_0x40a7e5['toRoll'])['toMessage']();},Renderer[_0x19eee3(0x1e6)][_0x19eee3(0x22c)]=(_0x55f338,_0x5652fc,_0x41afb4)=>{const _0x4730bb=_0x19eee3;if(_0x55f338[_0x4730bb(0x2e9)])new Roll(_0x55f338[_0x4730bb(0x2e9)])[_0x4730bb(0x1cc)]();},Vetools[_0x19eee3(0x1d3)]=Renderer[_0x19eee3(0x238)][_0x19eee3(0x1f2)],Renderer['monster'][_0x19eee3(0x1f2)]=_0xcde40f=>{const _0x388447=_0x19eee3,_0x3a4599={..._0xcde40f};return _0x3a4599['fnRender']=(..._0x3a4a58)=>Vetools[_0x388447(0x2f7)](()=>_0xcde40f[_0x388447(0x1fb)](..._0x3a4a58)),Vetools[_0x388447(0x1d3)](_0x3a4599);},JqueryUtil[_0x19eee3(0x296)]=_0x17ab27=>{const _0x48d353=_0x19eee3;typeof _0x17ab27===_0x48d353(0x232)&&(_0x17ab27={'content':_0x17ab27,'type':_0x48d353(0x2af)});_0x17ab27[_0x48d353(0x280)]=_0x17ab27[_0x48d353(0x280)]||_0x48d353(0x2af);switch(_0x17ab27[_0x48d353(0x280)]){case _0x48d353(0x28e):return ui['notifications'][_0x48d353(0x2bc)](_0x17ab27[_0x48d353(0x23b)]);case'danger':return ui[_0x48d353(0x21d)][_0x48d353(0x1ba)](_0x17ab27[_0x48d353(0x23b)]);default:return ui['notifications'][_0x48d353(0x2af)](_0x17ab27['content']);}},DataUtil[_0x19eee3(0x1e2)]=async _0x1d9e3f=>Vetools['pGetWithCache'](_0x1d9e3f),Vetools['_CACHED_RENDERER_HOVER_CACHE_AND_GET']=Renderer[_0x19eee3(0x2ea)]['pCacheAndGet'][_0x19eee3(0x1e0)](Renderer['hover']),Renderer['hover'][_0x19eee3(0x2c5)]=async function(_0x340cc2,_0x2aa461,..._0x3f287d){const _0xdd5d72=_0x19eee3,_0x5dbe6b=(''+_0x2aa461)[_0xdd5d72(0x1bc)]();if(!Vetools[_0xdd5d72(0x1c7)][_0x5dbe6b])await Vetools['_pDoCacheLocalBrew']();return Vetools[_0xdd5d72(0x28d)](_0x340cc2,_0x2aa461,..._0x3f287d);},BrewUtil[_0x19eee3(0x250)]=_0xf3e0cb=>!!Vetools['HOMEBREW_META_SOURCES'][(_0xf3e0cb||'')[_0x19eee3(0x1bc)]()],BrewUtil[_0x19eee3(0x212)]=_0x17da13=>(Vetools[_0x19eee3(0x25f)][(_0x17da13||'')[_0x19eee3(0x1bc)]()]||{})[_0x19eee3(0x260)]||_0x17da13,BrewUtil[_0x19eee3(0x307)]=_0x25c8f5=>(Vetools[_0x19eee3(0x25f)][(_0x25c8f5||'')[_0x19eee3(0x1bc)]()]||{})[_0x19eee3(0x1cb)]||_0x25c8f5,BrewUtil[_0x19eee3(0x292)]=_0x31a1b1=>Vetools['HOMEBREW_META_SOURCES'][(_0x31a1b1||'')['toLowerCase']()],BrewUtil[_0x19eee3(0x291)]=_0x5e9832=>{const _0x4b3078=_0x19eee3,_0x36ea30=(_0x5e9832||'')[_0x4b3078(0x1bc)]();if(Vetools[_0x4b3078(0x25f)][_0x36ea30]&&Vetools[_0x4b3078(0x25f)][_0x36ea30][_0x4b3078(0x2a3)]){const _0x3c8fd1=BrewUtil['getValidColor'](Vetools[_0x4b3078(0x25f)][_0x36ea30][_0x4b3078(0x2a3)]);if(_0x3c8fd1[_0x4b3078(0x2a0)])return _0x4b3078(0x22d)+_0x3c8fd1+';\x22';return'';}else return'';},BrewUtil[_0x19eee3(0x251)]=()=>Object[_0x19eee3(0x213)](Vetools[_0x19eee3(0x25f)]),BrewUtil[_0x19eee3(0x1c8)]=[...BrewUtil[_0x19eee3(0x1c8)],...BrewUtil[_0x19eee3(0x1c8)]['map'](_0x13ca1f=>_0x19eee3(0x2a7)+_0x13ca1f[_0x19eee3(0x1c2)]())],BrewUtil[_0x19eee3(0x2bb)]=UrlUtil['PG_MANAGE_BREW'],BrewUtil[_0x19eee3(0x27f)]=()=>{};}static['_initSourceLookup'](){const _0x26b20e=_0x182fc8;Object['keys'](Parser[_0x26b20e(0x1f4)])['forEach'](_0x1d818c=>Vetools['_VET_SOURCE_LOOKUP'][_0x1d818c[_0x26b20e(0x1bc)]()]=!![]);}static async['_pDoCacheLocalBrew'](){const _0x53ec3f=_0x182fc8;await this[_0x53ec3f(0x2c2)]();}static[_0x182fc8(0x1de)](_0x3a657e){const _0x1ba332=_0x182fc8;_0x3a657e[_0x1ba332(0x2ff)]&&_0x3a657e['_meta'][_0x1ba332(0x290)]&&_0x3a657e[_0x1ba332(0x2ff)][_0x1ba332(0x290)][_0x1ba332(0x1fc)](_0x5aabfc=>Vetools[_0x1ba332(0x25f)][(_0x5aabfc['json']||'')['toLowerCase']()]=MiscUtil[_0x1ba332(0x1bd)](_0x5aabfc));}static async[_0x182fc8(0x1e5)](_0x4fca03){const _0x57e260=_0x182fc8,_0x1726d5=MiscUtil[_0x57e260(0x1d4)](_0x4fca03,_0x57e260(0x2ff),_0x57e260(0x290));if(!_0x1726d5||!(_0x1726d5 instanceof Array)||!_0x1726d5[_0x57e260(0x25d)](_0x2452b1=>!Parser[_0x57e260(0x2db)][_0x2452b1[_0x57e260(0x24f)]]))return;await BrewUtil[_0x57e260(0x1d2)](_0x4fca03,_0x57e260(0x24b));}static async['pGetWithCache'](_0x51a126){const _0x4b63aa=_0x182fc8;if(!_0x51a126[_0x4b63aa(0x28b)]('?'))_0x51a126=_0x51a126+_0x4b63aa(0x2aa)+Consts['RUN_TIME'];const _0x236140=_0x51a126['split'](Vetools[_0x4b63aa(0x27b)])[_0x4b63aa(0x2bd)](Boolean);_0x236140[_0x236140[_0x4b63aa(0x2a0)]-0x1]=_0x236140[_0x4b63aa(0x286)]()[_0x4b63aa(0x266)](/\/+/g,'/'),_0x51a126=_0x236140[_0x4b63aa(0x1f8)]('');const _0xa4caf1=_0x51a126[_0x4b63aa(0x2fc)]('?')[0x0];if(Vetools[_0x4b63aa(0x233)][_0xa4caf1])return await Vetools['CACHE_REQUESTS_IN_FLIGHT'][_0xa4caf1],Vetools['CACHED_REQUESTS'][_0xa4caf1];return Vetools[_0x4b63aa(0x233)][_0xa4caf1]=((async()=>{const _0x512e8b=_0x4b63aa;let _0x5007f9;if(!Config['get'](_0x512e8b(0x22b),_0x512e8b(0x23f))&&_0x51a126[_0x512e8b(0x1ce)](Vetools[_0x512e8b(0x2d6)]+_0x512e8b(0x1d1))){const _0x597516=_0x51a126['split'](Vetools[_0x512e8b(0x2d6)])['slice'](0x1)[_0x512e8b(0x1f8)](Vetools['BASE_SITE_URL']),_0x11d341=_0x512e8b(0x2e8)+SharedConsts[_0x512e8b(0x2b2)]+'/'+_0x597516;_0x5007f9=(await NotAxios[_0x512e8b(0x1d4)](_0x11d341))['data'];}else _0x5007f9=(await NotAxios[_0x512e8b(0x1d4)](_0x51a126))[_0x512e8b(0x25e)];return DataUtil[_0x512e8b(0x204)](_0x5007f9),Vetools[_0x512e8b(0x1de)](_0x5007f9),await Vetools[_0x512e8b(0x1e5)](_0x5007f9),await DataUtil[_0x512e8b(0x242)](_0xa4caf1,_0x5007f9),Vetools[_0x512e8b(0x1c6)][_0xa4caf1]=_0x5007f9;})()),await Vetools['CACHE_REQUESTS_IN_FLIGHT'][_0xa4caf1],Vetools[_0x4b63aa(0x1c6)][_0xa4caf1];}static async[_0x182fc8(0x30a)](_0x55575e){const _0x5365b3=_0x182fc8;let _0x49de3a;if(_0x55575e['special'][_0x5365b3(0x228)])_0x49de3a=Vetools[_0x5365b3(0x1c6)][_0x55575e['special'][_0x5365b3(0x228)]]||(Vetools[_0x5365b3(0x1c6)][_0x55575e[_0x5365b3(0x240)][_0x5365b3(0x228)]]=await _0x55575e['special'][_0x5365b3(0x255)]());else _0x49de3a=await _0x55575e[_0x5365b3(0x240)][_0x5365b3(0x255)]();return _0x49de3a;}static async['pGetChangelog'](){const _0x21414a=_0x182fc8;return Vetools['pGetWithCache'](Vetools['BASE_SITE_URL']+_0x21414a(0x1d0));}static async['pGetPackageIndex'](){const _0x43a79c=_0x182fc8;return Vetools[_0x43a79c(0x2a1)](Config[_0x43a79c(0x1d4)](_0x43a79c(0x2d8),_0x43a79c(0x24d)));}static async[_0x182fc8(0x248)](){const _0xebcb95=_0x182fc8;return Vetools[_0xebcb95(0x2a1)](Vetools[_0xebcb95(0x2d6)]+_0xebcb95(0x26d));}static[_0x182fc8(0x1ec)](_0x299563){return Vetools['BASE_SITE_URL']+'data/spells/'+_0x299563;}static async[_0x182fc8(0x211)](){const _0x375424=_0x182fc8;return Vetools[_0x375424(0x2a1)](Vetools[_0x375424(0x2d6)]+_0x375424(0x28c));}static[_0x182fc8(0x26c)](_0xf80de1){return Vetools['BASE_SITE_URL']+'data/bestiary/'+_0xf80de1;}static async['pGetItems'](_0x18946c){const _0x2efd8c=_0x182fc8;return{'item':await Renderer['item'][_0x2efd8c(0x287)]({'isAddGroups':!!_0x18946c})};}static async[_0x182fc8(0x294)](){const _0x525d38=_0x182fc8,_0x100b68=Vetools['BASE_SITE_URL']+'data/fluff-items.json';return Vetools[_0x525d38(0x2a1)](_0x100b68);}static async[_0x182fc8(0x23e)](_0x120964){const _0x1c3e85=_0x182fc8;return DataUtil[_0x1c3e85(0x243)][_0x1c3e85(0x1e2)](_0x120964);}static async['pGetClasses'](){const _0x42dd55=_0x182fc8;return DataUtil[_0x42dd55(0x253)][_0x42dd55(0x257)]();}static async['pGetClassSubclassFeatures'](){const _0x4176ce=_0x182fc8;return DataUtil[_0x4176ce(0x253)][_0x4176ce(0x257)]();}static async[_0x182fc8(0x29e)](){const _0x20b13c=_0x182fc8;return DataUtil[_0x20b13c(0x231)][_0x20b13c(0x1e2)]();}static async[_0x182fc8(0x272)](_0x24018f,{prop:_0x392ff8,fnGetUrl:_0x5240f6}){const _0xa3ff6e=_0x182fc8,_0xdd71f4=Vetools[_0xa3ff6e(0x2d6)]+_0xa3ff6e(0x1d1)+_0x24018f,_0x795a57=await Vetools[_0xa3ff6e(0x2a1)](_0xdd71f4);return _0x795a57[_0x392ff8][_0xa3ff6e(0x1fc)](_0x42100e=>{const _0x4ebd19=_0xa3ff6e;_0x42100e[_0x4ebd19(0x2be)]=new Date(_0x42100e['published']||_0x4ebd19(0x2c9)),_0x42100e[_0x4ebd19(0x1f1)]=_0x5240f6(_0x42100e['id']);}),_0x795a57;}static async['pGetAdventureIndex'](){const _0x21d840=_0x182fc8;return this[_0x21d840(0x272)](_0x21d840(0x239),{'prop':_0x21d840(0x2ce),'fnGetUrl':Vetools['getAdventureUrl'][_0x21d840(0x1e0)](Vetools)});}static async[_0x182fc8(0x2c0)](){const _0x58575d=_0x182fc8;return this[_0x58575d(0x272)](_0x58575d(0x217),{'prop':_0x58575d(0x2b0),'fnGetUrl':Vetools[_0x58575d(0x2e0)][_0x58575d(0x1e0)](Vetools)});}static[_0x182fc8(0x283)](_0x33cc64,_0x23dfca){const _0x519133=_0x182fc8;return Vetools[_0x519133(0x2d6)]+_0x519133(0x1d1)+_0x33cc64+'/'+_0x33cc64+'-'+_0x23dfca[_0x519133(0x1bc)]()+_0x519133(0x2f9);}static[_0x182fc8(0x29f)](_0x1f4238){const _0x1e1483=_0x182fc8;return this['_getAdventureBookUrl'](_0x1e1483(0x2ce),_0x1f4238);}static[_0x182fc8(0x2e0)](_0x781da1){const _0x4b198f=_0x182fc8;return this[_0x4b198f(0x283)](_0x4b198f(0x2b0),_0x781da1);}static['pGetImageUrlFromFluff'](_0x27310f){const _0x19a8e9=_0x182fc8;if(!_0x27310f?.[_0x19a8e9(0x208)]?.['length'])return;const _0x3b9cd1=_0x27310f[_0x19a8e9(0x208)][0x0];if(!_0x3b9cd1?.[_0x19a8e9(0x225)])return;if(_0x3b9cd1[_0x19a8e9(0x225)][_0x19a8e9(0x280)]===_0x19a8e9(0x227))return _0x3b9cd1[_0x19a8e9(0x225)][_0x19a8e9(0x22e)]?''+Vetools[_0x19a8e9(0x216)](_0x3b9cd1[_0x19a8e9(0x225)][_0x19a8e9(0x22e)]):null;if(_0x3b9cd1[_0x19a8e9(0x225)][_0x19a8e9(0x280)]===_0x19a8e9(0x222))return _0x3b9cd1[_0x19a8e9(0x225)][_0x19a8e9(0x2c1)]?_0x3b9cd1[_0x19a8e9(0x225)][_0x19a8e9(0x2c1)]:null;}static async[_0x182fc8(0x220)](_0x2580b7,_0x5cea85){const _0xb8091c=_0x182fc8;return(await Vetools[_0xb8091c(0x313)](_0x2580b7,_0x5cea85))[_0xb8091c(0x299)];}static async[_0x182fc8(0x21a)](_0x3b1145,_0x438ad0){const _0x101091=_0x182fc8;return(await Vetools['_pGetTokenUrl'](_0x3b1145,_0x438ad0))[_0x101091(0x2c1)];}static[_0x182fc8(0x2ba)](_0x1c5a80){const _0x141361=_0x182fc8;return _0x1c5a80&&typeof _0x1c5a80===_0x141361(0x232)&&Vetools[_0x141361(0x27b)][_0x141361(0x2b8)](_0x1c5a80);}static[_0x182fc8(0x2ae)]({imageType:imageType='image'}={}){const _0x58b9bf=_0x182fc8;switch(imageType){case _0x58b9bf(0x1cd):return Config[_0x58b9bf(0x1d4)](_0x58b9bf(0x22b),_0x58b9bf(0x2d4));case _0x58b9bf(0x209):return Config[_0x58b9bf(0x1d4)]('import',_0x58b9bf(0x284));default:throw new Error(_0x58b9bf(0x2c7)+imageType+'\x22!');}}static async[_0x182fc8(0x313)](_0x173032,_0xc79ece){const _0x1bb475=_0x182fc8;if(_0xc79ece[_0x1bb475(0x265)])return{'url':_0xc79ece[_0x1bb475(0x265)],'hasToken':!![]};const _0x305e3b={'url':this[_0x1bb475(0x2d1)](),'hasToken':![]};switch(_0x173032){case _0x1bb475(0x238):case _0x1bb475(0x229):case _0x1bb475(0x274):{const _0x2d89fa={'monster':Renderer[_0x1bb475(0x238)]['getTokenUrl'],'vehicle':Renderer[_0x1bb475(0x229)][_0x1bb475(0x1d5)],'object':Renderer[_0x1bb475(0x274)][_0x1bb475(0x1d5)]},_0x51ffc7=_0x2d89fa[_0x173032];if(!_0x51ffc7)throw new Error('Missing\x20getter!');if(_0xc79ece[_0x1bb475(0x299)])return{'url':_0x51ffc7(_0xc79ece),'hasToken':!![]};if(_0xc79ece[_0x1bb475(0x2b1)])return{'url':_0x51ffc7({'name':_0xc79ece[_0x1bb475(0x21b)],'source':_0xc79ece['_versionBase_source']}),'hasToken':!![]};return _0x305e3b;}case _0x1bb475(0x226):return _0x305e3b;default:throw new Error('Unhandled\x20entity\x20type\x20\x22'+_0x173032+'\x22');}}static[_0x182fc8(0x2d1)](){const _0xe7b748=_0x182fc8;return UrlUtil[_0xe7b748(0x2a6)]((Renderer['get']()[_0xe7b748(0x207)]['img']||Renderer['get']()['baseUrl'])+'img/blank.png');}static[_0x182fc8(0x1f3)](_0x369e5d){const _0xbe997a=_0x182fc8;if(_0x369e5d?.[_0xbe997a(0x225)][_0xbe997a(0x280)]===_0xbe997a(0x227))return Vetools[_0xbe997a(0x216)](_0x369e5d[_0xbe997a(0x225)][_0xbe997a(0x22e)],{'isSkipEncode':!![]});return _0x369e5d['href']?.[_0xbe997a(0x2c1)];}static[_0x182fc8(0x216)](_0x3e1e95,{isSkipEncode:isSkipEncode=![]}={}){const _0x18c8ed=_0x182fc8;if(!_0x3e1e95)return null;const _0x4e1b1e=isSkipEncode?_0x106c97=>_0x106c97:encodeURI,_0x10dc48=_0x4e1b1e(Renderer[_0x18c8ed(0x1d4)]()[_0x18c8ed(0x207)]['img']||Renderer[_0x18c8ed(0x1d4)]()[_0x18c8ed(0x2e4)])+_0x18c8ed(0x2f8)+_0x4e1b1e(_0x3e1e95);if(isSkipEncode)return _0x10dc48;return _0x10dc48[_0x18c8ed(0x266)](/'/g,_0x18c8ed(0x23a));}static async[_0x182fc8(0x275)](_0x10c623,{imageType:imageType=_0x182fc8(0x1cd)}={}){const _0x166cd6=_0x182fc8;if(this[_0x166cd6(0x24a)]({'originalUrl':_0x10c623}))return _0x10c623;if(!this[_0x166cd6(0x2ae)]({'imageType':imageType}))return _0x10c623;return this[_0x166cd6(0x2ac)]({'originalUrl':_0x10c623});}static[_0x182fc8(0x24a)]({originalUrl:_0x49d783}){const _0x550bf1=_0x182fc8;return new URL(document['baseURI'])[_0x550bf1(0x1fa)]===new URL(_0x49d783,document[_0x550bf1(0x1e9)])[_0x550bf1(0x1fa)];}static['getImageSavedToServerUrl']({originalUrl:_0x4329b6,path:_0x4da45e}={}){const _0x2e0d77=_0x182fc8;if(!_0x4da45e&&!this[_0x2e0d77(0x2ba)](_0x4329b6))return _0x4329b6;const _0x243372=new URL(_0x4da45e?_0x2e0d77(0x2e6)+_0x4da45e:_0x4329b6)[_0x2e0d77(0x30e)];return(Config[_0x2e0d77(0x1d4)]('import','localImageDirectoryPath')+'/'+decodeURI(_0x243372))['replace'](/\/+/g,'/');}static async[_0x182fc8(0x2ac)]({originalUrl:_0x330741,blob:_0x4e6f8c,force:force=![],path:path=null}={}){const _0x5dff9e=_0x182fc8;if(_0x4e6f8c&&_0x330741)throw new Error('\x22blob\x22\x20and\x20\x22originalUrl\x22\x20arguments\x20are\x20mutually\x20exclusive!');if(!_0x4e6f8c&&!this['_isSaveableToServerUrl'](_0x330741))return _0x330741;let _0x43ecbf;try{await Vetools[_0x5dff9e(0x1c3)]['pLock'](),_0x43ecbf=await this[_0x5dff9e(0x1dc)]({'originalUrl':_0x330741,'blob':_0x4e6f8c,'force':force,'path':path});}finally{Vetools[_0x5dff9e(0x1c3)][_0x5dff9e(0x1ee)]();}return _0x43ecbf;}static async[_0x182fc8(0x1dc)]({originalUrl:_0x5b9d95,blob:_0x39c3b1,force:force=![],path:path=null}={}){const _0x3a97a6=_0x182fc8;if(_0x39c3b1&&_0x5b9d95)throw new Error(_0x3a97a6(0x297));const _0x7aa6c2=this[_0x3a97a6(0x206)]({'originalUrl':_0x5b9d95,'path':path}),_0x4fd35c=_0x7aa6c2[_0x3a97a6(0x2fc)]('/'),_0x4f022a=_0x4fd35c[_0x3a97a6(0x1ea)](0x0,-0x1)[_0x3a97a6(0x1f8)]('/');let _0x1213c6=null,_0x27ea81=![];try{_0x1213c6=await FilePicker['browse']('data',_0x4f022a);if(_0x1213c6?.[_0x3a97a6(0x29a)])_0x27ea81=!![];}catch(_0x573629){if(!/^Directory .*? does not exist/[_0x3a97a6(0x2b8)](''+_0x573629)){const _0x382f95='Could\x20not\x20check\x20for\x20existing\x20files\x20when\x20saving\x20imported\x20images\x20to\x20server!';if(!force&&_0x39c3b1)throw new Error(_0x382f95);const _0x233f43=''+_0x382f95+(force?'':_0x3a97a6(0x2e5));return UtilNotifications['notifyOnce']({'type':_0x3a97a6(0x2bc),'message':_0x233f43}),force?_0x7aa6c2:_0x5b9d95;}}if(_0x1213c6?.[_0x3a97a6(0x202)]&&_0x1213c6?.[_0x3a97a6(0x202)][_0x3a97a6(0x293)](_0x23851b=>decodeURI(_0x23851b))[_0x3a97a6(0x28b)](_0x7aa6c2))return _0x7aa6c2;if(!this[_0x3a97a6(0x2df)]()){if(!force&&_0x39c3b1)throw new Error(_0x3a97a6(0x256));const _0x13528c=_0x3a97a6(0x29c)+(force?'':'\x20The\x20original\x20image\x20URL\x20will\x20be\x20used\x20instead.');return UtilNotifications[_0x3a97a6(0x2cb)]({'type':_0x3a97a6(0x2bc),'message':_0x13528c}),force?_0x7aa6c2:_0x5b9d95;}if(!_0x27ea81)try{await this['_pSaveImageToServerAndGetUrl_pCreateDirectories'](_0x7aa6c2);}catch(_0xf9145c){const _0x2a0aab=_0x3a97a6(0x1f6);if(!force&&_0x39c3b1)throw new Error(_0x2a0aab);const _0x17784f=''+_0x2a0aab+(force?'':_0x3a97a6(0x2e5));return UtilNotifications['notifyOnce']({'type':_0x3a97a6(0x2bc),'message':_0x17784f}),force?_0x7aa6c2:_0x5b9d95;}try{_0x39c3b1=_0x39c3b1||await this['_pSaveImageToServerAndGetUrl_pGetBlob'](_0x5b9d95);}catch(_0x14ddad){const _0x5c11b5=_0x3a97a6(0x205)+_0x5b9d95+_0x3a97a6(0x203)+(force?'':_0x3a97a6(0x2e5))+'\x20'+VeCt[_0x3a97a6(0x22f)];return UtilNotifications[_0x3a97a6(0x2cb)]({'type':_0x3a97a6(0x2bc),'message':_0x5c11b5}),console[_0x3a97a6(0x1ba)](...LGT,_0x14ddad),force?_0x7aa6c2:_0x5b9d95;}const _0x4109f6=_0x4fd35c[_0x3a97a6(0x286)]();let _0x54ce16=_0x3a97a6(0x1fd)+(_0x4109f6[_0x3a97a6(0x2fc)]('.')[_0x3a97a6(0x286)]()||'')['trim']()['toLowerCase']();if(_0x54ce16===_0x3a97a6(0x2b3))_0x54ce16='image/jpeg';const _0x38aa90=await FilePicker[_0x3a97a6(0x254)]('data',_0x4f022a,new File([_0x39c3b1],_0x4109f6,{'lastModified':Date[_0x3a97a6(0x21c)](),'type':_0x54ce16}));if(_0x38aa90?.[_0x3a97a6(0x22e)])return decodeURI(_0x38aa90['path']);return force?_0x7aa6c2:_0x5b9d95;}static async['_pSaveImageToServerAndGetUrl_pGetBlob'](_0x5000f6){const _0x1e746d=_0x182fc8,_0x5c80e8=await Config[_0x1e746d(0x302)];try{const _0x426f75=await fetch(_0x5000f6);return _0x426f75[_0x1e746d(0x20d)]();}catch(_0x22dff7){if(!_0x5c80e8)throw _0x22dff7;console[_0x1e746d(0x2bc)](...LGT,_0x1e746d(0x1c0)+_0x5000f6+_0x1e746d(0x267));}const _0x4515f2=await fetch(Config[_0x1e746d(0x245)],{'method':_0x1e746d(0x1ed),'headers':{'Content-Type':_0x1e746d(0x2fb)},'body':JSON['stringify']({'type':'getBinaryData','url':_0x5000f6})});return _0x4515f2[_0x1e746d(0x20d)]();}static async[_0x182fc8(0x1d7)](_0x3aa147){const _0xfa8c3f=_0x182fc8,_0x227972=_0x3aa147['split']('/')[_0xfa8c3f(0x1ea)](0x0,-0x1);if(!_0x227972[_0xfa8c3f(0x2a0)])return;for(let _0x33909d=0x0;_0x33909d<_0x227972[_0xfa8c3f(0x2a0)];++_0x33909d){const _0x2d96f6=_0x227972['slice'](0x0,_0x33909d+0x1);try{await FilePicker[_0xfa8c3f(0x218)](_0xfa8c3f(0x25e),_0x2d96f6[_0xfa8c3f(0x1f8)]('/'));}catch(_0x3bbd81){if((''+_0x3bbd81)['startsWith'](_0xfa8c3f(0x27c)))continue;throw new Error(_0x3bbd81);}}}static['_canUploadFiles'](){const _0x40fd39=_0x182fc8;return game[_0x40fd39(0x2c4)]||game[_0x40fd39(0x1f0)]&&game['user']['can'](_0x40fd39(0x23c));}static async[_0x182fc8(0x1be)]({isFilterNonStandard:isFilterNonStandard=![],additionalSourcesBrew:additionalSourcesBrew=[],isIncludeLoadedBrew:isIncludeLoadedBrew=![],isApplyBlacklist:isApplyBlacklist=![]}={}){const _0x47ec24=_0x182fc8,_0x2cce38=await Vetools[_0x47ec24(0x248)](),_0x4a2c2c=await Promise['all'](Object[_0x47ec24(0x2c8)](_0x2cce38)['filter'](([_0x24530d])=>!isFilterNonStandard||!SourceUtil[_0x47ec24(0x1d6)](_0x24530d))[_0x47ec24(0x293)](([_0x555698,_0x10d456])=>Vetools[_0x47ec24(0x2a1)](Vetools[_0x47ec24(0x1ec)](_0x10d456))));if(additionalSourcesBrew?.['length'])for(const _0x581213 of additionalSourcesBrew){const _0x41589c=await DataUtil[_0x47ec24(0x237)](_0x581213);if(!_0x41589c)continue;_0x4a2c2c[_0x47ec24(0x1f7)](_0x41589c);}if(isIncludeLoadedBrew)_0x4a2c2c['push']({'spell':BrewUtil[_0x47ec24(0x23d)]?.[_0x47ec24(0x312)]||[]});let _0xdd7e55=_0x4a2c2c[_0x47ec24(0x293)](_0xb991ce=>MiscUtil[_0x47ec24(0x1bd)](_0xb991ce[_0x47ec24(0x312)]||[]))[_0x47ec24(0x2d2)]();return isApplyBlacklist&&(_0xdd7e55=_0xdd7e55[_0x47ec24(0x2bd)](_0x3526fb=>!ExcludeUtil[_0x47ec24(0x2e3)](UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil['PG_SPELLS']](_0x3526fb),'spell',_0x3526fb[_0x47ec24(0x30d)],{'isNoCount':!![]}))),_0xdd7e55[_0x47ec24(0x1fc)](_0x5efafc=>{const _0x2a8888=_0x47ec24;Renderer[_0x2a8888(0x312)][_0x2a8888(0x1ff)](_0x5efafc);}),{'spell':_0xdd7e55};}static async['pGetAllCreatures'](_0x2afc5e=![]){const _0x4c5f30=_0x182fc8,_0x1ff374=await Vetools[_0x4c5f30(0x211)](),_0x549dab=await Promise[_0x4c5f30(0x305)](Object['entries'](_0x1ff374)[_0x4c5f30(0x2bd)](([_0x2a546d])=>!_0x2afc5e||!SourceUtil[_0x4c5f30(0x1d6)](_0x2a546d))[_0x4c5f30(0x293)](async([_0x3b7144,_0xe666c9])=>({'source':_0x3b7144,'json':await Vetools['pGetWithCache'](Vetools[_0x4c5f30(0x26c)](_0xe666c9))})));return{'monster':_0x549dab[_0x4c5f30(0x293)](_0x49f1dd=>{const _0x93afbc=_0x4c5f30;return MiscUtil['copy'](_0x49f1dd[_0x93afbc(0x24f)]['monster'][_0x93afbc(0x2bd)](_0x1d2c4c=>_0x1d2c4c[_0x93afbc(0x30d)]===_0x49f1dd['source']));})[_0x4c5f30(0x2d2)]()};}static async['_pGetHomebrewIndices'](){const _0x31462c=_0x182fc8,_0x5d5d91={'source':{},'prop':{},'abbreviations':{}};try{const [_0x2c690d,_0x516291,_0x11ef1d]=await Promise[_0x31462c(0x305)]([DataUtil['brew'][_0x31462c(0x2cc)](Config[_0x31462c(0x1d4)](_0x31462c(0x22b),_0x31462c(0x2fd))),DataUtil[_0x31462c(0x2e1)]['pLoadPropIndex'](Config[_0x31462c(0x1d4)](_0x31462c(0x22b),_0x31462c(0x2fd))),DataUtil[_0x31462c(0x2e1)][_0x31462c(0x2da)](Config[_0x31462c(0x1d4)](_0x31462c(0x22b),'baseBrewUrl'))]);_0x5d5d91[_0x31462c(0x30d)]=_0x2c690d,_0x5d5d91[_0x31462c(0x219)]=_0x516291,_0x5d5d91[_0x31462c(0x260)]=_0x11ef1d;}catch(_0x3082e2){ui[_0x31462c(0x21d)][_0x31462c(0x1ba)](_0x31462c(0x24c)+VeCt[_0x31462c(0x22f)]),setTimeout(()=>{throw _0x3082e2;});}return _0x5d5d91;}static async['pGetHomebrewSources'](..._0x4fd1b8){const _0x5c69fb=_0x182fc8,_0x21c29f=Config[_0x5c69fb(0x1d4)](_0x5c69fb(0x22b),'baseBrewUrl'),_0x54942b=new Set();return _0x4fd1b8[_0x5c69fb(0x293)](_0x305ea7=>{const _0x1f1caf=_0x5c69fb;return Object[_0x1f1caf(0x2f1)](Vetools['HOMEBREW_INDEX__PROP'][BrewUtil['dirToProp'](_0x305ea7)]||{})[_0x1f1caf(0x293)](_0x3b0ca1=>{const _0x3c2815=_0x1f1caf;if(_0x54942b[_0x3c2815(0x22a)](_0x3b0ca1))return null;return _0x54942b[_0x3c2815(0x2b5)](_0x3b0ca1),{'url':DataUtil[_0x3c2815(0x2e1)][_0x3c2815(0x1c9)](_0x3b0ca1,_0x21c29f),'name':this[_0x3c2815(0x25b)](_0x3b0ca1),'abbreviations':Vetools[_0x3c2815(0x1df)][_0x3b0ca1]||[]};});})[_0x5c69fb(0x2d2)]()['filter'](Boolean)[_0x5c69fb(0x282)]((_0x48acf2,_0x9ce832)=>SortUtil[_0x5c69fb(0x2cd)](_0x48acf2[_0x5c69fb(0x288)],_0x9ce832[_0x5c69fb(0x288)]));}static[_0x182fc8(0x25b)](_0x4ea0a8){const _0x24f791=_0x182fc8;return _0x4ea0a8['split']('/')[_0x24f791(0x1ea)](-0x1)[_0x24f791(0x1f8)]('')['replace'](/\.json$/i,'');}static async[_0x182fc8(0x2c2)](..._0x3fb276){const _0x4faad2=_0x182fc8;try{const _0x3ccd4a=await Vetools[_0x4faad2(0x1c5)](),_0x2806f4=[..._0x3ccd4a||[],...Config[_0x4faad2(0x1d4)](_0x4faad2(0x22b),_0x4faad2(0x1e7))];if(!_0x2806f4['length'])return[];const _0x54eb90=await _0x2806f4[_0x4faad2(0x303)](async _0x1a0e48=>({'url':_0x1a0e48,'data':await Vetools['pGetWithCache'](_0x1a0e48),'name':this[_0x4faad2(0x25b)](_0x1a0e48)})),_0x1aa200=new Set(_0x3fb276[_0x4faad2(0x293)](_0x535199=>BrewUtil[_0x4faad2(0x2f2)](_0x535199)));return _0x54eb90[_0x4faad2(0x2bd)](({data:_0xbedfa3})=>{const _0x238213=_0x4faad2,_0xaa44d1=new Set([...Object[_0x238213(0x2f1)](_0xbedfa3||{})[_0x238213(0x2bd)](_0x30b7f7=>!_0x30b7f7[_0x238213(0x1ce)]('_')),...Object['keys'](_0xbedfa3?.[_0x238213(0x2ff)]?.[_0x238213(0x28b)]||{})]);return[..._0x1aa200][_0x238213(0x1da)](_0x511969=>_0xaa44d1['has'](_0x511969));})['map'](_0x5de254=>{const _0x3e96a4=_0x4faad2;return _0x5de254[_0x3e96a4(0x270)]=(_0x5de254[_0x3e96a4(0x25e)]?.['_meta']?.[_0x3e96a4(0x290)]||[])[_0x3e96a4(0x293)](_0x4b1350=>_0x4b1350['abbreviation'])['filter'](Boolean),_0x5de254;})[_0x4faad2(0x293)](({name:_0x556f43,url:_0x79317b,abbreviations:_0x4ea00c})=>({'name':_0x556f43,'url':_0x79317b,'abbreviations':_0x4ea00c}));}catch(_0x3de783){const _0x344685='Failed\x20to\x20load\x20local\x20homebrew\x20index!';console[_0x4faad2(0x1ba)](...LGT,_0x344685,_0x3de783),ui['notifications'][_0x4faad2(0x1ba)](_0x344685+'\x20'+VeCt[_0x4faad2(0x22f)]);}return[];}static async['_pGetLocalHomebrewList'](){const _0x53fbe6=_0x182fc8;if(!Config[_0x53fbe6(0x1d4)](_0x53fbe6(0x22b),_0x53fbe6(0x264)))return null;const _0x3f0622=Config[_0x53fbe6(0x1d4)]('import',_0x53fbe6(0x273));if(_0x3f0622){const _0x5cc188=(Config['get'](_0x53fbe6(0x22b),'localHomebrewDirectoryPath')+_0x53fbe6(0x223))[_0x53fbe6(0x266)](/\/+/g,'/'),_0x46c25d=await Vetools[_0x53fbe6(0x2a1)](_0x5cc188);if(!_0x46c25d?.[_0x53fbe6(0x271)])return[];return _0x46c25d[_0x53fbe6(0x271)][_0x53fbe6(0x293)](_0x162e06=>{const _0x7551cd=_0x53fbe6;if(Vetools[_0x7551cd(0x27b)][_0x7551cd(0x2b8)](_0x162e06))return _0x162e06;return[..._0x5cc188[_0x7551cd(0x2fc)]('/')[_0x7551cd(0x1ea)](0x0,-0x1),_0x162e06]['join']('/');});}try{const _0x39c7dd=await FilePicker['browse']('data',Config[_0x53fbe6(0x1d4)](_0x53fbe6(0x22b),'localHomebrewDirectoryPath'));if(!_0x39c7dd?.[_0x53fbe6(0x202)]?.[_0x53fbe6(0x2a0)])return null;return _0x39c7dd['files'][_0x53fbe6(0x293)](_0x4584f4=>decodeURIComponent(_0x4584f4));}catch(_0x5d394d){const _0x4abb1b=_0x53fbe6(0x2ed)+(_0x3f0622?_0x53fbe6(0x1d8):'')+_0x53fbe6(0x246)+(_0x3f0622?_0x53fbe6(0x214):_0x53fbe6(0x1e1))+'\x20\x22<data_dir>/'+Config[_0x53fbe6(0x1d4)](_0x53fbe6(0x22b),'localHomebrewDirectoryPath')+(_0x3f0622?_0x53fbe6(0x223):'')+_0x53fbe6(0x1d9);return console[_0x53fbe6(0x1ba)](...LGT,_0x4abb1b,_0x5d394d),ui['notifications']['error'](_0x4abb1b+'\x20'+VeCt[_0x53fbe6(0x22f)]),null;}}static[_0x182fc8(0x261)](_0x37d22b,_0x5af444){const _0x19b0c1=_0x182fc8;if(!_0x5af444)return _0x37d22b;return _0x5af444[_0x19b0c1(0x293)](_0x26f1fd=>{return _0x37d22b[_0x26f1fd]=_0x37d22b[_0x26f1fd]||[],_0x37d22b[_0x26f1fd];})[_0x19b0c1(0x2d2)]();}static async['pGetSpellSideData'](){const _0x131101=_0x182fc8;return Vetools[_0x131101(0x2a1)](Vetools['BASE_SITE_URL']+_0x131101(0x24e));}static async[_0x182fc8(0x298)](){const _0x459e33=_0x182fc8;return Vetools[_0x459e33(0x2a1)](Vetools[_0x459e33(0x2d6)]+_0x459e33(0x221));}static async[_0x182fc8(0x29d)](){const _0x197391=_0x182fc8;return Vetools[_0x197391(0x2a1)](Vetools['BASE_SITE_URL']+_0x197391(0x20a));}static async[_0x182fc8(0x300)](){const _0xf79508=_0x182fc8;return Vetools[_0xf79508(0x2a1)](Vetools[_0xf79508(0x2d6)]+_0xf79508(0x309));}static async['pGetItemSideData'](){const _0x1c51ed=_0x182fc8;return Vetools[_0x1c51ed(0x2a1)](Vetools[_0x1c51ed(0x2d6)]+_0x1c51ed(0x27e));}static async[_0x182fc8(0x277)](){const _0x4782c8=_0x182fc8;return Vetools['pGetWithCache'](Vetools['BASE_SITE_URL']+_0x4782c8(0x1b9));}static async[_0x182fc8(0x30b)](){const _0x418824=_0x182fc8;return Vetools[_0x418824(0x2a1)](Vetools['BASE_SITE_URL']+_0x418824(0x259));}static async['pGetActionSideData'](){const _0x51d4b0=_0x182fc8;return Vetools[_0x51d4b0(0x2a1)](Vetools['BASE_SITE_URL']+_0x51d4b0(0x25a));}static async[_0x182fc8(0x249)](){const _0x2cc9e6=_0x182fc8;return Vetools[_0x2cc9e6(0x2a1)](Vetools[_0x2cc9e6(0x2d6)]+'data/foundry-vehicles.json');}static async[_0x182fc8(0x215)](){const _0x44481e=_0x182fc8;return Vetools['pGetWithCache'](Vetools[_0x44481e(0x2d6)]+'data/bestiary/foundry.json');}static async['pGeBackgroundSideData'](){const _0x5cd34e=_0x182fc8;return Vetools[_0x5cd34e(0x2a1)](Vetools['BASE_SITE_URL']+'data/foundry-backgrounds.json');}static async[_0x182fc8(0x2ab)](){const _0x1d054e=_0x182fc8;return Vetools[_0x1d054e(0x2a1)](Vetools['BASE_SITE_URL']+'data/foundry-psionics.json');}static async[_0x182fc8(0x2b6)](){const _0x4bdb1b=_0x182fc8;return{}||Vetools[_0x4bdb1b(0x2a1)](Vetools['BASE_SITE_URL']+'data/foundry-conditionsdiseases.json');}static async[_0x182fc8(0x268)](){const _0x20f905=_0x182fc8;return{}||Vetools[_0x20f905(0x2a1)](Vetools[_0x20f905(0x2d6)]+_0x20f905(0x276));}static async[_0x182fc8(0x21e)](){const _0x400c40=_0x182fc8;return{}||Vetools['pGetWithCache'](Vetools[_0x400c40(0x2d6)]+'data/foundry-vehicles.json');}static async[_0x182fc8(0x2b9)](){const _0x16e912=_0x182fc8;return{}||Vetools['pGetWithCache'](Vetools[_0x16e912(0x2d6)]+'data/foundry-charcreationoptions.json');}static async[_0x182fc8(0x26a)](){const _0x19a98a=_0x182fc8;return{}||Vetools[_0x19a98a(0x2a1)](Vetools[_0x19a98a(0x2d6)]+_0x19a98a(0x314));}static async[_0x182fc8(0x26f)](){const _0x56e896=_0x182fc8;return{}||Vetools['pGetWithCache'](Vetools[_0x56e896(0x2d6)]+_0x56e896(0x1dd));}static async[_0x182fc8(0x2ca)](_0x49921f){const _0x26261b=_0x182fc8,_0x2f692c=_0x26261b(0x20f)+_0x49921f+'s.json',_0x2d7d2b=_0x26261b(0x2e8)+SharedConsts[_0x26261b(0x2b2)]+_0x26261b(0x2a8)+_0x2f692c;return Vetools[_0x26261b(0x2a1)](_0x2d7d2b);}static get[_0x182fc8(0x2d6)](){const _0x34fdc2=_0x182fc8;if(this[_0x34fdc2(0x1fe)]())return Config[_0x34fdc2(0x1d4)](_0x34fdc2(0x22b),_0x34fdc2(0x1c1))[_0x34fdc2(0x266)](/^(.*?)\/*$/,_0x34fdc2(0x2c6));return Vetools[_0x34fdc2(0x2cf)];}static[_0x182fc8(0x1fe)](){const _0x28e2bf=_0x182fc8,_0x4684a9=Config[_0x28e2bf(0x1d4)]('import',_0x28e2bf(0x1c1));return!!(_0x4684a9&&_0x4684a9['trim']());}static get['DATA_URL_FEATS'](){const _0x4a1fdf=_0x182fc8;return Vetools['BASE_SITE_URL']+_0x4a1fdf(0x2f6);}static get[_0x182fc8(0x2dd)](){const _0x23c83b=_0x182fc8;return Vetools[_0x23c83b(0x2d6)]+'data/backgrounds.json';}static get[_0x182fc8(0x2ec)](){const _0x47a7c1=_0x182fc8;return Vetools[_0x47a7c1(0x2d6)]+_0x47a7c1(0x20e);}static get['DATA_URL_PSIONICS'](){const _0x231425=_0x182fc8;return Vetools['BASE_SITE_URL']+_0x231425(0x224);}static get[_0x182fc8(0x2f0)](){const _0x4cdde5=_0x182fc8;return Vetools[_0x4cdde5(0x2d6)]+_0x4cdde5(0x2d3);}static get['DATA_URL_CONDITIONSDISEASES'](){const _0x4bda84=_0x182fc8;return Vetools['BASE_SITE_URL']+_0x4bda84(0x2a2);}static get[_0x182fc8(0x1bb)](){const _0xb102c0=_0x182fc8;return Vetools[_0xb102c0(0x2d6)]+_0xb102c0(0x1e3);}static get['DATA_URL_REWARDS'](){const _0x47ffae=_0x182fc8;return Vetools[_0x47ffae(0x2d6)]+_0x47ffae(0x29b);}static get[_0x182fc8(0x1cf)](){const _0x5d5e14=_0x182fc8;return Vetools['BASE_SITE_URL']+_0x5d5e14(0x200);}static get[_0x182fc8(0x278)](){return Vetools['BASE_SITE_URL']+'data/deities.json';}static get[_0x182fc8(0x1e8)](){const _0x3112f4=_0x182fc8;return Vetools[_0x3112f4(0x2d6)]+_0x3112f4(0x258);}static get[_0x182fc8(0x1c4)](){const _0x3cdf03=_0x182fc8;return Vetools[_0x3cdf03(0x2d6)]+_0x3cdf03(0x26e);}static get[_0x182fc8(0x2e7)](){const _0x2c98e6=_0x182fc8;return Vetools[_0x2c98e6(0x2d6)]+_0x2c98e6(0x21f);}static get[_0x182fc8(0x27a)](){const _0x3675be=_0x182fc8;return Vetools[_0x3675be(0x2d6)]+_0x3675be(0x247);}static get[_0x182fc8(0x244)](){const _0x9c52b6=_0x182fc8;return Vetools[_0x9c52b6(0x2d6)]+_0x9c52b6(0x301);}static get[_0x182fc8(0x1e4)](){const _0xfd7108=_0x182fc8;return Vetools[_0xfd7108(0x2d6)]+_0xfd7108(0x2d7);}}function _0x2ebc(_0x1abe38,_0x24a6d3){const _0x324c3b=_0x324c();return _0x2ebc=function(_0x2ebc79,_0x2bb918){_0x2ebc79=_0x2ebc79-0x1b9;let _0x5c7d2c=_0x324c3b[_0x2ebc79];return _0x5c7d2c;},_0x2ebc(_0x1abe38,_0x24a6d3);}Vetools[_0x182fc8(0x1c6)]={},Vetools['CACHE_REQUESTS_IN_FLIGHT']={},Vetools[_0x182fc8(0x27b)]=/(^https?:\/\/)/,Vetools[_0x182fc8(0x2cf)]=_0x182fc8(0x1ca),Vetools[_0x182fc8(0x2d0)]=null,Vetools[_0x182fc8(0x2ad)]=null,Vetools[_0x182fc8(0x2a5)]={},Vetools[_0x182fc8(0x25f)]={},Vetools[_0x182fc8(0x2ef)]=null,Vetools['_PATCHED_GET_ROLLABLE_ENTRY_DICE']=null,Vetools[_0x182fc8(0x1d3)]=null,Vetools[_0x182fc8(0x28d)]=null,Vetools[_0x182fc8(0x2de)]={},Vetools[_0x182fc8(0x2fa)]={},Vetools[_0x182fc8(0x1df)]={},Vetools[_0x182fc8(0x1c3)]=new VeLock(),Vetools[_0x182fc8(0x1c7)]={};export{Vetools};function _0x324c(){const _0x38634c=['info','book','_versionBase_hasToken','MODULE_NAME','image/jpg','640229aSbKVb','add','pGetConditionDiseaseSideData','15757ExLaEc','test','pGetCharCreationOptionSideData','_isSaveableToServerUrl','_PAGE','warn','filter','_pubDate','12279210DijbKX','pGetBookIndex','url','pGetLocalHomebrewSources','\x22\x20data-plut-hover-preload-id=\x22','isAdmin','pCacheAndGet','$1/','Unhandled\x20type\x20\x22','entries','1970-01-01','pGetIconLookup','notifyOnce','pLoadSourceIndex','ascSortLower','adventure','_BASE_SITE_URL','BESTIARY_FLUFF_INDEX','getBlankTokenUrl','flat','data/optionalfeatures.json','isSaveImagesToServer','HK_CONFIG_UPDATE','BASE_SITE_URL','data/trapshazards.json','importAdventure','_PATCHED_GET_ROLLABLE_ENTRY_DICE','pLoadAbbreviationIndex','SOURCE_JSON_TO_ABV','MIN_Z_INDEX','DATA_URL_BACKGROUNDS','HOMEBREW_INDEX__SOURCE','_canUploadFiles','getBookUrl','brew','_MAX_Z_INDEX','isExcluded','baseUrl','\x20The\x20original\x20image\x20URL\x20will\x20be\x20used\x20instead.','https://example.com/','DATA_URL_CULTSBOONS','modules/','toRoll','hover','prompt','DATA_URL_VARIANTRULES','Failed\x20to\x20load\x20local\x20homebrew','getRollableEntryDice','_CACHED_GET_ROLLABLE_ENTRY_DICE','DATA_URL_OPTIONALFEATURES','keys','dirToProp','setBaseUrl','2016cfLcGh','parse','data/feats.json','withUnpatchedDiceRendering','img/','.json','HOMEBREW_INDEX__PROP','application/json','split','baseBrewUrl','10kGjdpk','_meta','pGetRaceSideData','data/languages.json','P_GET_BACKEND_VERSION','pSerialAwaitMap','pSet','all','legacyDiceToString','sourceJsonToFull','isUseLocalImages','data/foundry-races.json','pLoadImporterSourceSpecial','pGetRewardSideData','236841BUGQxW','source','pathname','679384JzKUsn','isRendererDiceDisabled','data-plut-hover=\x22','spell','_pGetTokenUrl','data/foundry-cultsboons.json','data/foundry-feats.json','error','DATA_URL_VEHICLES','toLowerCase','copy','pGetAllSpells','img','Could\x20not\x20directly\x20load\x20image\x20from\x20','baseSiteUrl','uppercaseFirst','_LOCK_DOWNLOAD_IMAGE','DATA_URL_CHAR_CREATION_OPTIONS','_pGetLocalHomebrewList','CACHED_REQUESTS','_VET_SOURCE_LOOKUP','_STORABLE','getFileUrl','https://5etools-mirror-1.github.io/','full','toMessage','image','startsWith','DATA_URL_OBJECTS','data/changelog.json','data/','pDoHandleBrewJson','_CACHED_MONSTER_DO_BIND_COMPACT_CONTENT_HANDLERS','get','getTokenUrl','isNonstandardSource','_pSaveImageToServerAndGetUrl_pCreateDirectories','\x20index','\x22\x20exist?','some','localImageDirectoryPath','_pSaveImageToServerAndGetUrl_','data/foundry-trapshazards.json','addToHomebrewSourceLookup','HOMEBREW_INDEX__ABBREVIATION','bind','directory','loadJSON','data/vehicles.json','DATA_URL_TRAPS_HAZARDS','pAddToHomebrew','dice','localHomebrew','DATA_URL_RECIPES','baseURI','slice','[[/r\x20','getSpellUrl','post','unlock','pDoPreload','user','_url','doBindCompactContentHandlers','getImageUrl','SOURCE_JSON_TO_FULL','setBaseMediaUrl','Could\x20not\x20create\x20required\x20directories\x20when\x20saving\x20imported\x20images\x20to\x20server!','push','join','catch','origin','fnRender','forEach','image/','_isCustomBaseSiteUrl','initClasses','data/objects.json','505928xFGrxd','files','\x22\x20when\x20saving\x20imported\x20images\x20to\x20server!','_mutAddProps','Failed\x20to\x20download\x20image\x20\x22','getImageSavedToServerUrl','baseMediaUrls','images','token','data/class/foundry.json','getCleanDiceString','$getHoverContent_fluff','blob','data/variantrules.json','icon-','getMakePredefinedHover','pGetCreatureIndex','sourceJsonToAbv','values','file','pGetCreatureSideData','getInternalImageUrl','books.json','createDirectory','prop','pGetTokenUrl','_versionBase_name','now','notifications','pGetVehicleSideData','data/cultsboons.json','pHasTokenUrl','data/foundry-optionalfeatures.json','external','/index.json','data/psionics.json','href','trap','internal','cacheKey','vehicle','has','import','pRollEntry','style=\x22color:\x20#','path','STR_SEE_CONSOLE','isNoHomebrewIndexes','table','string','CACHE_REQUESTS_IN_FLIGHT','options','_RELEASE_URL','doMonkeyPatchPreConfig','pLoadBrewBySource','monster','adventures.json','%27','content','FILES_UPLOAD','homebrew','pGetRaces','isNoLocalData','special','\x22\x20data-plut-hover-preload=\x22','pDoMetaMerge','race','DATA_URL_LANGUAGES','backendEndpoint','!\x20Does\x20the\x20','data/actions.json','pGetSpellIndex','pGetVehicleUpgradeSideData','_isLocalUrl','NO_PAGE','Failed\x20to\x20load\x20homebrew\x20index!\x20','indexUrl','data/spells/foundry.json','json','hasSourceJson','getJsonSources','homebrewMeta','class','upload','pGet','Your\x20permission\x20levels\x20do\x20not\x20allow\x20you\x20to\x20upload\x20files!','loadRawJSON','data/recipes.json','data/foundry-rewards.json','data/foundry-actions.json','_getHomebrewName','4jlMeAc','every','data','HOMEBREW_META_SOURCES','abbreviation','getContent','Z_INDEX_MAX_FOUNDRY','data-plut-hover-preload-options=\x22','isLoadLocalHomebrewIndex','tokenUrl','replace','—falling\x20back\x20on\x20alternate\x20loader\x20(backend\x20mod).','pGetObjectSideData','$getHoverContent_stats','pGetCultBoonSideData','init','getCreatureUrl','data/spells/index.json','data/charcreationoptions.json','pGetTrapHazardSideData','abbreviations','toImport','_pGetAdventureBookIndex','isUseLocalHomebrewIndexJson','object','pOptionallySaveImageToServerAndGetUrl','data/foundry-objects.json','pGetFeatSideData','DATA_URL_DEITIES','pGetClient','DATA_URL_ACTIONS','_RE_HTTP_URL','EEXIST','_initSourceLookup','data/foundry-items.json','_pCleanSaveBrew','type','stringify','sort','_getAdventureBookUrl','isSaveTokensToServer','min','last','pBuildList','name','3714zWofkW','_pGetHomebrewIndices','includes','data/bestiary/index.json','_CACHED_RENDERER_HOVER_CACHE_AND_GET','warning','pSetClient','sources','sourceJsonToStyle','sourceJsonToSource','map','pGetItemFluff','504678IRuSPd','doToast','\x22blob\x22\x20and\x20\x22originalUrl\x22\x20arguments\x20are\x20mutually\x20exclusive!','pGetOptionalFeatureSideData','hasToken','target','data/rewards.json','You\x20have\x20the\x20\x22Save\x20Imported\x20Images\x20to\x20Server\x22\x20config\x20option\x20enabled,\x20but\x20your\x20permission\x20levels\x20do\x20not\x20allow\x20you\x20to\x20upload\x20files!','pGetClassSubclassSideData','pGetRollableTables','getAdventureUrl','length','pGetWithCache','data/conditionsdiseases.json','color','63lzGGpl','HOMEBREW_COLLECTION_INDEX','link','foundry','/data/','$getHoverContent_generic','?t=','pGetPsionicsSideData','pSaveImageToServerAndGetUrl','BESTIARY_TOKEN_LOOKUP','_isSaveTypedImagesToServer'];_0x324c=function(){return _0x38634c;};return _0x324c();}