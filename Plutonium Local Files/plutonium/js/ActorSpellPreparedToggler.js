const _0x127d63=_0x26a4;(function(_0x1b2a3d,_0x5e42eb){const _0x65ee55=_0x26a4,_0x4f564b=_0x1b2a3d();while(!![]){try{const _0x2e1865=parseInt(_0x65ee55(0x17f))/0x1+-parseInt(_0x65ee55(0x176))/0x2+parseInt(_0x65ee55(0x14f))/0x3*(-parseInt(_0x65ee55(0x1e8))/0x4)+parseInt(_0x65ee55(0x1a3))/0x5+parseInt(_0x65ee55(0x19b))/0x6*(-parseInt(_0x65ee55(0x169))/0x7)+parseInt(_0x65ee55(0x1d7))/0x8+-parseInt(_0x65ee55(0x152))/0x9*(parseInt(_0x65ee55(0x170))/0xa);if(_0x2e1865===_0x5e42eb)break;else _0x4f564b['push'](_0x4f564b['shift']());}catch(_0x3b5090){_0x4f564b['push'](_0x4f564b['shift']());}}}(_0x4126,0x6e0e4));import{SharedConsts}from'../shared/SharedConsts.js';import{LGT,Util}from'./Util.js';import{AppFilter}from'./FilterApplications.js';import{DataConverterSpell}from'./DataConverterSpell.js';function _0x26a4(_0x10467a,_0x521526){const _0x4126b3=_0x4126();return _0x26a4=function(_0x26a4be,_0x85789a){_0x26a4be=_0x26a4be-0x14a;let _0x3206b6=_0x4126b3[_0x26a4be];return _0x3206b6;},_0x26a4(_0x10467a,_0x521526);}import{UtilDocuments}from'./UtilDocuments.js';class ActorSpellPreparedToggler extends Application{static[_0x127d63(0x19c)](_0x4997ba,_0x4b6f64,_0x2e7833,_0x1d1008){const _0x138969=_0x127d63,_0x5a1ed1=new ActorSpellPreparedToggler(_0x4b6f64[_0x138969(0x1b8)]);_0x5a1ed1[_0x138969(0x1a8)](!![]);}constructor(_0x416061){const _0x486fb5=_0x127d63;super({'title':_0x486fb5(0x175),'template':SharedConsts['MODULE_LOCATION']+'/template/ActorSpellPreparedToggler.hbs','width':0x1e0,'height':Util[_0x486fb5(0x1f5)](),'resizable':!![]}),this[_0x486fb5(0x16f)]=_0x416061,this[_0x486fb5(0x178)]=this[_0x486fb5(0x16f)]['items']['filter'](_0x5710cb=>_0x5710cb[_0x486fb5(0x171)]===_0x486fb5(0x151)&&_0x5710cb['data'][_0x486fb5(0x1b4)]['level']!==0x0&&_0x5710cb[_0x486fb5(0x1b4)]['data'][_0x486fb5(0x186)]&&_0x5710cb['data']['data']['preparation'][_0x486fb5(0x1c8)]===_0x486fb5(0x1f4)),this[_0x486fb5(0x1e7)]=new ActorSpellPreparedToggler[(_0x486fb5(0x1d3))](),this[_0x486fb5(0x1a7)]=null,this[_0x486fb5(0x1d8)]=null,this[_0x486fb5(0x172)]=null,this[_0x486fb5(0x155)]=null,this[_0x486fb5(0x1e9)]=null,this[_0x486fb5(0x183)]=null,this[_0x486fb5(0x18a)]=null,this['_$iptSearch']=null;}[_0x127d63(0x1cc)](){const _0x3c2ae0=_0x127d63,_0xee6642=this[_0x3c2ae0(0x1e7)][_0x3c2ae0(0x189)]['getValues']();this[_0x3c2ae0(0x183)][_0x3c2ae0(0x1d4)](_0x53fd1b=>this[_0x3c2ae0(0x1e7)][_0x3c2ae0(0x163)](_0xee6642,this['_rows'][_0x53fd1b['ix']]));}[_0x127d63(0x16b)](_0x599a94){const _0x4133a1=_0x127d63;super[_0x4133a1(0x16b)](_0x599a94),this['_activateListeners_initIptListName'](_0x599a94),this[_0x4133a1(0x1ce)](_0x599a94),this['_activateListeners_initBtnListSave'](_0x599a94),this[_0x4133a1(0x17e)](_0x599a94),this['_activateListeners_initBtnRun'](_0x599a94),this[_0x4133a1(0x14a)](_0x599a94),this[_0x4133a1(0x165)](_0x599a94)[_0x4133a1(0x15e)](()=>this['_pDoLoadInitialState']());}[_0x127d63(0x17d)](_0x4a25b6){const _0x4956d4=_0x127d63;this['_$iptName']=_0x4a25b6[_0x4956d4(0x1c6)](_0x4956d4(0x1e1));}[_0x127d63(0x1ce)](_0x19646d){const _0x5a9bc8=_0x127d63;_0x19646d[_0x5a9bc8(0x1c6)](_0x5a9bc8(0x188))[_0x5a9bc8(0x19f)](async()=>{const _0x51ad17=_0x5a9bc8;this['_activeSaveId']=null,this[_0x51ad17(0x1a7)][_0x51ad17(0x1dc)]('');});}[_0x127d63(0x162)]({activeSaveId:activeSaveId=null}={}){const _0x40dfc2=_0x127d63;return activeSaveId=activeSaveId||this['_activeSaveId'],this['_compSaves'][_0x40dfc2(0x1ae)][_0x40dfc2(0x1c6)](_0x149006=>_0x149006['id']===activeSaveId);}['_activateListeners_initBtnListSave'](_0x342a27){const _0x6feaa7=_0x127d63;_0x342a27['find'](_0x6feaa7(0x1c5))[_0x6feaa7(0x19f)](async()=>{const _0x18adce=_0x6feaa7;try{let _0x2f23b4=this['_getActiveSave']();!_0x2f23b4&&(_0x2f23b4={'id':CryptUtil[_0x18adce(0x173)](),'entity':{'name':'','spells':[]}},this[_0x18adce(0x172)][_0x18adce(0x1ae)][_0x18adce(0x1e4)](_0x2f23b4));this[_0x18adce(0x1d8)]=_0x2f23b4['id'],_0x2f23b4['entity'][_0x18adce(0x19a)]=this[_0x18adce(0x1a7)][_0x18adce(0x1dc)]()[_0x18adce(0x1c2)]()||_0x18adce(0x18b),this[_0x18adce(0x1a7)][_0x18adce(0x1dc)](_0x2f23b4[_0x18adce(0x1bb)]['name']),_0x2f23b4[_0x18adce(0x1bb)]['spells']=this[_0x18adce(0x183)]['items'][_0x18adce(0x1cf)](_0x3a1e6f=>{const _0x1a8390=_0x18adce,_0x5bccaf=this[_0x1a8390(0x16f)][_0x1a8390(0x18f)]['get'](_0x3a1e6f[_0x1a8390(0x1b4)][_0x1a8390(0x1ea)]);if(!_0x5bccaf)return;return{'id':_0x3a1e6f[_0x1a8390(0x1b4)][_0x1a8390(0x1ea)],'isPrepared':_0x3a1e6f['data'][_0x1a8390(0x1db)]()};})[_0x18adce(0x1d4)](Boolean);const _0x2d47e8=this['_actor'][_0x18adce(0x196)]?.[SharedConsts[_0x18adce(0x1bf)]],_0x4df6de={..._0x2d47e8||{}};MiscUtil[_0x18adce(0x18e)](_0x4df6de,this['constructor']['name'],_0x18adce(0x1d0),this['_activeSaveId']),await UtilDocuments['pUpdateDocument'](this[_0x18adce(0x16f)],{'flags':{[SharedConsts['MODULE_NAME_FAKE']]:_0x4df6de}}),this[_0x18adce(0x172)][_0x18adce(0x192)](),ui[_0x18adce(0x1b3)][_0x18adce(0x1b2)](_0x18adce(0x1ba)+_0x2f23b4['entity'][_0x18adce(0x19a)]+'\x22!');}catch(_0xdc1dda){ui[_0x18adce(0x1b3)][_0x18adce(0x1f3)]('Failed\x20to\x20save\x20list!\x20'+VeCt[_0x18adce(0x1de)]),console[_0x18adce(0x1f3)](...LGT,_0xdc1dda);}});}[_0x127d63(0x17e)](_0x2f7787){const _0x2e9d3b=_0x127d63;_0x2f7787[_0x2e9d3b(0x1c6)]('[name=\x22btn-list-load\x22]')[_0x2e9d3b(0x19f)](async()=>{const _0x13b3a7=_0x2e9d3b;try{const {$modalInner:_0x5a2082,doClose:_0x527039}=UiUtil[_0x13b3a7(0x1a4)]({'title':_0x13b3a7(0x191),'isHeaderBorder':!![],'cbClose':_0x198ba4=>{const _0x2a773d=_0x13b3a7;this[_0x2a773d(0x155)][_0x2a773d(0x174)]();if(!_0x198ba4)return;this[_0x2a773d(0x1a6)](_0x198ba4),ui['notifications'][_0x2a773d(0x1b2)](_0x2a773d(0x1df)+this[_0x2a773d(0x162)]()[_0x2a773d(0x1bb)][_0x2a773d(0x19a)]+'\x22!');}});if(!this[_0x13b3a7(0x172)]['spellLists']['length'])_0x5a2082['append'](_0x13b3a7(0x195));this[_0x13b3a7(0x155)]=this[_0x13b3a7(0x155)]||$(_0x13b3a7(0x164)),this['_$wrpSaveRows'][_0x13b3a7(0x1c7)](_0x5a2082);if(!this['_renderableCollectionRules']){this['_renderableCollectionRules']=new ActorSpellPreparedToggler[(_0x13b3a7(0x1f8))](this['_compSaves'],this['_$wrpSaveRows']);const _0x2d1242=()=>{const _0x35ef53=_0x13b3a7;this[_0x35ef53(0x1e9)][_0x35ef53(0x1a8)](),StorageUtil[_0x35ef53(0x1c4)](this['_getStorageKeyAllLists'](),this[_0x35ef53(0x172)][_0x35ef53(0x1ae)]);};this[_0x13b3a7(0x172)][_0x13b3a7(0x1af)](_0x2d1242),_0x2d1242();}this['_renderableCollectionRules']['cbClose']=_0x527039;}catch(_0x3faa9a){ui['notifications'][_0x13b3a7(0x1f3)](_0x13b3a7(0x182)+VeCt['STR_SEE_CONSOLE']),console[_0x13b3a7(0x1f3)](...LGT,_0x3faa9a);}});}[_0x127d63(0x1a1)](_0x97f68a){const _0x5d022a=_0x127d63;_0x97f68a[_0x5d022a(0x1c6)](_0x5d022a(0x16d))[_0x5d022a(0x19f)](async()=>{const _0x493fe2=_0x5d022a;for(const _0x27393a of this[_0x493fe2(0x183)][_0x493fe2(0x18f)]){await _0x27393a[_0x493fe2(0x1b4)][_0x493fe2(0x1a0)]();}});}[_0x127d63(0x14a)](_0xb98688){const _0x5f1de5=_0x127d63;this['_$btnReset']=_0xb98688[_0x5f1de5(0x1c6)](_0x5f1de5(0x1d6))[_0x5f1de5(0x19f)](()=>{const _0x28387a=_0x5f1de5;_0xb98688['find'](_0x28387a(0x1a5))[_0x28387a(0x1dc)]('');if(!this[_0x28387a(0x183)])return;this[_0x28387a(0x183)][_0x28387a(0x1f7)](),this['_list'][_0x28387a(0x18f)][_0x28387a(0x179)](_0x184fa3=>_0x184fa3['data']['resetNextState']());});}[_0x127d63(0x165)](_0x4233d3){const _0xbf73f=_0x127d63;this[_0xbf73f(0x1e3)]=_0x4233d3[_0xbf73f(0x1c6)](_0xbf73f(0x1a5)),this[_0xbf73f(0x183)]=new List({'$iptSearch':this[_0xbf73f(0x1e3)],'$wrpList':_0x4233d3[_0xbf73f(0x1c6)](_0xbf73f(0x1ad)),'isUseJquery':!![],'fnSort':PageFilterSpells[_0xbf73f(0x199)]}),SortUtil[_0xbf73f(0x15c)](_0x4233d3[_0xbf73f(0x1c6)]('[data-name=\x22wrp-btns-sort\x22]'),this[_0xbf73f(0x183)]);const _0x1927ed=_0x4233d3[_0xbf73f(0x1c6)](_0xbf73f(0x161))[_0xbf73f(0x1ee)](()=>{const _0x54e2fc=_0xbf73f,_0x152b7b=_0x1927ed['prop'](_0x54e2fc(0x1eb));this[_0x54e2fc(0x183)][_0x54e2fc(0x197)]['forEach'](_0x24df30=>_0x24df30[_0x54e2fc(0x1b4)][_0x54e2fc(0x1c3)](_0x152b7b));});return this[_0xbf73f(0x1e7)][_0xbf73f(0x14d)]({'$iptSearch':this[_0xbf73f(0x1e3)],'$btnReset':this['_$btnReset'],'$btnOpen':_0x4233d3['find'](_0xbf73f(0x19d)),'$btnToggleSummaryHidden':_0x4233d3[_0xbf73f(0x1c6)](_0xbf73f(0x1c9)),'$wrpMiniPills':_0x4233d3[_0xbf73f(0x1c6)](_0xbf73f(0x1ec)),'namespace':_0xbf73f(0x16c)})[_0xbf73f(0x15e)](()=>{const _0x8adea3=_0xbf73f;this[_0x8adea3(0x15b)][_0x8adea3(0x179)](_0x434bdf=>this['_pageFilter'][_0x8adea3(0x1cd)](_0x434bdf)),this['_list'][_0x8adea3(0x1e0)](this[_0x8adea3(0x178)],{'fnGetName':_0x3d530f=>_0x3d530f['name'],'fnGetValues':_0x529bd0=>({'level':MiscUtil[_0x8adea3(0x193)](_0x529bd0,_0x8adea3(0x1b4),_0x8adea3(0x1b4),'level')||-0x1}),'fnGetData':(_0x2c43eb,_0x23217a)=>{const _0x15eeaf=_0x8adea3,_0x2bccbb=$(_0x2c43eb['ele']);return{'spellItemId':_0x23217a['id'],'cbSel':_0x2bccbb[_0x15eeaf(0x1c6)](_0x15eeaf(0x1d1))[0x0],'$dispModified':_0x2bccbb[_0x15eeaf(0x1c6)](_0x15eeaf(0x17c))};},'fnBindListeners':(_0x1b95f6,_0x40acd7)=>{const _0x42bfd4=_0x8adea3,_0x3928ac={'prepared':_0x40acd7[_0x42bfd4(0x1b4)][_0x42bfd4(0x1b4)]['preparation'][_0x42bfd4(0x1f4)]},_0x30bc80=()=>{const _0x191d88=_0x42bfd4;_0x1b95f6['data'][_0x191d88(0x168)][_0x191d88(0x1eb)]=_0x3928ac[_0x191d88(0x1f4)],_0x1b95f6[_0x191d88(0x1b4)][_0x191d88(0x1ed)][_0x191d88(0x1b6)]('ve-hidden',_0x40acd7[_0x191d88(0x1b4)][_0x191d88(0x1b4)][_0x191d88(0x186)][_0x191d88(0x1f4)]===_0x3928ac[_0x191d88(0x1f4)]);},_0x192dea=_0x145334=>{const _0x6c8a09=_0x42bfd4;_0x3928ac[_0x6c8a09(0x1f4)]=_0x145334,_0x30bc80();},_0x423c51=()=>{const _0x1ff080=_0x42bfd4;_0x3928ac[_0x1ff080(0x1f4)]=_0x40acd7['data'][_0x1ff080(0x1b4)][_0x1ff080(0x186)][_0x1ff080(0x1f4)],_0x30bc80();},_0x4a0612=()=>_0x3928ac['prepared'],_0x2b0ce6=async()=>{const _0xc6c2d9=_0x42bfd4;await DataConverterSpell[_0xc6c2d9(0x1ac)](_0x40acd7,_0x3928ac['prepared']),_0x30bc80();};_0x1b95f6[_0x42bfd4(0x1b4)][_0x42bfd4(0x1c3)]=_0x192dea,_0x1b95f6[_0x42bfd4(0x1b4)][_0x42bfd4(0x1b9)]=_0x423c51,_0x1b95f6[_0x42bfd4(0x1b4)][_0x42bfd4(0x1db)]=_0x4a0612,_0x1b95f6[_0x42bfd4(0x1b4)]['pCommitState']=_0x2b0ce6,_0x1b95f6[_0x42bfd4(0x1dd)][_0x42bfd4(0x18c)](_0x42bfd4(0x19f),_0x664a28=>{const _0x571cf6=_0x42bfd4;ListUiUtil[_0x571cf6(0x153)](this['_list'],_0x1b95f6,_0x664a28,{'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0xa84edf,_0x340773)=>_0xa84edf[_0x571cf6(0x1b4)][_0x571cf6(0x1c3)](_0x340773)});});}}),this[_0x8adea3(0x183)][_0x8adea3(0x1c0)](),this['_pageFilter']['trimState'](),this[_0x8adea3(0x1e7)][_0x8adea3(0x189)][_0x8adea3(0x1a8)](),this['_pageFilter'][_0x8adea3(0x189)]['on'](FilterBox[_0x8adea3(0x1b1)],this['_handleFilterChange']['bind'](this)),this['_handleFilterChange']();});}async[_0x127d63(0x1e2)](){const _0x5e70af=_0x127d63;this[_0x5e70af(0x172)]=new ActorSpellPreparedToggler[(_0x5e70af(0x181))]();const _0x411c6c=await StorageUtil[_0x5e70af(0x184)](this[_0x5e70af(0x1cb)]());if(!_0x411c6c?.[_0x5e70af(0x15a)])return;this[_0x5e70af(0x172)][_0x5e70af(0x1ae)]=_0x411c6c;const _0x38e193=this['_actor'][_0x5e70af(0x1b4)][_0x5e70af(0x196)]?.[SharedConsts[_0x5e70af(0x1bf)]];if(!_0x38e193?.[this['constructor'][_0x5e70af(0x19a)]]?.[_0x5e70af(0x1d0)])return;const _0xee1512=_0x411c6c[_0x5e70af(0x1c6)](_0x3fc603=>_0x3fc603['id']===_0x38e193[this[_0x5e70af(0x17b)][_0x5e70af(0x19a)]]['saveId']);if(!_0xee1512)return;this[_0x5e70af(0x1a6)](_0xee1512);}[_0x127d63(0x1a6)](_0x484c4b){const _0x37f5f2=_0x127d63;if(!_0x484c4b?.[_0x37f5f2(0x1bb)][_0x37f5f2(0x154)]?.[_0x37f5f2(0x15a)])return;this[_0x37f5f2(0x1d8)]=_0x484c4b['id'],this[_0x37f5f2(0x1a7)]['val'](_0x484c4b[_0x37f5f2(0x1bb)][_0x37f5f2(0x19a)]),_0x484c4b[_0x37f5f2(0x1bb)][_0x37f5f2(0x154)][_0x37f5f2(0x179)](({id:_0x5a2c58,isPrepared:_0x28e2e3})=>{const _0x1c36c5=_0x37f5f2,_0xff1124=this[_0x1c36c5(0x183)]['items'][_0x1c36c5(0x1c6)](_0x5c128c=>_0x5c128c[_0x1c36c5(0x1b4)][_0x1c36c5(0x1ea)]===_0x5a2c58);if(_0xff1124)_0xff1124['data'][_0x1c36c5(0x1c3)](_0x28e2e3);});}[_0x127d63(0x1cb)](){const _0x267d87=_0x127d63;return this[_0x267d87(0x17b)][_0x267d87(0x19a)]+_0x267d87(0x1f0);}[_0x127d63(0x1d5)](){const _0x2aed01=_0x127d63;return this[_0x2aed01(0x15b)]=this[_0x2aed01(0x178)][_0x2aed01(0x1cf)]((_0xa2e8e1,_0x1222f0)=>({'name':_0xa2e8e1[_0x2aed01(0x19a)],'isPrepared':_0xa2e8e1['data'][_0x2aed01(0x1b4)]['preparation']['prepared'],'level':MiscUtil[_0x2aed01(0x193)](_0xa2e8e1,_0x2aed01(0x1b4),_0x2aed01(0x1b4),_0x2aed01(0x19e))||-0x1,'concentration':!!MiscUtil[_0x2aed01(0x193)](_0xa2e8e1,_0x2aed01(0x1b4),'data',_0x2aed01(0x160),_0x2aed01(0x14e)),'v':!!MiscUtil[_0x2aed01(0x193)](_0xa2e8e1,_0x2aed01(0x1b4),_0x2aed01(0x1b4),_0x2aed01(0x160),_0x2aed01(0x18d)),'s':!!MiscUtil[_0x2aed01(0x193)](_0xa2e8e1,_0x2aed01(0x1b4),'data',_0x2aed01(0x160),_0x2aed01(0x1be)),'m':!!MiscUtil[_0x2aed01(0x193)](_0xa2e8e1,_0x2aed01(0x1b4),'data','components',_0x2aed01(0x1da)),'ritual':!!MiscUtil['get'](_0xa2e8e1,'data',_0x2aed01(0x1b4),'components','ritual'),'ix':_0x1222f0})),{...super[_0x2aed01(0x1d5)](),'rows':this[_0x2aed01(0x15b)]};}[_0x127d63(0x1f1)](..._0x25dc11){const _0x5e3106=_0x127d63;return this[_0x5e3106(0x1e7)][_0x5e3106(0x17a)](),super['close'](..._0x25dc11);}}ActorSpellPreparedToggler['AppFilter']=class extends AppFilter{constructor(){const _0x2f8551=_0x127d63;super(),this[_0x2f8551(0x1b5)]=new Filter({'header':_0x2f8551(0x1e5),'items':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9],'displayFn':_0x37c1f1=>~_0x37c1f1?PageFilterSpells[_0x2f8551(0x14b)](_0x37c1f1):_0x2f8551(0x167)}),this['_miscFilter']=new Filter({'header':_0x2f8551(0x180),'items':[_0x2f8551(0x187),_0x2f8551(0x1bc),_0x2f8551(0x1a9),_0x2f8551(0x1b7),_0x2f8551(0x190)],'itemSortFn':PageFilterSpells[_0x2f8551(0x16e)]});}[_0x127d63(0x1cd)](_0x77de81,_0x5e8822){const _0x42c1a6=_0x127d63;if(_0x5e8822)return;this[_0x42c1a6(0x1b5)]['addItem'](_0x77de81[_0x42c1a6(0x19e)]),_0x77de81[_0x42c1a6(0x156)]=[];if(_0x77de81[_0x42c1a6(0x14e)])_0x77de81[_0x42c1a6(0x156)][_0x42c1a6(0x1e4)]('Concentration');if(_0x77de81['v'])_0x77de81[_0x42c1a6(0x156)]['push'](_0x42c1a6(0x1bc));if(_0x77de81['s'])_0x77de81[_0x42c1a6(0x156)]['push'](_0x42c1a6(0x1a9));if(_0x77de81['m'])_0x77de81[_0x42c1a6(0x156)][_0x42c1a6(0x1e4)](_0x42c1a6(0x1b7));if(_0x77de81[_0x42c1a6(0x1f2)])_0x77de81['_fMisc']['push']('Ritual');}async[_0x127d63(0x185)](_0x3f1175){const _0x5b34bf=_0x127d63;_0x3f1175[_0x5b34bf(0x1e6)]=[this['_levelFilter'],this[_0x5b34bf(0x1d9)]];}[_0x127d63(0x163)](_0x102aab,_0x490782){const _0xb385d8=_0x127d63;return this[_0xb385d8(0x1aa)][_0xb385d8(0x163)](_0x102aab,_0x490782[_0xb385d8(0x19e)],_0x490782['_fMisc']);}},ActorSpellPreparedToggler['SavedSpellListComponent']=class extends BaseComponent{get[_0x127d63(0x1ae)](){const _0x12425e=_0x127d63;return this[_0x12425e(0x15d)][ActorSpellPreparedToggler[_0x12425e(0x181)][_0x12425e(0x14c)]];}set[_0x127d63(0x1ae)](_0x1fc071){const _0x27508e=_0x127d63;this[_0x27508e(0x15d)][ActorSpellPreparedToggler[_0x27508e(0x181)][_0x27508e(0x14c)]]=_0x1fc071;}[_0x127d63(0x1af)](_0x38eebe){const _0x378404=_0x127d63;this[_0x378404(0x15f)](ActorSpellPreparedToggler[_0x378404(0x181)][_0x378404(0x14c)],_0x38eebe);}[_0x127d63(0x192)](){const _0x1b59f3=_0x127d63;this[_0x1b59f3(0x157)](ActorSpellPreparedToggler[_0x1b59f3(0x181)][_0x1b59f3(0x14c)]);}[_0x127d63(0x198)](){const _0x3a2fcf=_0x127d63;return{[ActorSpellPreparedToggler[_0x3a2fcf(0x181)][_0x3a2fcf(0x14c)]]:[]};}},ActorSpellPreparedToggler[_0x127d63(0x181)][_0x127d63(0x14c)]=_0x127d63(0x1ae),ActorSpellPreparedToggler[_0x127d63(0x1f8)]=class extends RenderableCollectionBase{constructor(_0x4782a0,_0x3eb400){const _0x270801=_0x127d63;super(_0x4782a0,ActorSpellPreparedToggler['SavedSpellListComponent'][_0x270801(0x14c)]),this[_0x270801(0x16a)]=_0x3eb400,this[_0x270801(0x1ca)]=null;}set[_0x127d63(0x1ef)](_0x4f7f17){const _0x5d719f=_0x127d63;this[_0x5d719f(0x1ca)]=_0x4f7f17;}[_0x127d63(0x177)](_0xaff5e4){const _0x2fc9da=_0x127d63,_0x38d289=this['_comp'],_0x2d8132=BaseComponent['fromObject'](_0xaff5e4[_0x2fc9da(0x1bb)],'*');_0x2d8132[_0x2fc9da(0x166)](_0x2fc9da(0x194),()=>{const _0x4e23ae=_0x2fc9da;_0xaff5e4[_0x4e23ae(0x1bb)]=_0x2d8132[_0x4e23ae(0x158)]('*'),_0x38d289[_0x4e23ae(0x192)]();});const _0x38536d=$(_0x2fc9da(0x1f6))['click'](()=>{const _0x4f1257=_0x2fc9da;this[_0x4f1257(0x1ca)](_0xaff5e4);}),_0xcad65b=$(_0x2fc9da(0x1b0))[_0x2fc9da(0x19f)](()=>{const _0x3b4f5f=_0x2fc9da;_0x38d289['spellLists']=_0x38d289[_0x3b4f5f(0x1ae)][_0x3b4f5f(0x1d4)](_0x3d820d=>_0x3d820d!==_0xaff5e4);}),_0x3ba47b=$$`<div class="ve-flex-v-center py-1 stripe-even toggsp__row">
			<div class="mr-2">${_0x38536d}</div>
			<div class="ve-flex-v-center w-100 mr-2">${_0x2d8132[_0x2fc9da(0x15d)][_0x2fc9da(0x19a)]}</div>
			<div class="">${_0xcad65b}</div>
		</div>`[_0x2fc9da(0x1c7)](this[_0x2fc9da(0x16a)]);return{'comp':_0x2d8132,'$wrpRow':_0x3ba47b,'fnCleanup':()=>{}};}[_0x127d63(0x1d2)](_0x1912ae,_0xa83d89){const _0xbbcc53=_0x127d63;_0x1912ae[_0xbbcc53(0x159)]['_proxyAssignSimple'](_0xbbcc53(0x194),_0xa83d89['entity'],!![]);}[_0x127d63(0x1bd)](_0x476c66){_0x476c66['fnCleanup']();}[_0x127d63(0x1c1)](_0x54abfe,_0x4bed99){const _0x1fa7f9=_0x127d63,_0x4a58cc=this['_comp'],_0x5893a8=_0x4a58cc[_0x1fa7f9(0x1ae)][_0x1fa7f9(0x1cf)](_0x7fa92f=>_0x7fa92f['id'])['indexOf'](_0x4bed99['id']),_0x404ff4=this['_$wrp'][_0x1fa7f9(0x1c6)](_0x1fa7f9(0x1ab))[_0x1fa7f9(0x150)](_0x54abfe[_0x1fa7f9(0x1a2)]),_0x4bc13f=!this[_0x1fa7f9(0x16a)][_0x1fa7f9(0x15a)]||_0x404ff4!==_0x5893a8;if(_0x4bc13f)_0x54abfe['$wrpRow']['detach']()['appendTo'](this['_$wrp']);}};function _0x4126(){const _0x25e78c=['[name=\x22btn-run\x22]','sortMetaFilter','_actor','20hrVzne','type','_compSaves','uid','detach','Spell\x20Prepared\x20Toggler','636244NUAzWc','getNewRender','_actorItems','forEach','teardown','constructor','.act-sp-prep__disp-modified','_activateListeners_initIptListName','_activateListeners_initBtnListLoad','661510WSTnBQ','Components\x20&\x20Miscellaneous','SavedSpellListComponent','Failed\x20to\x20load\x20list!\x20','_list','pGet','_pPopulateBoxOptions','preparation','Concentration','[name=\x22btn-list-new\x22]','filterBox','_$btnReset','(Unnamed\x20List)','addEventListener','vocal','set','items','Ritual','Load\x20Prepared\x20Spell\x20List','triggerSpellListsCollectionUpdate','get','state','<div\x20class=\x22italic\x20ve-muted\x20py-1\x22>No\x20saved\x20spell\x20lists\x20found.</div>','flags','visibleItems','_getDefaultState','sortSpells','name','1282110OcFAZY','pHandleButtonClick','[name=btn-filter]','level','click','pCommitState','_activateListeners_initBtnRun','$wrpRow','1133450vqUFbo','getShowModal','.search','_doLoadSave','_$iptName','render','Somatic','_filterBox','.toggsp__row','pSetSpellItemIsPrepared','.veapp__list','spellLists','addHookSpellLists','<button\x20class=\x22btn\x20btn-xxs\x20btn-danger\x22\x20title=\x22Delete\x22><span\x20class=\x22glyphicon\x20glyphicon-trash\x22></span></button>','EVNT_VALCHANGE','info','notifications','data','_levelFilter','toggleClass','Material','actor','resetNextState','Saved\x20as\x20\x22','entity','Verbal','doDeleteExistingRender','somatic','MODULE_NAME_FAKE','init','doReorderExistingComponent','trim','setNextState','pSet','[name=\x22btn-list-save\x22]','find','appendTo','mode','[name=btn-toggle-summary]','_cbClose','_getStorageKeyAllLists','_handleFilterChange','addToFilters','_activateListeners_initBtnListNew','map','saveId','input','doUpdateExistingRender','AppFilter','filter','getData','[name=\x22btn-reset\x22]','6857512PDKYva','_activeSaveId','_miscFilter','material','getNextState','val','ele','STR_SEE_CONSOLE','Loaded\x20list\x20\x22','doAbsorbItems','[name=\x22ipt-list-name\x22]','_pDoLoadInitialState','_$iptSearch','push','Level','filters','_pageFilter','686976EIhcHL','_renderableCollectionRules','spellItemId','checked','.fltr__mini-view','$dispModified','change','cbClose','.saves','close','ritual','error','prepared','getMaxWindowHeight','<button\x20class=\x22btn\x20btn-xxs\x22\x20title=\x22Load\x22><span\x20class=\x22glyphicon\x20glyphicon-ok\x22></span></button>','reset','RenderableCollectionSpellLists','_activateListeners_initBtnReset','getFltrSpellLevelStr','_PROP_SPELL_LISTS','pInitFilterBox','concentration','9qcfLrh','index','spell','1114029qXFyEQ','handleSelectClick','spells','_$wrpSaveRows','_fMisc','_triggerCollectionUpdate','toObject','comp','length','_rows','initBtnSortHandlers','_state','then','_addHookBase','components','[name=\x22cb-select-all\x22]','_getActiveSave','toDisplay','<div\x20class=\x22ve-flex-col\x20w-100\x20h-100\x22></div>','_activateListeners_pInitListAndFilters','_addHookAll','Unknown','cbSel','7KYKeow','_$wrp','activateListeners','tool-actor-spell-prepared-toggler'];_0x4126=function(){return _0x25e78c;};return _0x4126();}export{ActorSpellPreparedToggler};