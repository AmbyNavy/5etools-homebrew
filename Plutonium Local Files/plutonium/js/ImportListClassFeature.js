function _0x3107(){const _0x2361bd=['2733535roTbRt','registerImpl','sourceJsonToAbv','5etools','constructor','__prop','pMutActorUpdateClassSubclassFeatureItem','Class\x20&\x20Subclass\x20Features','filter','classFeature','packUidSubclassFeature','_pGetSideData','_initCreateSheetItemHook','toLowerCase','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','className','push','_pGetEntityItem','3350QNvfGB','_pGetInitFeatureLoadeds','8OfGQjZ','items','Select\x20Class\x20or\x20Subclass\x20Feature','isIgnored','subclassFeature','subclassShortName','SOURCE_TYP_CUSTOM','isStreamerMode','class/subclass\x20feature','_list','SRD','_pGetSourcesHomebrew','source','_content','_getAsTag','24060EHVHKJ','_contentDereferenced','get','pGetSideLoadedMatch','12186636AdIQQh','DataSourceFile','sortClassFeatures','absorbFnGetData','470688yjukur','5etools-class-subclass-features','sourceShort','init','mix','pSetContent','_pGetSources','Level','1EFrHaL','all','_activateListeners_absorbListItems','sourceLong','ability\x20score\x20improvement','DISPLAY_NAME_TYPE_PLURAL','DataSourceSpecial','UserChoose','30EJBOQV','pGetClassSubclassFeatureItemEffects','class','SOURCE_TYP_OFFICIAL_ALL','pGetDereferencedClassSubclassFeatureItem','_pGetDereferencedFeatureItem','_pPostLoad','chosenAbilityScoreIncrease','pHasClassSubclassSideLoadedEffects','sourceJsonToFull','pGetClassSubclassFeatureItem','name','Import\x20Class\x20&\x20Subclass\x20Features','1296376rLLmCU','_page','1030vxaMNo','map','Unhandled\x20feature\x20prop\x20\x22','URL_TO_HASH_BUILDER','187kVvTkp','_getUid','Custom\x20URL','text-center','_pHasSideLoadedEffects','level','Class\x20Feature','9971487xibUUz','Subclass\x20Feature'];_0x3107=function(){return _0x2361bd;};return _0x3107();}const _0x5c936b=_0x40a1;(function(_0x87f3d2,_0x538ef6){const _0x273fd0=_0x40a1,_0x369723=_0x87f3d2();while(!![]){try{const _0x109587=-parseInt(_0x273fd0(0x151))/0x1*(-parseInt(_0x273fd0(0x10f))/0x2)+parseInt(_0x273fd0(0x159))/0x3*(parseInt(_0x273fd0(0x149))/0x4)+parseInt(_0x273fd0(0x111))/0x5*(-parseInt(_0x273fd0(0x141))/0x6)+-parseInt(_0x273fd0(0x11e))/0x7*(parseInt(_0x273fd0(0x132))/0x8)+parseInt(_0x273fd0(0x11c))/0x9+-parseInt(_0x273fd0(0x130))/0xa*(-parseInt(_0x273fd0(0x115))/0xb)+-parseInt(_0x273fd0(0x145))/0xc;if(_0x109587===_0x538ef6)break;else _0x369723['push'](_0x369723['shift']());}catch(_0x23ca17){_0x369723['push'](_0x369723['shift']());}}}(_0x3107,0xac77c));import{MixinUserChooseImporter}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{UtilDataSource}from'./UtilDataSource.js';import{PageFilterClassFeatures}from'./PageFilterClassFeatures.js';import{DataConverterClassSubclassFeature}from'./DataConverterClassSubclassFeature.js';import{ImportListFeature}from'./ImportListFeature.js';class ImportListClassFeature extends ImportListFeature{static ['ID']='classes-subclasses-features';static [_0x5c936b(0x156)]=_0x5c936b(0x125);static ['_']=this[_0x5c936b(0x11f)](this);static[_0x5c936b(0x14c)](){const _0x1942d2=_0x5c936b;this[_0x1942d2(0x12a)]({'prop':'classFeature','importerName':_0x1942d2(0x11b)}),this['_initCreateSheetItemHook']({'prop':_0x1942d2(0x136),'importerName':_0x1942d2(0x11d)});}constructor(_0x343955,_0x3405d3,_0x2f6757){const _0x1e371f=_0x5c936b;_0x3405d3=_0x3405d3||{},_0x2f6757=_0x2f6757||{},super({'title':_0x1e371f(0x10e),..._0x3405d3},_0x343955,{'props':['classFeature','subclassFeature'],'dirsHomebrew':[_0x1e371f(0x127),_0x1e371f(0x136)],'titleSearch':'class\x20and\x20subclass\x20features','sidebarTab':_0x1e371f(0x133),'gameProp':_0x1e371f(0x133),'defaultFolderPath':[_0x1e371f(0x125)],'fnListSort':PageFilterClassFeatures[_0x1e371f(0x147)],'listInitialSortBy':_0x1e371f(0x12d),'pageFilter':new PageFilterClassFeatures(),'page':UrlUtil['PG_CLASS_SUBCLASS_FEATURES'],'isPreviewable':!![],'isDedupable':!![],'configGroup':'importClassSubclassFeature',..._0x2f6757},{'titleLog':_0x1e371f(0x13a)}),this[_0x1e371f(0x142)]=null;}async[_0x5c936b(0x14f)](){const _0x539960=_0x5c936b;return[new UtilDataSource[(_0x539960(0x157))](Config[_0x539960(0x143)]('ui',_0x539960(0x139))?_0x539960(0x13c):_0x539960(0x121),Vetools['pGetClassSubclassFeatures'],{'cacheKey':_0x539960(0x14a),'filterTypes':[UtilDataSource[_0x539960(0x15c)]],'isUseProps':!![],'isDefault':!![],'pPostLoad':_0x5a99f6=>this[_0x539960(0x122)][_0x539960(0x15f)](_0x5a99f6)}),new UtilDataSource['DataSourceUrl'](_0x539960(0x117),'',{'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']],'pPostLoad':_0x394af8=>this[_0x539960(0x122)][_0x539960(0x15f)](_0x394af8)}),new UtilDataSource[(_0x539960(0x146))]('Upload\x20File',{'filterTypes':[UtilDataSource[_0x539960(0x138)]],'pPostLoad':_0x5c5928=>this[_0x539960(0x122)][_0x539960(0x15f)](_0x5c5928)}),...await this[_0x539960(0x13d)]({'pPostLoad':_0x5cb47d=>this['constructor'][_0x539960(0x15f)](_0x5cb47d)})];}static async[_0x5c936b(0x15f)](_0x3822d7){const _0x3b4de8=_0x5c936b;_0x3822d7=_0x3822d7[_0x3b4de8(0x126)](_0x22e436=>_0x22e436['name'][_0x3b4de8(0x12b)]()!==_0x3b4de8(0x155));const _0x1fd8ef=[];for(const _0x192677 of _0x3822d7){const _0x559018=await this[_0x3b4de8(0x131)](_0x192677);if(!_0x559018||_0x559018[_0x3b4de8(0x135)])continue;_0x1fd8ef[_0x3b4de8(0x12e)](_0x192677);}return _0x1fd8ef;}['getData'](){const _0x22e166=_0x5c936b;return{...super['getData'](),'cols':[{'name':'Name','width':0x5,'field':_0x22e166(0x10d)},{'name':'Class','width':0x2,'field':_0x22e166(0x12d)},{'name':'Subclass','width':0x2,'field':'subclassShortName'},{'name':_0x22e166(0x150),'width':0x1,'field':_0x22e166(0x11a),'rowClassName':_0x22e166(0x118)},{'name':'Source','width':0x1,'field':_0x22e166(0x13e),'titleProp':_0x22e166(0x154),'displayProp':_0x22e166(0x14b),'classNameProp':'sourceClassName','styleProp':'sourceStyle','rowClassName':'text-center'}],'rows':this['_content'][_0x22e166(0x112)]((_0x1b40d4,_0x5af3dd)=>{const _0x3d55f7=_0x22e166;return this['_pageFilter'][_0x3d55f7(0x122)]['mutateForFilters'](_0x1b40d4),{'name':_0x1b40d4['name'],'className':_0x1b40d4[_0x3d55f7(0x12d)],'subclassShortName':_0x1b40d4[_0x3d55f7(0x137)],'level':_0x1b40d4[_0x3d55f7(0x11a)],'source':_0x1b40d4[_0x3d55f7(0x13e)],'sourceShort':Parser[_0x3d55f7(0x120)](_0x1b40d4[_0x3d55f7(0x13e)]),'sourceLong':Parser[_0x3d55f7(0x10b)](_0x1b40d4[_0x3d55f7(0x13e)]),'sourceClassName':Parser['sourceJsonToColor'](_0x1b40d4[_0x3d55f7(0x13e)]),'sourceStyle':BrewUtil['sourceJsonToStylePart'](_0x1b40d4[_0x3d55f7(0x13e)]),'ix':_0x5af3dd};})};}[_0x5c936b(0x153)](){const _0x295044=_0x5c936b;this[_0x295044(0x13b)]['doAbsorbItems'](this['_content'],{'fnGetName':_0x5b1588=>_0x5b1588[_0x295044(0x10d)],'fnGetValues':_0x19ff54=>({'source':_0x19ff54[_0x295044(0x13e)],'className':_0x19ff54[_0x295044(0x12d)],'subclassShortName':_0x19ff54['subclassShortName']||'','level':_0x19ff54['level'],'hash':UrlUtil[_0x295044(0x114)][this['_page']](_0x19ff54)}),'fnGetData':UtilList2[_0x295044(0x148)],'fnBindListeners':_0x3579f7=>this['_isRadio']?UtilList2['absorbFnBindListenersRadio'](this[_0x295044(0x13b)],_0x3579f7):UtilList2['absorbFnBindListeners'](this[_0x295044(0x13b)],_0x3579f7)});}async[_0x5c936b(0x14e)](_0x219a10){const _0xd7a587=_0x5c936b;await super[_0xd7a587(0x14e)](_0x219a10),this[_0xd7a587(0x142)]=await Promise[_0xd7a587(0x152)](_0x219a10[_0xd7a587(0x112)](_0x2d0a27=>DataConverterClassSubclassFeature[_0xd7a587(0x15d)](_0x2d0a27)));}['_activateListeners_initPreviewButton'](_0x15b055,_0x3f0c11){const _0x2161f6=_0x5c936b;ListUiUtil['bindPreviewButton'](this[_0x2161f6(0x110)],this[_0x2161f6(0x142)],_0x15b055,_0x3f0c11);}static async[_0x5c936b(0x12f)](_0x9a1f48,_0x2160da){const _0x1088c3=_0x5c936b;return DataConverterClassSubclassFeature[_0x1088c3(0x10c)](_0x2160da,{'actor':_0x9a1f48});}static async[_0x5c936b(0x129)](_0x963e64,_0x10f7a6){const _0x49f067=_0x5c936b;return DataConverterClassSubclassFeature[_0x49f067(0x144)](_0x10f7a6);}static async[_0x5c936b(0x119)](_0x3dc427,_0x58fb03){const _0x9fcddb=_0x5c936b;return DataConverterClassSubclassFeature[_0x9fcddb(0x10a)](_0x3dc427,_0x58fb03);}static async['_pGetItemEffects'](_0x4b3eda,_0x1c2271,_0x19d6f5,_0x2a5aa1){const _0x3660c4=_0x5c936b;return DataConverterClassSubclassFeature[_0x3660c4(0x15a)](_0x4b3eda,_0x1c2271,_0x19d6f5,{'additionalData':{'import':{'chosenAbilityScoreIncrease':_0x2a5aa1[_0x3660c4(0x160)]}}});}async['_pMutActorUpdateFeature'](_0x460faa,_0x2a407b,_0x55f265){const _0x5a3f77=_0x5c936b;await DataConverterClassSubclassFeature[_0x5a3f77(0x124)](this['_actor'],_0x2a407b,_0x460faa,_0x55f265);}[_0x5c936b(0x12c)](_0x2d5bb6,_0x238726){return DataConverterClassSubclassFeature['pGetClassSubclassFeatureItem'](_0x2d5bb6,{'actor':this['_actor'],..._0x238726});}static async[_0x5c936b(0x15e)](_0x22d12c){const _0x459f03=_0x5c936b;return DataConverterClassSubclassFeature[_0x459f03(0x15d)](_0x22d12c);}static async[_0x5c936b(0x131)](_0x412de1,{actor:_0x51f305}={}){return DataConverterClassSubclassFeature['pGetInitClassSubclassFeatureLoadeds'](_0x412de1,{'actor':_0x51f305});}[_0x5c936b(0x140)](_0x3c39d2){const _0x353f4d=_0x5c936b,_0x4f7c7c=Parser['getPropTag'](this[_0x353f4d(0x13f)][_0x3c39d2['ix']]['__prop']),_0x4dac34=this[_0x353f4d(0x116)](this['_content'][_0x3c39d2['ix']]);return'@'+_0x4f7c7c+'['+_0x4dac34+']';}['_getUid'](_0x4a90a2){const _0x448b68=_0x5c936b;switch(_0x4a90a2[_0x448b68(0x123)]){case _0x448b68(0x127):return DataUtil[_0x448b68(0x15b)]['packUidClassFeature'](_0x4a90a2);case _0x448b68(0x136):return DataUtil['class'][_0x448b68(0x128)](_0x4a90a2);default:throw new Error(_0x448b68(0x113)+_0x4a90a2[_0x448b68(0x123)]+'\x22');}}}ImportListClassFeature[_0x5c936b(0x158)]=class extends MiscUtil[_0x5c936b(0x14d)](ImportListClassFeature)['with'](MixinUserChooseImporter){constructor(_0x1f18a5){const _0x5cb8b2=_0x5c936b;super(_0x1f18a5,{'title':_0x5cb8b2(0x134)},{'titleButtonRun':'Select'});}};function _0x40a1(_0x3a6b27,_0x4679fc){const _0x3107b2=_0x3107();return _0x40a1=function(_0x40a186,_0x4efb45){_0x40a186=_0x40a186-0x10a;let _0x27dc0e=_0x3107b2[_0x40a186];return _0x27dc0e;},_0x40a1(_0x3a6b27,_0x4679fc);}export{ImportListClassFeature};