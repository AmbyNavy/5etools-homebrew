const _0x458777=_0x540f;(function(_0x44d6ef,_0x14b05e){const _0x4fb4aa=_0x540f,_0x958081=_0x44d6ef();while(!![]){try{const _0x46bfff=-parseInt(_0x4fb4aa(0x1c9))/0x1*(-parseInt(_0x4fb4aa(0x21c))/0x2)+parseInt(_0x4fb4aa(0x247))/0x3+parseInt(_0x4fb4aa(0x21a))/0x4+parseInt(_0x4fb4aa(0x216))/0x5*(parseInt(_0x4fb4aa(0x1dc))/0x6)+-parseInt(_0x4fb4aa(0x1f6))/0x7+parseInt(_0x4fb4aa(0x1de))/0x8*(parseInt(_0x4fb4aa(0x241))/0x9)+-parseInt(_0x4fb4aa(0x239))/0xa*(parseInt(_0x4fb4aa(0x253))/0xb);if(_0x46bfff===_0x14b05e)break;else _0x958081['push'](_0x958081['shift']());}catch(_0x11ea25){_0x958081['push'](_0x958081['shift']());}}}(_0x2e0b,0x3064b));import{UtilApplications}from'./UtilApplications.js';import{LGT}from'./Util.js';import{Vetools}from'./Vetools.js';import{AppSourceSelectorMulti}from'./AppSourceSelectorMulti.js';import{ModalFilterFeatsFvtt}from'./UtilModalFilter.js';import{Charactermancer_FeatureOptionsSelect,Charactermancer_Util}from'./UtilCharactermancer.js';import{Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';function _0x540f(_0x3fc1d5,_0x52b9a0){const _0x2e0ba4=_0x2e0b();return _0x540f=function(_0x540f26,_0x1f66fe){_0x540f26=_0x540f26-0x1c8;let _0x47f7f4=_0x2e0ba4[_0x540f26];return _0x47f7f4;},_0x540f(_0x3fc1d5,_0x52b9a0);}import{DataConverterFeat}from'./DataConverterFeat.js';class Charactermancer_AdditionalFeatsSelect extends BaseComponent{static async[_0x458777(0x1f3)]({available:_0x2f8e14,actor:_0x25ad73}){const _0x520dad=_0x458777;if(!_0x2f8e14?.[_0x520dad(0x1d1)])return{'isFormComplete':!![],'data':{}};if(UtilAdditionalFeats[_0x520dad(0x205)](_0x2f8e14)){const _0x332da1=new this({'available':_0x2f8e14});return _0x332da1['pGetFormData']();}const {ImportListFeat:_0x3d63ec}=await import(_0x520dad(0x21e)),_0x5bb8fd=await new _0x3d63ec()[_0x520dad(0x233)](),_0x1076bf=new AppSourceSelectorMulti({'title':'Select\x20Feat\x20Sources','filterNamespace':_0x520dad(0x1f0),'savedSelectionKey':_0x520dad(0x200),'sourcesToDisplay':_0x5bb8fd,'props':[_0x520dad(0x207)],'page':UrlUtil[_0x520dad(0x210)],'isDedupable':!![]}),_0x4ff844=await _0x1076bf[_0x520dad(0x1e7)]();if(_0x4ff844==null)return null;const _0x52cd9b=await this[_0x520dad(0x1d7)]({'featDatas':_0x4ff844}),_0x17583d=await this[_0x520dad(0x240)]({'featDatas':_0x4ff844}),_0x5d6ca1=new this({'available':_0x2f8e14,'actor':_0x25ad73,'featDatas':_0x4ff844,'modalFilterFeats':_0x52cd9b,'modalFilterSpells':_0x17583d});return UtilApplications[_0x520dad(0x22a)]({'comp':_0x5d6ca1,'width':0x320,'height':0x280});}static async[_0x458777(0x1d7)]({featDatas:_0x4ac0a9}){const _0x36dcd3=new ModalFilterFeatsFvtt({'namespace':'Charactermancer_AdditionalFeatsSelect.feats','isRadio':!![],'allData':_0x4ac0a9});return await _0x36dcd3['pPreloadHidden'](),_0x36dcd3;}static async[_0x458777(0x240)](){return null;}constructor(_0x46792c){const _0x38be5a=_0x458777;_0x46792c=_0x46792c||{},super(),this[_0x38be5a(0x232)]=_0x46792c['available'],this[_0x38be5a(0x1fc)]=_0x46792c[_0x38be5a(0x251)],this['_featDatas']=_0x46792c[_0x38be5a(0x1df)]||[],this[_0x38be5a(0x1cb)]=_0x46792c[_0x38be5a(0x1f8)],this[_0x38be5a(0x20b)]=_0x46792c[_0x38be5a(0x231)],this[_0x38be5a(0x1e1)]=_0x46792c[_0x38be5a(0x1e6)],this[_0x38be5a(0x243)]=!!_0x46792c[_0x38be5a(0x1cc)],this[_0x38be5a(0x1e4)][_0x38be5a(0x1da)](_0x3a006a=>_0x3a006a[_0x38be5a(0x1ee)]=UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x38be5a(0x210)]]({'name':_0x3a006a['name'],'source':_0x3a006a[_0x38be5a(0x202)]})),this[_0x38be5a(0x1ce)]={};}get[_0x458777(0x230)](){const _0xf7a728=_0x458777;return _0xf7a728(0x22b);}get[_0x458777(0x1d0)](){const _0x53c567=_0x458777,_0x56d39b=this[_0x53c567(0x232)][this[_0x53c567(0x1e8)]['ixSet']];return _0x56d39b?.[_0x53c567(0x20c)]||0x0;}get[_0x458777(0x1d4)](){const _0xe7d33a=_0x458777;return this[_0xe7d33a(0x1e8)]['ixSet'];}['addHookIxSet'](_0x693cf6){const _0x86f8ba=_0x458777;this['_addHookBase'](_0x86f8ba(0x23d),_0x693cf6);}['addHookPulseFeats'](_0x28ba15){const _0x5ae030=_0x458777;this[_0x5ae030(0x229)](_0x5ae030(0x1f1),_0x28ba15);}[_0x458777(0x23c)](_0x4c1bf1){const _0x379932=_0x458777,_0x16906c=_0x4c1bf1['filter'](_0x4ecd7b=>_0x4ecd7b==null||_0x4ecd7b[_0x379932(0x238)]===_0x379932(0x248));let _0x41a594=0x0;const _0x489664={},_0x2df173=[];_0x16906c[_0x379932(0x1da)]((_0x37f216,_0x1d4ae3)=>{const _0x44112a=_0x379932;if(!_0x37f216)return _0x41a594++;_0x2df173[_0x44112a(0x23a)](_0x1d4ae3);const _0x2fec90=_0x1d4ae3-_0x41a594,{type:_0x48775f,ix:_0x5e99c3}=_0x37f216,{propIxFeat:_0x5578ef}=this[_0x44112a(0x1f9)]({'ix':_0x2fec90,'type':_0x48775f});_0x489664[_0x5578ef]=_0x5e99c3===-0x1?null:_0x5e99c3;}),_0x489664[_0x379932(0x1ec)]=_0x2df173,this[_0x379932(0x1cd)]('state',_0x489664);}[_0x458777(0x1f9)]({ix:_0x492bca,type:_0x848889}){const _0x41ce06=_0x458777;return{'propPrefixFeat':_0x41ce06(0x206)+_0x492bca+'_'+_0x848889+'_','propIxFeat':_0x41ce06(0x206)+_0x492bca+'_'+_0x848889+'_ixFeat'};}['_getLocks']({ix:_0x5893c7,type:_0x6186b1}){const _0xe1b7f5=_0x458777;return{'lockChangeFeat':_0xe1b7f5(0x206)+_0x5893c7+'_'+_0x6186b1+_0xe1b7f5(0x23f),'lockRenderFeatureOptionsSelects':_0xe1b7f5(0x206)+_0x5893c7+'_'+_0x6186b1+'_renderFeatureOptionsSelects'};}['render'](_0x41912e){const _0x42b595=_0x458777,_0x583e86=$(_0x42b595(0x250)),_0x6e11dd=$(_0x42b595(0x250));this[_0x42b595(0x22e)]({'$wrpLeft':_0x583e86,'$wrpRight':_0x6e11dd}),$$(_0x41912e)`<div class="ve-flex w-100 h-100 min-h-0">
			${_0x583e86}
			<div class="vr-3"></div>
			${_0x6e11dd}
		</div>
		`;}[_0x458777(0x22e)]({$wrpLeft:_0x2724fa,$wrpRight:_0x4d46db}){const _0x26d4ea=_0x458777;this[_0x26d4ea(0x1d2)]({'$wrpLeft':_0x2724fa});const _0x230f3d=$$`<div class="ve-flex-col"></div>`[_0x26d4ea(0x1d6)](_0x2724fa),_0x1dc461=$$`<div class="ve-flex-col"></div>`[_0x26d4ea(0x1d6)](_0x4d46db),_0x312b85=[],_0x1fab68=this[_0x26d4ea(0x235)][_0x26d4ea(0x24e)](this,{'$stgGroupLeft':_0x230f3d,'$stgGroupRight':_0x1dc461,'lastMetas':_0x312b85});this[_0x26d4ea(0x229)](_0x26d4ea(0x23d),_0x1fab68),_0x1fab68();}[_0x458777(0x1d2)]({$wrpLeft:_0x52517d}){const _0x2e56a9=_0x458777;if(this['_available'][_0x2e56a9(0x1d1)]<=0x1)return;const {$sel:_0x2e0237}=UtilAdditionalFeats[_0x2e56a9(0x1f7)]({'comp':this,'prop':_0x2e56a9(0x23d),'available':this['_available']});return $$`<div class="w-100 mb-2 ve-flex-v-center">
			<div class="mr-2 no-shrink bold">Feat Set:</div>
			${_0x2e0237}
		</div>`[_0x2e56a9(0x1d6)](_0x52517d);}[_0x458777(0x235)]({$stgGroupLeft:_0x692925,$stgGroupRight:_0x458f4e,lastMetas:_0x342beb}){const _0x110c5a=_0x458777;_0x692925[_0x110c5a(0x1e9)](),_0x458f4e[_0x110c5a(0x1e9)](),_0x342beb['splice'](0x0,_0x342beb[_0x110c5a(0x1d1)])[_0x110c5a(0x1da)](_0x45c04c=>_0x45c04c[_0x110c5a(0x1f2)]());const _0x552884=this[_0x110c5a(0x232)][this[_0x110c5a(0x1e8)][_0x110c5a(0x23d)]];this['_hk_ixSet_renderPts']({'$stgGroupLeft':_0x692925,'$stgGroupRight':_0x458f4e,'featSet':_0x552884,'lastMetas':_0x342beb}),this[_0x110c5a(0x1e8)][_0x110c5a(0x1f1)]=!this[_0x110c5a(0x1e8)][_0x110c5a(0x1f1)];}[_0x458777(0x24c)]({$stgGroupLeft:_0x1b3ea1,$stgGroupRight:_0x2b7b90,featSet:_0x5a1871,lastMetas:_0x3ad7ce}){const _0x167d81=_0x458777,_0x2307d9=Object[_0x167d81(0x217)](_0x5a1871)['some'](_0x3b1070=>_0x3b1070!==_0x167d81(0x20c)),_0x25d97d=!!_0x5a1871[_0x167d81(0x20c)];if(_0x2307d9)this[_0x167d81(0x1d9)]({'$stgGroupLeft':_0x1b3ea1,'$stgGroupRight':_0x2b7b90,'featSet':_0x5a1871});if(_0x2307d9&&_0x25d97d)_0x1b3ea1[_0x167d81(0x222)](_0x167d81(0x24d));if(_0x25d97d)this[_0x167d81(0x1dd)]({'$stgGroupLeft':_0x1b3ea1,'$stgGroupRight':_0x2b7b90,'featSet':_0x5a1871,'lastMetas':_0x3ad7ce});if(_0x2307d9||_0x25d97d)_0x1b3ea1[_0x167d81(0x222)]('<hr\x20class=\x22hr-2>');}[_0x458777(0x1d9)]({$stgGroupLeft:_0x4a45f9,$stgGroupRight:_0x2d14d7,featSet:_0x18326c}){const _0x32fd1e=_0x458777,_0x489c5c='static',_0x525130=UtilAdditionalFeats['getUidsStatic'](_0x18326c),_0x1ca0b0=_0x525130[_0x32fd1e(0x1f4)]((_0x55b7ad,_0x57bc40)=>{const _0x47703f=_0x32fd1e,{lockRenderFeatureOptionsSelects:_0x39ebf6}=this['_getLocks']({'ix':_0x57bc40,'type':_0x489c5c}),{name:_0x3fb9c5,source:_0x42eccd}=DataUtil[_0x47703f(0x209)][_0x47703f(0x1eb)](_0x47703f(0x207),_0x55b7ad,_0x47703f(0x207)),_0xcca40f=UrlUtil[_0x47703f(0x24f)][UrlUtil['PG_FEATS']]({'name':_0x3fb9c5,'source':_0x42eccd}),_0x5b74f6=this[_0x47703f(0x1e4)][_0x47703f(0x20d)](_0x2b2ce4=>_0x2b2ce4['_hash']===_0xcca40f);if(!_0x5b74f6)return console[_0x47703f(0x1db)](...LGT,_0x47703f(0x244)+_0xcca40f+_0x47703f(0x1ed)),null;const _0x1f8bc2=this[_0x47703f(0x243)]?$('<div\x20class=\x22ve-flex-col\x20w-100\x22></div>'):null,_0xd9982f=$$`<div class="mb-2">
				<div class="ve-flex-v-center">
					<div class="bold mr-2 no-shrink">Feat:</div>
					${Renderer['get']()[_0x47703f(0x1fa)](_0x47703f(0x22f)+_0x5b74f6[_0x47703f(0x252)]+'|'+_0x5b74f6[_0x47703f(0x202)]+'}')}
				</div>
				${_0x1f8bc2}
			</div>`,_0x3fae27=$(_0x47703f(0x254));return this[_0x47703f(0x21d)]({'$wrp':_0x3fae27,'feat':_0x5b74f6}),this['_isFeatureSelect']&&this['_feat_pGetFilteredFeatures'](_0x5b74f6)[_0x47703f(0x201)](async _0xc5864c=>{await this['_feat_pRenderFeatureOptionsSelects']({'ix':_0x57bc40,'type':_0x489c5c,'$stgFeatureOptions':_0x1f8bc2,'filteredFeatures':_0xc5864c,'lockRenderFeatureOptionsSelects':_0x39ebf6});}),{'$rowLeft':_0xd9982f,'$rowRight':_0x3fae27};})[_0x32fd1e(0x211)](Boolean);$$`<div class="ve-flex-col w-100">
			${_0x1ca0b0[_0x32fd1e(0x1f4)](_0xcf0c58=>_0xcf0c58[_0x32fd1e(0x1e0)])}
		</div>`['appendTo'](_0x4a45f9),$$`<div class="ve-flex-col w-100">
			${_0x1ca0b0['map'](_0x12ab7e=>_0x12ab7e[_0x32fd1e(0x1e5)])}
		</div>`[_0x32fd1e(0x1d6)](_0x2d14d7);}[_0x458777(0x21d)]({$wrp:_0x52139c,feat:_0x27d2d4}){const _0x1eefb3=_0x458777;_0x52139c[_0x1eefb3(0x1e9)](),!_0x27d2d4?_0x52139c[_0x1eefb3(0x222)](_0x1eefb3(0x220)):_0x52139c['append'](Vetools['withUnpatchedDiceRendering'](()=>Renderer[_0x1eefb3(0x228)][_0x1eefb3(0x1c8)](UrlUtil[_0x1eefb3(0x210)],_0x27d2d4))),_0x52139c[_0x1eefb3(0x222)](_0x1eefb3(0x24a));}[_0x458777(0x1dd)]({$stgGroupLeft:_0x5562aa,$stgGroupRight:_0x43d99c,featSet:_0x2eaf68,lastMetas:_0x50cfe7}){const _0x47d777=_0x458777,_0xc5a351=_0x47d777(0x248),_0x9a5431=[...new Array(_0x2eaf68['any'])]['map']((_0x96239b,_0x1e1a6b)=>{const _0x43b09b=_0x47d777,{propIxFeat:_0x218e4a,propPrefixFeat:_0x5b8687}=this[_0x43b09b(0x1f9)]({'ix':_0x1e1a6b,'type':_0xc5a351}),{lockChangeFeat:_0x597187,lockRenderFeatureOptionsSelects:_0x8c68d2}=this[_0x43b09b(0x1e2)]({'ix':_0x1e1a6b,'type':_0xc5a351}),{$sel:_0x251f1c,$btnFilter:_0x33683c,unhook:_0x1c6916}=Charactermancer_Util[_0x43b09b(0x21b)]({'comp':this,'prop':_0x218e4a,'data':this[_0x43b09b(0x1e4)],'modalFilter':this[_0x43b09b(0x1cb)],'title':'Feat'});_0x50cfe7[_0x43b09b(0x23a)]({'cleanup':_0x1c6916});const _0x5bdfae=$('<div\x20class=\x22ve-flex-col\x20w-100\x22></div>'),_0x390c68=this['_isFeatureSelect']?$('<div\x20class=\x22ve-flex-col\x20w-100\x20mt-2\x22></div>'):null,_0x52a894=$$`<div class="ve-flex-col w-100">
				<div class="bold mb-2">Select a Feat</div>
				<div class="ve-flex-v-center btn-group w-100">${_0x33683c}${_0x251f1c}</div>
				${_0x390c68}
				<hr class="hr-1">
			</div>`,_0x35dbf8=async()=>{const _0x22e5f9=_0x43b09b,_0x2207ec=Object[_0x22e5f9(0x217)](this[_0x22e5f9(0x224)])['filter'](_0x39feaf=>_0x39feaf[_0x22e5f9(0x1ef)](_0x5b8687)&&_0x39feaf!==_0x218e4a)['mergeMap'](_0x557807=>({[_0x557807]:null}));this[_0x22e5f9(0x1cd)]('state',_0x2207ec);const _0x3654c8=this[_0x22e5f9(0x1e4)][this[_0x22e5f9(0x1e8)][_0x218e4a]];this[_0x22e5f9(0x21d)]({'$wrp':_0x5bdfae,'feat':_0x3654c8});if(this[_0x22e5f9(0x243)]){const _0x51d37a=await this[_0x22e5f9(0x236)](_0x3654c8);await this[_0x22e5f9(0x1fe)]({'ix':_0x1e1a6b,'type':_0xc5a351,'$stgFeatureOptions':_0x390c68,'filteredFeatures':_0x51d37a,'lockRenderFeatureOptionsSelects':_0x8c68d2});}this['_state'][_0x22e5f9(0x1f1)]=!this[_0x22e5f9(0x1e8)]['pulse_feats'];},_0x41ba1d=async _0x4c8888=>{try{await this['_pLock'](_0x597187),await _0x35dbf8(_0x4c8888);}finally{this['_unlock'](_0x597187);}};return this['_addHookBase'](_0x218e4a,_0x41ba1d),_0x50cfe7[_0x43b09b(0x23a)]({'cleanup':()=>this[_0x43b09b(0x219)](_0x218e4a,_0x41ba1d)}),_0x35dbf8(),{'$rowLeft':_0x52a894,'$rowRight':_0x5bdfae};});$$`<div class="ve-flex-col w-100">
			${_0x9a5431[_0x47d777(0x1f4)](_0x4079fc=>_0x4079fc[_0x47d777(0x1e0)])}
		</div>`[_0x47d777(0x1d6)](_0x5562aa),$$`<div class="ve-flex-col w-100">
			${_0x9a5431[_0x47d777(0x1f4)](_0x4b926a=>_0x4b926a['$rowRight'])}
		</div>`[_0x47d777(0x1d6)](_0x43d99c);}async[_0x458777(0x236)](_0x26491b){const _0x4049bf=_0x458777;if(!_0x26491b)return[];const _0x21caf3=await DataConverterFeat[_0x4049bf(0x203)](_0x26491b,{'actor':this[_0x4049bf(0x1fc)]});return Charactermancer_Util[_0x4049bf(0x234)]([_0x21caf3],this['_modalFilterFeats']['pageFilter'],this[_0x4049bf(0x1cb)]['pageFilter'][_0x4049bf(0x225)][_0x4049bf(0x1ea)]());}async[_0x458777(0x1fe)](_0x5b0567){const _0x59279e=_0x458777,{lockRenderFeatureOptionsSelects:_0xcf91f}=_0x5b0567;try{return await this[_0x59279e(0x212)](_0xcf91f),this[_0x59279e(0x1ca)](_0x5b0567);}finally{this[_0x59279e(0x23e)](_0xcf91f);}}async[_0x458777(0x1ca)]({ix:_0x1ce994,type:_0xf61994,filteredFeatures:_0x45df24,$stgFeatureOptions:_0x120bbd}){const _0xf95e4f=_0x458777,_0x3cb657=this[_0xf95e4f(0x1ce)][_0xf61994]?.[_0x1ce994]||[];_0x120bbd[_0xf95e4f(0x1e9)]();const _0x5f4922=new Charactermancer_Class_Util[(_0xf95e4f(0x221))](this[_0xf95e4f(0x1fc)]),_0xb43aa5=Charactermancer_Util[_0xf95e4f(0x218)](_0x45df24),_0x589583=MiscUtil['copy'](_0xb43aa5);Charactermancer_Util[_0xf95e4f(0x213)](_0x589583,this[_0xf95e4f(0x1cb)][_0xf95e4f(0x1e3)],this[_0xf95e4f(0x1cb)][_0xf95e4f(0x1e3)][_0xf95e4f(0x225)][_0xf95e4f(0x1ea)]());const _0x4d9084=Charactermancer_Util['getFeaturesGroupedByOptionsSet'](_0x589583);this[_0xf95e4f(0x214)](_0x1ce994,_0xf61994);for(const _0x2002e5 of _0x4d9084){const {topLevelFeature:_0x4372fe,optionsSets:_0x321e04}=_0x2002e5;for(const _0x119f2b of _0x321e04){const _0x9c60bf=new Charactermancer_FeatureOptionsSelect({'featureSourceTracker':this[_0xf95e4f(0x1e1)],'existingFeatureChecker':_0x5f4922,'actor':this['_actor'],'optionsSet':_0x119f2b,'level':_0x4372fe[_0xf95e4f(0x20f)],'modalFilterSpells':this[_0xf95e4f(0x20b)],'isSkipRenderingFirstFeatureTitle':!![]}),_0x245ff3=MiscUtil[_0xf95e4f(0x20e)](this[_0xf95e4f(0x1ce)],_0xf61994,_0x1ce994,[]);_0x245ff3[_0xf95e4f(0x23a)](_0x9c60bf),_0x9c60bf[_0xf95e4f(0x226)](_0x3cb657);}}await this[_0xf95e4f(0x1fd)](_0x1ce994,_0xf61994,{'$stgFeatureOptions':_0x120bbd});}[_0x458777(0x214)](_0x4c2442,_0x38f073){const _0x2addcc=_0x458777;(this[_0x2addcc(0x1ce)][_0x38f073]?.[_0x4c2442]||[])[_0x2addcc(0x1da)](_0x474aa1=>_0x474aa1[_0x2addcc(0x1d3)]()),delete this[_0x2addcc(0x1ce)][_0x38f073]?.[_0x4c2442];}async[_0x458777(0x1fd)](_0x1e05b4,_0x57da83,{$stgFeatureOptions:_0x415857}){const _0x59736b=_0x458777;for(const _0x427b72 of this[_0x59736b(0x1ce)][_0x57da83]?.[_0x1e05b4]||[]){if(await _0x427b72[_0x59736b(0x246)]()&&!await _0x427b72[_0x59736b(0x24b)]())continue;_0x415857[_0x59736b(0x208)]()[_0x59736b(0x222)](''+(_0x427b72['modalTitle']?_0x59736b(0x1d5)+_0x427b72['modalTitle']+_0x59736b(0x249):'')),_0x427b72[_0x59736b(0x1fa)](_0x415857);}}async[_0x458777(0x215)](){const _0x1d7437=_0x458777,_0x61a47d=[],_0x2623d5={'_':!![]},_0x38e441=this[_0x1d7437(0x232)][this[_0x1d7437(0x1e8)][_0x1d7437(0x23d)]];return await this[_0x1d7437(0x1f5)]({'out':_0x61a47d,'featSet':_0x38e441,'ptrIsComplete':_0x2623d5}),await this['_pGetFormData_choose']({'out':_0x61a47d,'featSet':_0x38e441,'ptrIsComplete':_0x2623d5}),{'isFormComplete':_0x2623d5['_'],'data':_0x61a47d,'ixsStatgen':this[_0x1d7437(0x1e8)]['readonly_ixsStatgen']?MiscUtil['copy'](this['_state'][_0x1d7437(0x1ec)]):null};}async['_pGetFormData_static']({out:_0x31c4f7,featSet:_0x20779d,ptrIsComplete:_0x33ed3e}){const _0x46492f=_0x458777,_0x534700=UtilAdditionalFeats[_0x46492f(0x23b)](_0x20779d);if(!_0x534700?.[_0x46492f(0x1d1)])return;const _0x324a54=_0x46492f(0x237);for(let _0x2140cc=0x0;_0x2140cc<_0x534700[_0x46492f(0x1d1)];++_0x2140cc){const _0x219d67=this[_0x46492f(0x227)]({'uidsStatic':_0x534700,'ix':_0x2140cc});if(_0x219d67)_0x31c4f7[_0x46492f(0x23a)](_0x219d67);if(!this['_isFeatureSelect']||!_0x219d67)continue;const _0x3448b=await(this[_0x46492f(0x1ce)][_0x324a54]?.[_0x2140cc]||[])[_0x46492f(0x211)](Boolean)['pSerialAwaitMap'](_0x6f4b32=>_0x6f4b32['pGetFormData']());if(_0x3448b['some'](_0x4deb6e=>!_0x4deb6e['isFormComplete']))_0x33ed3e['_']=![];_0x219d67[_0x46492f(0x22d)]=_0x3448b;}}async[_0x458777(0x21f)]({out:_0x9f3626,featSet:_0x1ee314,ptrIsComplete:_0x36b0fb}){const _0x59f03e=_0x458777;if(!_0x1ee314[_0x59f03e(0x20c)])return;const _0x4560b9=_0x59f03e(0x248);for(let _0x206b7a=0x0;_0x206b7a<_0x1ee314[_0x59f03e(0x20c)];++_0x206b7a){const _0x448eda=this['_getFormData_choose_ix']({'ix':_0x206b7a,'ptrIsComplete':_0x36b0fb});if(_0x448eda)_0x9f3626['push'](_0x448eda);if(!this[_0x59f03e(0x243)]||!_0x448eda)continue;const _0x67ec7f=await(this['_compsFeatFeatureOptionsSelect'][_0x4560b9]?.[_0x206b7a]||[])[_0x59f03e(0x211)](Boolean)[_0x59f03e(0x242)](_0x30c666=>_0x30c666[_0x59f03e(0x215)]());if(_0x67ec7f[_0x59f03e(0x223)](_0x382fbe=>!_0x382fbe[_0x59f03e(0x20a)]))_0x36b0fb['_']=![];_0x448eda[_0x59f03e(0x22d)]=_0x67ec7f;}}[_0x458777(0x1d8)](){const _0x361b5b=_0x458777,_0x3faaa9=[],_0x46d09c={'_':!![]},_0x1bdf15=this[_0x361b5b(0x232)][this[_0x361b5b(0x1e8)][_0x361b5b(0x23d)]];return this['_getFormDataReduced_static']({'out':_0x3faaa9,'featSet':_0x1bdf15}),this['_getFormDataReduced_choose']({'out':_0x3faaa9,'featSet':_0x1bdf15,'ptrIsComplete':_0x46d09c}),{'isFormComplete':_0x46d09c['_'],'data':_0x3faaa9,'ixsStatgen':this[_0x361b5b(0x1e8)][_0x361b5b(0x1ec)]?MiscUtil[_0x361b5b(0x1fb)](this[_0x361b5b(0x1e8)]['readonly_ixsStatgen']):null};}[_0x458777(0x1ff)]({out:_0x2ff8e0,featSet:_0x4a04a1}){const _0x352062=_0x458777,_0x5df814=UtilAdditionalFeats[_0x352062(0x23b)](_0x4a04a1);if(!_0x5df814?.[_0x352062(0x1d1)])return;for(let _0x31c096=0x0;_0x31c096<_0x5df814[_0x352062(0x1d1)];++_0x31c096){const _0x4d819d=this[_0x352062(0x227)]({'uidsStatic':_0x5df814,'ix':_0x31c096});if(_0x4d819d)_0x2ff8e0['push'](_0x4d819d);}}[_0x458777(0x1cf)]({out:_0x2fbe3f,featSet:_0x38d654,ptrIsComplete:_0x56201f}){const _0x21eb66=_0x458777;if(!_0x38d654[_0x21eb66(0x20c)])return;for(let _0x5fa845=0x0;_0x5fa845<_0x38d654[_0x21eb66(0x20c)];++_0x5fa845){const _0x404e3c=this['_getFormData_choose_ix']({'ix':_0x5fa845,'ptrIsComplete':_0x56201f});if(_0x404e3c)_0x2fbe3f[_0x21eb66(0x23a)](_0x404e3c);}}[_0x458777(0x227)]({uidsStatic:_0x54b40f,ix:_0x358d6a}){const _0x3a127e=_0x458777,_0x40b391=_0x54b40f[_0x358d6a],{name:_0x2f7004,source:_0x59e8d5}=DataUtil[_0x3a127e(0x209)]['unpackUid'](_0x3a127e(0x207),_0x40b391,_0x3a127e(0x207)),_0x58c382=UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x3a127e(0x210)]]({'name':_0x2f7004,'source':_0x59e8d5}),_0x3c3d96=this['_featDatas'][_0x3a127e(0x22c)](_0x12b3bd=>_0x12b3bd[_0x3a127e(0x1ee)]===_0x58c382),_0x1e2ad3=this[_0x3a127e(0x1e4)][_0x3c3d96];return{'page':UrlUtil[_0x3a127e(0x210)],'source':_0x59e8d5,'hash':_0x58c382,'feat':MiscUtil[_0x3a127e(0x1fb)](_0x1e2ad3,!![]),'ixFeat':_0x3c3d96,'type':_0x3a127e(0x237),'ix':_0x358d6a};}[_0x458777(0x245)]({ix:_0x38f915,ptrIsComplete:_0x296170}){const _0x45b400=_0x458777,{propIxFeat:_0x266a41}=this[_0x45b400(0x1f9)]({'ix':_0x38f915,'type':'choose'}),_0x1da1af=this['_state'][_0x266a41];if(_0x1da1af==null||!~_0x1da1af){_0x296170['_']=![];return;}const _0x16ad0f=this[_0x45b400(0x1e4)][_0x1da1af],_0x17eae4=UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x45b400(0x210)]](_0x16ad0f);return{'page':UrlUtil[_0x45b400(0x210)],'source':_0x16ad0f['source'],'hash':_0x17eae4,'feat':MiscUtil[_0x45b400(0x1fb)](_0x16ad0f,!![]),'ixFeat':_0x1da1af,'type':_0x45b400(0x248),'ix':_0x38f915};}[_0x458777(0x204)](){return{'ixSet':0x0,'pulse_feats':![],'readonly_ixsStatgen':null};}}export{Charactermancer_AdditionalFeatsSelect};function _0x2e0b(){const _0xb4f189=['_compsFeatFeatureOptionsSelect','_getFormDataReduced_choose','cntAny','length','_render_$getStgSelGroup','unregisterFeatureSourceTracking','ixSetAvailable','<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>','appendTo','_pGetUserInput_pGetModalFilterFeats','getFormDataReduced','_render_renderPtStatic','forEach','warn','564726EYDetz','_render_renderPtChooseFromFilter','2375272VQvTtZ','featDatas','$rowLeft','_featureSourceTracker','_getLocks','pageFilter','_featDatas','$rowRight','featureSourceTracker','pWaitForUserInput','_state','empty','getValues','unpackUid','readonly_ixsStatgen','\x22\x20in\x20loaded\x20feat\x20data!','_hash','startsWith','Charactermancer_AdditionalFeatsSelect_filter','pulse_feats','cleanup','pGetUserInput','map','_pGetFormData_static','1725822vXKlRd','getSelIxSetMeta','modalFilterFeats','_getProps','render','copy','_actor','_feat_pRenderFeatureComps','_feat_pRenderFeatureOptionsSelects','_getFormDataReduced_static','Charactermancer_AdditionalFeatsSelect_savedSelection','then','source','pGetInitFeatFeatureLoadeds','_getDefaultState','isNoChoice','feat_','feat','showVe','proxy','isFormComplete','_modalFilterSpells','any','find','getOrSet','level','PG_FEATS','filter','_pLock','doApplyFilterToFeatureEntries','_feat_unregisterFeatureSourceTrackingFeatureComps','pGetFormData','15KJfeEc','keys','getImportableFeatures','_removeHookBase','1473172qxUoNv','getFilterSearchMeta','66QlZgOk','_render_displayFeat','./ImportListFeat.js','_pGetFormData_choose','<div\x20class=\x22ve-muted\x20mb-2\x20italic\x20ve-flex-vh-center\x22>No\x20feat\x20selected.</div>','ExistingFeatureChecker','append','some','__state','filterBox','findAndCopyStateFrom','_getFormData_static_ix','hover','_addHookBase','pGetImportCompApplicationFormData','Feats','findIndex','formDatasFeatureOptionsSelect','renderTwoColumn','{@feat\x20','modalTitle','modalFilterSpells','_available','pGetSources','getFilteredFeatures','_hk_ixSet','_feat_pGetFilteredFeatures','static','type','30HUBdlO','push','getUidsStatic','setStateFromStatgenFeatList_','ixSet','_unlock','_pHkChangeFeat','_pGetUserInput_pGetModalFilterSpells','9AioDnj','pSerialAwaitMap','_isFeatureSelect','Could\x20not\x20find\x20feat\x20\x22','_getFormData_choose_ix','pIsNoChoice','564165OrKRjE','choose','</div>','<hr\x20class=\x22hr-0\x22>','pIsForceDisplay','_hk_ixSet_renderPts','<hr\x20class=\x22hr-2\x20mt-0\x20hr--dotted\x22>','bind','URL_TO_HASH_BUILDER','<div\x20class=\x22ve-flex-col\x20w-100\x20h-100\x20min-h-0\x20overflow-y-auto\x22></div>','actor','name','2896740gNIudA','<div\x20class=\x22ve-flex-col\x20w-100\x22></div>','$getHoverContent_stats','3005EJaGPA','_feat_pRenderFeatureOptionsSelects_','_modalFilterFeats','isFeatureSelect','_proxyAssignSimple'];_0x2e0b=function(){return _0xb4f189;};return _0x2e0b();}