const _0x300025=_0x33f7;(function(_0xe086,_0x125c01){const _0x3520f5=_0x33f7,_0x29d13f=_0xe086();while(!![]){try{const _0x14e706=-parseInt(_0x3520f5(0x1bb))/0x1+-parseInt(_0x3520f5(0x1b3))/0x2+parseInt(_0x3520f5(0x17c))/0x3*(parseInt(_0x3520f5(0x198))/0x4)+-parseInt(_0x3520f5(0x1bd))/0x5+parseInt(_0x3520f5(0x1a7))/0x6+-parseInt(_0x3520f5(0x1d9))/0x7*(parseInt(_0x3520f5(0x169))/0x8)+parseInt(_0x3520f5(0x185))/0x9;if(_0x14e706===_0x125c01)break;else _0x29d13f['push'](_0x29d13f['shift']());}catch(_0x228dca){_0x29d13f['push'](_0x29d13f['shift']());}}}(_0x51fb,0x4461b));import{ImportListActor}from'./ImportListActor.js';import{Vetools}from'./Vetools.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';function _0x33f7(_0x37478e,_0x55a9ae){const _0x51fbaf=_0x51fb();return _0x33f7=function(_0x33f7d3,_0x494f3e){_0x33f7d3=_0x33f7d3-0x166;let _0x5b9a9f=_0x51fbaf[_0x33f7d3];return _0x5b9a9f;},_0x33f7(_0x37478e,_0x55a9ae);}import{UtilActors}from'./UtilActors.js';import{UtilDataSource}from'./UtilDataSource.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{DataConverterTrap}from'./DataConverterTrap.js';class ImportListTrap extends ImportListActor{static ['ID']='traps';static [_0x300025(0x1c6)]=_0x300025(0x16f);static ['_']=this[_0x300025(0x1ae)](this);constructor(_0x361871){const _0x54a9ea=_0x300025;_0x361871=_0x361871||{},super({'title':_0x54a9ea(0x1cf)},_0x361871,{'props':[_0x54a9ea(0x18a)],'dirsHomebrew':[_0x54a9ea(0x18a)],'propsBrewAdditionalData':[_0x54a9ea(0x177)],'fnLoadSideData':Vetools[_0x54a9ea(0x1cd)],'titleSearch':_0x54a9ea(0x183),'sidebarTab':_0x54a9ea(0x1c5),'gameProp':'actors','defaultFolderPath':[_0x54a9ea(0x16f)],'pageFilter':new PageFilterTrapsHazards(),'page':UrlUtil['PG_TRAPS_HAZARDS'],'isPreviewable':!![],'isDedupable':!![],'configGroup':_0x54a9ea(0x197)},{'actorType':_0x54a9ea(0x16a),'DataConverter':DataConverterTrap});}async[_0x300025(0x17f)](){const _0x58dbff=_0x300025;return[new UtilDataSource['DataSourceUrl'](Config['get']('ui',_0x58dbff(0x1ba))?'SRD':_0x58dbff(0x181),Vetools[_0x58dbff(0x168)],{'filterTypes':[UtilDataSource[_0x58dbff(0x1c4)]],'isDefault':!![]}),new UtilDataSource[(_0x58dbff(0x1e1))](_0x58dbff(0x191),'',{'filterTypes':[UtilDataSource[_0x58dbff(0x180)]]}),new UtilDataSource[(_0x58dbff(0x1d8))](_0x58dbff(0x17a),{'filterTypes':[UtilDataSource[_0x58dbff(0x180)]]}),...await this[_0x58dbff(0x1e0)]()];}[_0x300025(0x1c9)](){const _0x2f842a=_0x300025;return{...super[_0x2f842a(0x1c9)](),'cols':[{'name':_0x2f842a(0x1c8),'width':0x2,'field':_0x2f842a(0x1a9),'rowClassName':_0x2f842a(0x1d1)},{'name':_0x2f842a(0x1c0),'width':0x7,'field':_0x2f842a(0x1d5)},{'name':_0x2f842a(0x1b4),'width':0x2,'field':'source','titleProp':_0x2f842a(0x1bc),'displayProp':_0x2f842a(0x1ca),'classNameProp':_0x2f842a(0x176),'styleProp':_0x2f842a(0x1d2),'rowClassName':_0x2f842a(0x1d1)}],'rows':this[_0x2f842a(0x1d6)][_0x2f842a(0x199)]((_0x566532,_0x5310fa)=>{const _0x4f48dd=_0x2f842a;return this['_pageFilter']['constructor'][_0x4f48dd(0x17e)](_0x566532),_0x566532[_0x4f48dd(0x17d)]=Parser[_0x4f48dd(0x174)](_0x566532['trapHazType']),{'name':_0x566532['name'],'trapType':_0x566532[_0x4f48dd(0x17d)],'source':_0x566532[_0x4f48dd(0x172)],'sourceShort':Parser[_0x4f48dd(0x171)](_0x566532[_0x4f48dd(0x172)]),'sourceLong':Parser['sourceJsonToFull'](_0x566532['source']),'sourceClassName':Parser[_0x4f48dd(0x19f)](_0x566532[_0x4f48dd(0x172)]),'sourceStyle':BrewUtil['sourceJsonToStylePart'](_0x566532[_0x4f48dd(0x172)]),'ix':_0x5310fa};})};}async['_pImportEntry'](_0x596dc1,_0x415b18){const _0x1d7599=_0x300025;_0x415b18=_0x415b18||{};if(_0x596dc1['__prop']===_0x1d7599(0x190)||ImportListTrap[_0x1d7599(0x173)][_0x1d7599(0x1df)](_0x596dc1['trapHazType'])){const {ImportListHazard:_0x40eba7}=await import('./ImportListHazard.js'),_0x573d8c=new _0x40eba7({});return await _0x573d8c['pInit'](),await _0x573d8c[_0x1d7599(0x1a1)](this),_0x573d8c[_0x1d7599(0x1dc)](_0x596dc1,_0x415b18);}return super[_0x1d7599(0x1dc)](_0x596dc1,_0x415b18);}async[_0x300025(0x182)](_0xb2ea34,_0x27a19a,_0x22a561){const _0x592aee=_0x300025,_0x480674={},_0x38c7e5=new ImportListTrap[(_0x592aee(0x18c))]({'actor':_0xb2ea34});await this[_0x592aee(0x18d)](_0x27a19a,_0x480674,_0x38c7e5[_0x592aee(0x1b7)],{'img':ImportListTrap[_0x592aee(0x1c3)]}),_0x480674['data']={},await this[_0x592aee(0x167)](_0x27a19a,_0x480674,_0x22a561);if(_0x22a561['defaultPermission']!=null)_0x480674[_0x592aee(0x19c)]={'default':_0x22a561[_0x592aee(0x1a4)]};else _0x480674['permission']={'default':Config[_0x592aee(0x1da)](this[_0x592aee(0x175)],'permissions')};return this[_0x592aee(0x16b)](_0x27a19a,_0x480674['data'],_0x38c7e5),this[_0x592aee(0x16d)](_0x27a19a,_0x480674[_0x592aee(0x1b8)],_0x38c7e5),await this[_0x592aee(0x1c2)](_0x27a19a,_0x480674[_0x592aee(0x1b8)],_0x38c7e5),this[_0x592aee(0x192)](_0x27a19a,_0x480674['data'],_0x38c7e5),this[_0x592aee(0x188)](_0x27a19a,_0x480674[_0x592aee(0x1b8)],_0x38c7e5),this['_pImportEntry_fillData_Skills'](_0x27a19a,_0x480674['data'],_0x38c7e5),this['_pImportEntry_fillData_Spells'](_0x27a19a,_0x480674[_0x592aee(0x1b8)],_0x38c7e5),this[_0x592aee(0x1be)](_0x27a19a,_0x480674['data'],_0x38c7e5),this[_0x592aee(0x179)](_0x27a19a,_0x480674[_0x592aee(0x1b8)],_0x38c7e5),await this[_0x592aee(0x178)]({'importable':_0x27a19a,'actor':_0x480674,'img':ImportListTrap[_0x592aee(0x1c3)]}),{'dataBuilderOpts':_0x38c7e5,'actorData':_0x480674};}[_0x300025(0x16d)](_0xf174ab,_0x3e7fcc){const _0x5c46d5=_0x300025,_0x18f7b4={};_0x18f7b4['ac']={'calc':_0x5c46d5(0x1db),'formula':'0'},_0x18f7b4['hp']={'value':0x0,'max':0x0},_0x18f7b4[_0x5c46d5(0x1a0)]={'walk':0x0},_0x18f7b4[_0x5c46d5(0x1dd)]=null,_0x3e7fcc[_0x5c46d5(0x1d0)]=_0x18f7b4;}async[_0x300025(0x1c2)](_0x38a2a1,_0x31e2d1,_0x4f22c1){const _0x2b17ff=_0x300025,_0x4f2751={};_0x4f2751['cr']=0x0,_0x4f2751['xp']={'value':0x0},_0x4f2751[_0x2b17ff(0x1ab)]=(_0x38a2a1[_0x2b17ff(0x19d)]?Parser[_0x2b17ff(0x1cc)](_0x38a2a1[_0x2b17ff(0x19d)]):Renderer['traphazard'][_0x2b17ff(0x193)](_0x38a2a1))||'',_0x4f2751[_0x2b17ff(0x1a9)]={'value':'custom','subtype':'','swarm':'','custom':_0x38a2a1[_0x2b17ff(0x16e)]?Parser[_0x2b17ff(0x174)](_0x38a2a1[_0x2b17ff(0x16e)]):''},_0x4f2751[_0x2b17ff(0x172)]=UtilDataConverter[_0x2b17ff(0x1bf)](_0x38a2a1),_0x31e2d1[_0x2b17ff(0x1ac)]=_0x4f2751;}['_pImportEntry_fillData_Traits'](_0x31d33d,_0x5b6d55){const _0x18ccc9=_0x300025,_0x19e6d7={};_0x19e6d7[_0x18ccc9(0x196)]=UtilActors['VET_SIZE_TO_ABV'][_0x31d33d[_0x18ccc9(0x196)]]||_0x18ccc9(0x1d4),_0x5b6d55[_0x18ccc9(0x19b)]=_0x19e6d7;}[_0x300025(0x188)](_0x367422,_0x522d33){const _0x22ab19=_0x300025;_0x522d33[_0x22ab19(0x1a6)]={'pp':0x0,'gp':0x0,'ep':0x0,'sp':0x0,'cp':0x0};}[_0x300025(0x1a3)](_0x1d3ca9,_0x206bd5){}[_0x300025(0x1b1)](_0x41baac,_0x1f00b1){}[_0x300025(0x1be)](_0x225e9e,_0x18ba82){}['_pImportEntry_fillData_Resources'](_0x3f5240,_0x108567){}async[_0x300025(0x1d7)](_0x57fae2,_0xe14ec7,_0x2c5969,_0x1c5fd1){const _0x580f88=_0x300025;_0x57fae2[_0x580f88(0x1c1)]&&_0x2c5969[_0x580f88(0x1ce)]['push'](await DataConverter['pGetItemActorPassive']({'name':'Description','entries':_0x57fae2[_0x580f88(0x1c1)]},{'mode':_0x580f88(0x1d3),'fvttType':'feat','entity':_0x57fae2,'source':_0x57fae2[_0x580f88(0x172)],'img':ImportListTrap['_IMG_TRAP']}));_0x57fae2[_0x580f88(0x1b5)]&&_0x2c5969[_0x580f88(0x1ce)][_0x580f88(0x189)](await DataConverter[_0x580f88(0x166)]({'name':_0x580f88(0x1af),'entries':_0x57fae2[_0x580f88(0x1b5)]},{'mode':'object','fvttType':_0x580f88(0x18e),'activationType':_0x580f88(0x1c7),'entity':_0x57fae2,'source':_0x57fae2[_0x580f88(0x172)],'img':ImportListTrap['_IMG_TRAP']}));if(_0x57fae2[_0x580f88(0x170)]){const _0x3039ea={'name':_0x580f88(0x16c),'entries':_0x57fae2[_0x580f88(0x170)]},{damageTupleMetas:_0x45a988,rangeShort:_0x830602,rangeLong:_0x128bbe,actionType:_0x335839,attackBonus:_0x3ef36d,attackTypes:_0x39ba39}=DataConverter['getParsedWeaponEntryData'](_0x57fae2,_0x3039ea),{damageParts:_0x5b22f2,formula:_0x4fa457}=DataConverter['getDamagePartsAndOtherFormula'](_0x45a988);_0x2c5969[_0x580f88(0x1ce)][_0x580f88(0x189)](await DataConverter[_0x580f88(0x166)](_0x3039ea,{'mode':_0x580f88(0x1d3),'fvttType':_0x580f88(0x18e),'activationType':_0x580f88(0x1c7),'entity':_0x57fae2,'source':_0x57fae2['source'],'img':ImportListTrap[_0x580f88(0x1c3)],'damageParts':_0x5b22f2,'formula':_0x4fa457,'rangeShort':_0x830602||(_0x39ba39[_0x580f88(0x1b6)]('m')?0x5:null),'rangeLong':_0x128bbe,'attackBonus':_0x3ef36d,'actionType':_0x335839}));}const _0x25e503=[{'prop':_0x580f88(0x1a5),'name':_0x580f88(0x17b)},{'prop':_0x580f88(0x1aa),'name':_0x580f88(0x187)},{'prop':_0x580f88(0x18f),'name':_0x580f88(0x194)}];for(const {prop:_0xa7920c,name:_0x2e4d4f}of _0x25e503){if(!_0x57fae2[_0xa7920c])continue;_0x2c5969[_0x580f88(0x1ce)][_0x580f88(0x189)](await DataConverter['pGetItemActorPassive']({'name':_0x2e4d4f,'entries':_0x57fae2[_0xa7920c]},{'mode':_0x580f88(0x1d3),'fvttType':_0x580f88(0x18e),'activationType':_0x580f88(0x1c7),'entity':_0x57fae2,'source':_0x57fae2['source'],'img':ImportListTrap[_0x580f88(0x1c3)]}));}_0x57fae2[_0x580f88(0x1ad)]&&_0x2c5969['items']['push'](await DataConverter['pGetItemActorPassive']({'name':_0x580f88(0x1b0),'entries':Renderer[_0x580f88(0x195)][_0x580f88(0x1de)](_0x57fae2)},{'mode':_0x580f88(0x1d3),'fvttType':_0x580f88(0x18e),'entity':_0x57fae2,'source':_0x57fae2[_0x580f88(0x172)],'img':ImportListTrap['_IMG_TRAP']}));_0x57fae2[_0x580f88(0x18b)]&&_0x2c5969[_0x580f88(0x1ce)][_0x580f88(0x189)](await DataConverter[_0x580f88(0x166)]({'name':_0x580f88(0x1b9),'entries':_0x57fae2[_0x580f88(0x18b)]},{'mode':_0x580f88(0x1d3),'fvttType':'feat','entity':_0x57fae2,'source':_0x57fae2[_0x580f88(0x172)],'img':ImportListTrap[_0x580f88(0x1c3)]}));const _0x134afe=_0x1c5fd1[_0x580f88(0x19a)]||this[_0x580f88(0x19e)]!=null;await UtilActors[_0x580f88(0x1b2)](_0x2c5969[_0x580f88(0x1a8)],_0x2c5969['items'],{'isTemporary':_0x134afe});}}ImportListTrap[_0x300025(0x173)]=new Set(['HAZ',_0x300025(0x1a2),_0x300025(0x184),'WLD',_0x300025(0x186)]),ImportListTrap[_0x300025(0x1c3)]=_0x300025(0x1cb),ImportListTrap[_0x300025(0x18c)]=class extends ImportListActor[_0x300025(0x18c)]{};function _0x51fb(){const _0x108258=['Effect','_pImportEntry_fillData_Attributes','trapHazType','Traps','effect','sourceJsonToAbv','source','_TRAP_HAZ_TYPES_HAZARD','trapHazTypeToFull','_configGroup','sourceClassName','foundryTrap','_pImportEntry_pFillToken','_pImportEntry_fillData_Resources','Upload\x20File','Active\x20Elements','318405yxnCuA','_lTrapType','mutateForFilters','_pGetSources','SOURCE_TYP_CUSTOM','5etools','_pImportEntry_pGetImportMetadata','traps','ENV','7808382eLBsTq','GEN','Dynamic\x20Elements','_pImportEntry_fillData_Currency','push','trap','countermeasures','ImportEntryOpts','_pImportEntry_pFillBase','feat','eConstant','hazard','Custom\x20URL','_pImportEntry_fillData_Traits','getTrapLevelPart','Constant\x20Elements','traphazard','size','importTrap','20SwjvjH','map','isTemp','traits','permission','tier','_pack','sourceJsonToColor','movement','pSyncStateFrom','WTH','_pImportEntry_fillData_Skills','defaultPermission','eActive','currency','2854104sGabtB','actor','type','eDynamic','alignment','details','initiative','registerImpl','Trigger','Initiative','_pImportEntry_fillData_Spells','pAddActorItems','684180QXECRn','Source','trigger','includes','fluff','data','Countermeasures','isStreamerMode','276500MIHwDl','sourceLong','2265480XCioeT','_pImportEntry_fillData_Bonuses','getSourceWithPagePart','Name','entries','_pImportEntry_pFillData_Details','_IMG_TRAP','SOURCE_TYP_OFFICIAL_ALL','actors','DISPLAY_NAME_TYPE_PLURAL','special','Type','getData','sourceShort','icons/svg/trap.svg','tierToFullLevel','pGetTrapHazardSideData','items','Import\x20Traps','attributes','text-center','sourceStyle','object','med','name','_content','_pImportEntry_pFillItems','DataSourceFile','40614iTgzOI','get','custom','_pImportEntry','spellcasting','getTrapInitiativeEntries','has','_pGetSourcesHomebrew','DataSourceUrl','pGetItemActorPassive','_pImportEntry_pFillFolder','DATA_URL_TRAPS_HAZARDS','720qWceuY','npc','_pImportEntry_fillData_Abilities'];_0x51fb=function(){return _0x108258;};return _0x51fb();}export{ImportListTrap};