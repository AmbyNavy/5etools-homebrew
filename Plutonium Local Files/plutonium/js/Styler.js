const _0x87296d=_0x8d7c;(function(_0x5bfec6,_0x45d1cf){const _0x39936d=_0x8d7c,_0x10b95a=_0x5bfec6();while(!![]){try{const _0x58f61d=-parseInt(_0x39936d(0x16f))/0x1+parseInt(_0x39936d(0x17e))/0x2+-parseInt(_0x39936d(0x17d))/0x3+-parseInt(_0x39936d(0x13b))/0x4*(parseInt(_0x39936d(0x181))/0x5)+-parseInt(_0x39936d(0x172))/0x6*(parseInt(_0x39936d(0x118))/0x7)+parseInt(_0x39936d(0x126))/0x8*(parseInt(_0x39936d(0x189))/0x9)+parseInt(_0x39936d(0x184))/0xa*(parseInt(_0x39936d(0x163))/0xb);if(_0x58f61d===_0x45d1cf)break;else _0x10b95a['push'](_0x10b95a['shift']());}catch(_0x1b5c8d){_0x10b95a['push'](_0x10b95a['shift']());}}}(_0x3561,0x83ea5));function _0x8d7c(_0x4825f7,_0x5e916a){const _0x356136=_0x3561();return _0x8d7c=function(_0x8d7c74,_0x5ea5c2){_0x8d7c74=_0x8d7c74-0x104;let _0x505033=_0x356136[_0x8d7c74];return _0x505033;},_0x8d7c(_0x4825f7,_0x5e916a);}import{Config}from'./Config.js';import{SharedConsts}from'../shared/SharedConsts.js';function _0x3561(){const _0x59cdc9=['_handleConfigUpdate_showPopoutButton','navName','<link\x20id=\x22','idStyle','css/optional-compatibility-tidy5e-sheet.css','get','_ID_HIDE_DIRECTORY_IMPORT_BUTTONS','<div\x20class=\x22rivet__disp-active\x20ve-flex-vh-center\x22\x20id=\x22','_ID_COMPATIBILITY_PERMISSION_VIEWER','plutonium__compact-macros','</div>','then','file','_ID_HIDE_PLUT_DIRECTORY_BUTTONS','11HqcUGz','configGroupKey','\x22><span\x20class=\x22glyphicon\x20glyphicon-send\x22></span></div>','css','plutonium__compact-scenes','_ID_COMPACT_ITEMS','css/optional-compact-directory-buttons.css','isHidePlutoniumDirectoryButtons','isCompactJournal','_ID_COMPACT_JOURNAL','isEnableFolderNameWrap','appendTo','707548CZssAV','_handleConfigUpdate_wrapDirectories','isCompactDirectoryButtons','12sPUfZV','_handleRivetCheck','_ID_COMPACT_CARDS','body','isStreamerMode','isCompactItems','<div\x20class=\x22plutsrv__disp-version\x20text-center\x22\x20id=\x22','++++\x20Plutonium\x20server\x20v','isDisplayBackendStatus','css/optional-compact-macros.css','_ID_SHEET_COMPACT_CONTROLS','732729bRsbLL','845934utrxjF','css/optional-sheet-popout.css','some','945ugdvhl','_handleConfigUpdate_compatibilityPermissionViewer','_ID_COMPACT_MACROS','16999750cljRLd','_ID_WRAP_FOLDER_NAMES','isTwilightUiActive','remove','_ID_SHEET_LEVEL_UP_BUTTON','9Jsfymw','_handleConfigUpdate_hidePlutoniumDirectoryButtons','_ID_COMPACT_DIRECTORY_BUTTONS','_handleNameTabFromScene','isCompactScenes','_ID_DISP_RIVET_DETECTED','plutonium__hide-directory-import-buttons','css/optional-wrap-folder-names.css','_ID_LOGO_GLITCH','configGroup','_ID_SHEET_POPOUT','_handleConfigUpdate_compatibilityTidy5eSheet','css/optional-compact-items.css','css/optional-compact-scenes.css','isCompactCards','css/optional-compact-chat.css','_handleConfigUpdate_compactDirectoryButtons','_ID_COMPATIBILITY_TWILIGHT_UI','isShowPopout','css/optional-hide-plut-directory-buttons.css','css/optional-compact-tables.css','_ID_COMPATIBILITY_TIDY5E_SHEET','HK_CONFIG_UPDATE','#logo','_ID_COMPACT_SCENES','_handleConfigUpdate','_handleConfigUpdate_compactSheetControls','_handleConfigUpdate_compatibilityTwilightUi','_ID_COMPACT_CHAT','3408657HgoywK','_ID_COMPACT_ACTORS','_handleConfigUpdate_compactChat','MODULE_LOCATION','One\x20of\x20\x22configGroup/Key\x22\x20or\x20\x22condition\x22\x20must\x20be\x20specified!','P_GET_BACKEND_VERSION','plutonium__compact-directory-buttons','plutonium__logo-glitch','css/optional-compact-journal.css','css/optional-compatibility-twilight-ui.css','isTidy5eSheetActive','plutonium__compact-journal','plutonium__wrap-folder-names','isCompactWindowBar','5626480pxPrUa','\x22>\x0a\x09\x09\x09\x09\x09\x09\x09#logo\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09filter:\x20hue-rotate(100deg)\x20saturate(1.5);\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09</style>','_handleConfigUpdate_handleGenericCssMod','updateScene','\x20â€¢\x20','One\x20of\x20\x22css\x22\x20or\x20\x22file\x22\x20must\x20be\x20specified!','\x0a\x09\x09\x09</style>','plutonium__compatibility-twilight-ui','trim','data','_ID_COMPACT_TABLES','_handleBackendCheck','isDisplayStatus','plutonium__compact-chat','plutonium__sheet-popout','isCompactMacros','isCompactActors','css/optional-sheet-compact-controls.css','_handleConfigUpdate_sheetLevelUpButton','isCompactTables','Foundry\x20Virtual\x20Tabletop','7624vdLZis','length','plutonium__backend-version',':\x20[online]\x20++++','_LOCK_GLITCH','title','css/optional-compact-actors.css','plutonium__compact-tables','isPermissionViewerActive','_handleConfigUpdate_compactDirectories','isNameTabFromScene','plutonium__sheet-compact-popout','isCompactChat','\x22\x20href=\x22','ACTIVE','canvasReady','scene','\x22>\x0a\x09\x09\x09\x09','_TAB_TITLE_DEFAULT','condition','\x22\x20rel=\x22stylesheet\x22\x20type=\x22text/css\x22\x20media=\x22all\x22>','head','plutonium__compact-cards','init','plutonium__compact-items','_ID_BACKEND_VERSION'];_0x3561=function(){return _0x59cdc9;};return _0x3561();}import{UtilCompat}from'./UtilCompat.js';import{UtilHooks}from'./UtilHooks.js';class Styler{static[_0x87296d(0x152)](){const _0x2eb0d0=_0x87296d;UtilHooks['on'](UtilHooks[_0x2eb0d0(0x111)],()=>this['_handleConfigUpdate']()),this[_0x2eb0d0(0x114)](),Hooks['on'](_0x2eb0d0(0x14a),()=>this[_0x2eb0d0(0x18c)]()),Hooks['on'](_0x2eb0d0(0x129),()=>this[_0x2eb0d0(0x18c)]()),Hooks['on']('deleteScene',()=>setTimeout(()=>this[_0x2eb0d0(0x18c)](),0x1f4));}static[_0x87296d(0x114)](){const _0x325016=_0x87296d;this[_0x325016(0x144)](),this[_0x325016(0x10b)](),this[_0x325016(0x18a)](),this[_0x325016(0x155)](),this[_0x325016(0x115)](),this[_0x325016(0x11a)](),this[_0x325016(0x138)](),this['_handleConfigUpdate_wrapDirectories'](),this[_0x325016(0x182)](),this[_0x325016(0x116)](),this['_handleConfigUpdate_compatibilityTidy5eSheet'](),this[_0x325016(0x131)](),this['_handleRivetCheck'](),this[_0x325016(0x18c)]();}static[_0x87296d(0x128)](_0xb110ec){const _0x5a5776=_0x87296d;if(!_0xb110ec[_0x5a5776(0x166)]&&!_0xb110ec[_0x5a5776(0x161)])throw new Error(_0x5a5776(0x12b));if(!(_0xb110ec[_0x5a5776(0x104)]&&_0xb110ec['configGroupKey'])&&!_0xb110ec[_0x5a5776(0x14e)])throw new Error(_0x5a5776(0x11c));const _0x44935e=$('#'+_0xb110ec[_0x5a5776(0x158)]),_0x2c526b=_0xb110ec[_0x5a5776(0x14e)]&&(_0xb110ec[_0x5a5776(0x104)]&&_0xb110ec[_0x5a5776(0x164)])?_0xb110ec[_0x5a5776(0x14e)](Config['get'](_0xb110ec[_0x5a5776(0x104)],_0xb110ec[_0x5a5776(0x164)])):_0xb110ec[_0x5a5776(0x14e)]?_0xb110ec[_0x5a5776(0x14e)]():Config['get'](_0xb110ec['configGroup'],_0xb110ec[_0x5a5776(0x164)]);if(!_0x2c526b)return _0x44935e[_0x5a5776(0x187)]();if(_0x44935e[_0x5a5776(0x13c)])return;_0xb110ec[_0x5a5776(0x166)]?$('<style\x20id=\x22'+_0xb110ec[_0x5a5776(0x158)]+_0x5a5776(0x14c)+_0xb110ec[_0x5a5776(0x166)]+_0x5a5776(0x12c))['appendTo'](document[_0x5a5776(0x175)]):$(_0x5a5776(0x157)+_0xb110ec[_0x5a5776(0x158)]+_0x5a5776(0x148)+SharedConsts[_0x5a5776(0x11b)]+'/'+_0xb110ec[_0x5a5776(0x161)]+_0x5a5776(0x14f))['appendTo'](document[_0x5a5776(0x150)]);}static['_handleConfigUpdate_compactDirectories'](){const _0x3bef79=_0x87296d;this[_0x3bef79(0x128)]({'configGroup':'ui','configGroupKey':_0x3bef79(0x18d),'idStyle':Styler[_0x3bef79(0x113)],'file':_0x3bef79(0x108)}),this[_0x3bef79(0x128)]({'configGroup':'ui','configGroupKey':_0x3bef79(0x136),'idStyle':Styler[_0x3bef79(0x119)],'file':_0x3bef79(0x141)}),this[_0x3bef79(0x128)]({'configGroup':'ui','configGroupKey':_0x3bef79(0x177),'idStyle':Styler[_0x3bef79(0x168)],'file':_0x3bef79(0x107)}),this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x3bef79(0x16b),'idStyle':Styler[_0x3bef79(0x16c)],'file':_0x3bef79(0x120)}),this[_0x3bef79(0x128)]({'configGroup':'ui','configGroupKey':_0x3bef79(0x139),'idStyle':Styler[_0x3bef79(0x130)],'file':_0x3bef79(0x10f)}),this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x3bef79(0x109),'idStyle':Styler['_ID_COMPACT_CARDS'],'file':'css/optional-compact-cards.css'}),this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x3bef79(0x135),'idStyle':Styler[_0x3bef79(0x183)],'file':_0x3bef79(0x17b)});}static['_handleConfigUpdate_compactDirectoryButtons'](){const _0x174c9c=_0x87296d;this[_0x174c9c(0x128)]({'configGroup':'ui','configGroupKey':_0x174c9c(0x171),'idStyle':Styler['_ID_COMPACT_DIRECTORY_BUTTONS'],'file':_0x174c9c(0x169)});}static['_handleConfigUpdate_hidePlutoniumDirectoryButtons'](){const _0x3f6c81=_0x87296d;this[_0x3f6c81(0x128)]({'configGroup':'ui','configGroupKey':_0x3f6c81(0x16a),'idStyle':Styler[_0x3f6c81(0x162)],'file':_0x3f6c81(0x10e)});}static['_handleConfigUpdate_showPopoutButton'](){const _0x86ea57=_0x87296d;this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x86ea57(0x10d),'idStyle':Styler[_0x86ea57(0x105)],'file':_0x86ea57(0x17f)});}static[_0x87296d(0x115)](){const _0x1eb206=_0x87296d;this[_0x1eb206(0x128)]({'configGroup':'ui','configGroupKey':_0x1eb206(0x125),'idStyle':Styler[_0x1eb206(0x17c)],'file':_0x1eb206(0x137)});}static[_0x87296d(0x11a)](){const _0xa4d935=_0x87296d;this[_0xa4d935(0x128)]({'configGroup':'ui','configGroupKey':_0xa4d935(0x147),'idStyle':Styler[_0xa4d935(0x117)],'file':_0xa4d935(0x10a)});}static['_handleConfigUpdate_sheetLevelUpButton'](){this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'importClass','configGroupKey':'isAddLevelUpButton','idStyle':Styler['_ID_SHEET_LEVEL_UP_BUTTON'],'file':'css/optional-sheet-level-up-button.css'});}static[_0x87296d(0x170)](){const _0x2b2a9d=_0x87296d;this[_0x2b2a9d(0x128)]({'configGroup':'ui','configGroupKey':_0x2b2a9d(0x16d),'idStyle':Styler[_0x2b2a9d(0x185)],'file':_0x2b2a9d(0x190)});}static[_0x87296d(0x182)](){this['_handleConfigUpdate_handleGenericCssMod']({'condition':()=>{const _0x545212=_0x8d7c;if(!UtilCompat[_0x545212(0x143)]()||UtilCompat[_0x545212(0x143)]()&&UtilCompat['isSmolFoundryActive']())return![];const _0x42e500=[_0x545212(0x18d),_0x545212(0x136),_0x545212(0x177),_0x545212(0x16b),'isCompactTables',_0x545212(0x109),_0x545212(0x135)];return _0x42e500[_0x545212(0x180)](_0x4cbd13=>Config[_0x545212(0x15a)]('ui',_0x4cbd13));},'idStyle':Styler['_ID_COMPATIBILITY_PERMISSION_VIEWER'],'file':'css/optional-compatibility-permission-viewer.css'});}static['_handleConfigUpdate_compatibilityTwilightUi'](){const _0x34961c=_0x87296d;this[_0x34961c(0x128)]({'condition':()=>UtilCompat[_0x34961c(0x186)](),'idStyle':Styler[_0x34961c(0x10c)],'file':_0x34961c(0x121)});}static[_0x87296d(0x106)](){const _0x226a26=_0x87296d;this['_handleConfigUpdate_handleGenericCssMod']({'condition':()=>UtilCompat[_0x226a26(0x122)](),'idStyle':Styler[_0x226a26(0x110)],'file':_0x226a26(0x159)});}static[_0x87296d(0x131)](){const _0x20f86f=_0x87296d;Config[_0x20f86f(0x11d)][_0x20f86f(0x160)](async _0x2ebcf6=>{const _0x510525=_0x20f86f;if(!_0x2ebcf6)return;await Styler[_0x510525(0x13f)]['pLock']();try{const _0x2b11e4=$('#'+Styler[_0x510525(0x191)]),_0x3e60b2=$('#'+Styler['_ID_BACKEND_VERSION']),_0x252bf3=$(_0x510525(0x112));if(!Config[_0x510525(0x15a)]('ui',_0x510525(0x17a))||Config[_0x510525(0x15a)]('ui',_0x510525(0x176))){_0x252bf3[_0x510525(0x140)](''),_0x2b11e4[_0x510525(0x187)](),_0x3e60b2[_0x510525(0x187)]();return;}!_0x2b11e4[_0x510525(0x13c)]&&(_0x252bf3[_0x510525(0x140)](_0x510525(0x179)+_0x2ebcf6+_0x510525(0x13e)),$('<style\x20id=\x22'+Styler[_0x510525(0x191)]+_0x510525(0x127))[_0x510525(0x16e)](document[_0x510525(0x175)])),!_0x3e60b2[_0x510525(0x13c)]&&$(_0x510525(0x178)+Styler[_0x510525(0x154)]+'\x22>'+_0x2ebcf6+_0x510525(0x15f))['appendTo'](document[_0x510525(0x175)]);}finally{Styler[_0x510525(0x13f)]['unlock']();}});}static[_0x87296d(0x173)](){const _0x24fd67=_0x87296d;if(!ExtensionUtil[_0x24fd67(0x149)])return;const _0x4fe6f4=$('#'+Styler[_0x24fd67(0x18e)]);if(!Config['get']('rivet',_0x24fd67(0x132))||Config['get']('ui',_0x24fd67(0x176))){_0x4fe6f4[_0x24fd67(0x187)]();return;}!_0x4fe6f4[_0x24fd67(0x13c)]&&$(_0x24fd67(0x15c)+Styler['_ID_DISP_RIVET_DETECTED']+_0x24fd67(0x165))[_0x24fd67(0x16e)](document[_0x24fd67(0x175)]);}static['_handleNameTabFromScene'](){const _0x573c09=_0x87296d;if(Styler[_0x573c09(0x14d)]==null)Styler[_0x573c09(0x14d)]=document[_0x573c09(0x140)];if(!Config[_0x573c09(0x15a)]('ui',_0x573c09(0x145))){document[_0x573c09(0x140)]=Styler[_0x573c09(0x14d)];return;}const _0xb13c8=MiscUtil[_0x573c09(0x15a)](canvas,_0x573c09(0x14b),_0x573c09(0x12f)),_0x2cce58=Config[_0x573c09(0x15a)]('ui','tabNameSuffix'),_0x3b05d6=_0x2cce58&&_0x2cce58[_0x573c09(0x12e)]()?_0x2cce58:_0x573c09(0x13a);if(_0xb13c8){const _0x253fe0=_0xb13c8[_0x573c09(0x156)]||canvas[_0x573c09(0x14b)]?.['name'];document[_0x573c09(0x140)]=_0x253fe0+_0x573c09(0x12a)+_0x3b05d6;}else document[_0x573c09(0x140)]=_0x3b05d6;}}Styler['_ID_COMPACT_ACTORS']='plutonium__compact-actors',Styler[_0x87296d(0x168)]=_0x87296d(0x153),Styler[_0x87296d(0x16c)]=_0x87296d(0x123),Styler['_ID_COMPACT_TABLES']=_0x87296d(0x142),Styler[_0x87296d(0x174)]=_0x87296d(0x151),Styler[_0x87296d(0x113)]=_0x87296d(0x167),Styler['_ID_COMPACT_MACROS']=_0x87296d(0x15e),Styler[_0x87296d(0x117)]=_0x87296d(0x133),Styler[_0x87296d(0x18b)]=_0x87296d(0x11e),Styler[_0x87296d(0x162)]='plutonium__hide-plutonium-directory-buttons',Styler[_0x87296d(0x15b)]=_0x87296d(0x18f),Styler['_ID_SHEET_POPOUT']=_0x87296d(0x134),Styler['_ID_SHEET_COMPACT_CONTROLS']='plutonium__sheet-compact-controls',Styler['_ID_SHEET_COMPACT_POPOUT']=_0x87296d(0x146),Styler[_0x87296d(0x13f)]=new VeLock(),Styler['_ID_LOGO_GLITCH']=_0x87296d(0x11f),Styler[_0x87296d(0x154)]=_0x87296d(0x13d),Styler[_0x87296d(0x188)]='plutonium__sheet-level-up-button',Styler[_0x87296d(0x185)]=_0x87296d(0x124),Styler[_0x87296d(0x18e)]='plutonium__disp-rivet-detected',Styler[_0x87296d(0x15d)]='plutonium__compatibility-permission-viewer',Styler[_0x87296d(0x10c)]=_0x87296d(0x12d),Styler[_0x87296d(0x110)]='plutonium__compatibility-tidy5e-sheet',Styler[_0x87296d(0x14d)]=null;export{Styler};