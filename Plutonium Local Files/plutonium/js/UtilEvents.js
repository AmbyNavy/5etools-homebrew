function _0x23e4(_0x4311ea,_0x517c54){const _0x1b03b4=_0x1b03();return _0x23e4=function(_0x23e4c0,_0x137dbf){_0x23e4c0=_0x23e4c0-0x109;let _0x13b612=_0x1b03b4[_0x23e4c0];return _0x13b612;},_0x23e4(_0x4311ea,_0x517c54);}const _0x5133a7=_0x23e4;(function(_0x27848c,_0xf15c91){const _0xf55632=_0x23e4,_0x250d10=_0x27848c();while(!![]){try{const _0x315ba9=-parseInt(_0xf55632(0x109))/0x1+-parseInt(_0xf55632(0x171))/0x2*(parseInt(_0xf55632(0x13b))/0x3)+-parseInt(_0xf55632(0x177))/0x4*(parseInt(_0xf55632(0x118))/0x5)+parseInt(_0xf55632(0x113))/0x6+-parseInt(_0xf55632(0x14d))/0x7*(parseInt(_0xf55632(0x129))/0x8)+-parseInt(_0xf55632(0x16c))/0x9*(parseInt(_0xf55632(0x131))/0xa)+parseInt(_0xf55632(0x10c))/0xb;if(_0x315ba9===_0xf15c91)break;else _0x250d10['push'](_0x250d10['shift']());}catch(_0x445126){_0x250d10['push'](_0x250d10['shift']());}}}(_0x1b03,0xd41d0));import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{LGT}from'./Util.js';function _0x1b03(){const _0x36a77b=['plutHoverPreload','childId','MODULE_NAME_FAKE','get','permission','plutHoverPage','mousemove','attr','OBSERVER','push','stopPropagation','expanded','getMakePredefinedHover','sidebar','plutHoverHashHover','isAutoRollActorEmbeddedDocumentTags','plutHoverTag','plutHoverSource','text/plain','removeClass','[data-plut-rich-link]','54XDzcMN','render','scrollIntoView','parentEntity','dataTransfer','2854lxKbkr','mouseOver','application/json','notifications','[data-plut-folder-link]','dataset','268EyWObH','_ADDITIONAL_DOCUMENT_HANDLERS','[data-packed-dice]','text','folders','parse','dragstart','parentId','then','plutHoverPreloadOptions','metadata','type','1347651PaPXqg','ENTITY_PERMISSIONS','plutHoverHash','30472046WGUAOG','unbindDocumentHandlers','dice','plutRichLink','items','pHandleLinkMouseOver','entries','4022220SfecsH','plutHoverHashPreEncoded','forEach','toTitleCase','You\x20do\x20not\x20have\x20permissions\x20to\x20view\x20this\x20','19715gtnPdM','getLinkSubhashString','plutHoverPreloadUid','splitTagByPipe','instance','plutHoverSubhashesHover','sense','EVT_DATA_SUBTYPE__IMPORT','init','collapsed','plutHoverPipeParts','jlnk__folder-pulse-1s','documentClass','encodeForHash','currentTarget','onclick','handlePredefinedMouseOver','1552ZdQdih','You\x20do\x20not\x20have\x20permissions\x20to\x20view\x20this\x20Folder.','body','originalEvent','center','setPosition','EVT_DATA_SUBTYPE__HOVER','_MIME_TYPES_DROP_JSON','119910OWNyaX','find','.Import','sheet','skill','element','setData','_BOUND_DOCUMENT_ELEMENTS','entityId','popOut','330ZoXlwk','plutRichLinkEntityType','shiftKey','warn','delete','Could\x20not\x20find\x20','roll','_doBindHandler','collection','events','Folder','[data-plut-hover]','getDropJson','plutHoverPreloadId','registerDocumentHandler','_expanded','getData','tabs','26376AtyIGV','mouseleave','bindDocumentHandlers','click','senseToExplanation','hover','includes','childEntity','handleLinkMouseLeave','addClass'];_0x1b03=function(){return _0x36a77b;};return _0x1b03();}class UtilEvents{static[_0x5133a7(0x120)](){const _0x1cb54a=_0x5133a7;this[_0x1cb54a(0x14f)]();}static[_0x5133a7(0x14f)]({element:element=document[_0x5133a7(0x12b)]}={}){const _0x1b7ad4=_0x5133a7;$(element)['on']('click',_0x1b7ad4(0x179),function(_0x2d1a24){const _0x332263=_0x1b7ad4,_0x5bac97=$(this);if(!_0x5bac97[_0x332263(0x15e)](_0x332263(0x127)))Renderer[_0x332263(0x10e)]['pRollerClickUseData'](_0x2d1a24,this);})['on']('mouseover',_0x1b7ad4(0x146),function(_0x22672a){const _0x193725=_0x1b7ad4,_0x3b6f39=!!_0x22672a[_0x193725(0x126)][_0x193725(0x176)][_0x193725(0x157)],_0x2592a9=_0x22672a[_0x193725(0x126)][_0x193725(0x176)][_0x193725(0x11a)],_0x52803d=_0x22672a[_0x193725(0x126)]['dataset']['plutHoverPage'],_0x1a1a52=_0x22672a['currentTarget'][_0x193725(0x176)][_0x193725(0x168)];let _0x179cf7=_0x22672a[_0x193725(0x126)][_0x193725(0x176)][_0x193725(0x10b)];const _0x151d6a=_0x22672a[_0x193725(0x126)][_0x193725(0x176)][_0x193725(0x148)],_0x2bc498=!!_0x22672a[_0x193725(0x126)][_0x193725(0x176)]['plutHoverHashPreEncoded'];let _0x1298bd=_0x22672a[_0x193725(0x126)][_0x193725(0x176)][_0x193725(0x165)];const _0x51c5e9=!!_0x22672a[_0x193725(0x126)][_0x193725(0x176)]['plutHoverHashPreEncodedHover'],_0x5bd201=_0x22672a[_0x193725(0x126)][_0x193725(0x176)][_0x193725(0x11d)];if(_0x2592a9){const _0x500b90=_0x22672a[_0x193725(0x126)][_0x193725(0x176)][_0x193725(0x167)],_0x4b96c1=_0x22672a['currentTarget'][_0x193725(0x176)][_0x193725(0x122)],_0x2325bd=_0x500b90===_0x193725(0x135)?Parser['skillToExplanation']:_0x500b90===_0x193725(0x11e)?Parser[_0x193725(0x151)]:null;if(!_0x2325bd)return;const [_0x31f9f3]=Renderer[_0x193725(0x11b)](_0x4b96c1),_0xf5319c=Renderer[_0x193725(0x152)][_0x193725(0x163)]({'type':_0x193725(0x112),'name':_0x31f9f3[_0x193725(0x116)](),'entries':_0x2325bd(_0x31f9f3)},{'id':_0x2592a9});_0xf5319c[_0x193725(0x172)](_0x22672a,this);return;}if(_0x3b6f39){if(_0x151d6a==null)return;const _0x319dea=_0x22672a['currentTarget'][_0x193725(0x176)][_0x193725(0x180)];Renderer['hover'][_0x193725(0x128)](_0x22672a,this,_0x151d6a,_0x319dea?JSON[_0x193725(0x17c)](_0x319dea):undefined);return;}if(!_0x52803d||!_0x1a1a52||!_0x179cf7)return;if(!_0x2bc498)_0x179cf7=UrlUtil['encodeForHash'](_0x179cf7);if(_0x1298bd&&!_0x51c5e9)_0x1298bd=UrlUtil[_0x193725(0x125)](_0x1298bd);if(!_0x1298bd)_0x1298bd=_0x179cf7;if(_0x5bd201){const _0x5449e4=JSON[_0x193725(0x17c)](_0x5bd201);_0x1298bd+=Renderer['utils'][_0x193725(0x119)](_0x5449e4);}const _0x82d80a={'page':_0x52803d,'source':_0x1a1a52,'hash':_0x1298bd,'preloadId':_0x151d6a,'isDelay':!!_0x22672a['currentTarget']['dataset'][_0x193725(0x10f)]};Renderer[_0x193725(0x152)][_0x193725(0x111)](_0x22672a,this,_0x82d80a)[_0x193725(0x17f)](null);})['on'](_0x1b7ad4(0x14e),_0x1b7ad4(0x146),function(_0x2b2a6f){const _0x405685=_0x1b7ad4;Renderer[_0x405685(0x152)][_0x405685(0x155)](_0x2b2a6f,this);})['on'](_0x1b7ad4(0x15d),_0x1b7ad4(0x146),function(_0x4cb1e6){const _0x41f6b5=_0x1b7ad4;Renderer[_0x41f6b5(0x152)]['handleLinkMouseMove'](_0x4cb1e6,this);})['on'](_0x1b7ad4(0x17d),_0x1b7ad4(0x16b),function(_0x5871ba){const _0x1ab993=_0x1b7ad4,_0x351b80=_0x5871ba[_0x1ab993(0x126)][_0x1ab993(0x176)][_0x1ab993(0x13c)],_0x4fd4ca=_0x5871ba['currentTarget']['dataset'][_0x1ab993(0x15c)],_0x382c25=_0x5871ba[_0x1ab993(0x126)][_0x1ab993(0x176)][_0x1ab993(0x168)];let _0x57cf4b=_0x5871ba['currentTarget'][_0x1ab993(0x176)][_0x1ab993(0x10b)];const _0x1fe418=!!_0x5871ba['currentTarget'][_0x1ab993(0x176)][_0x1ab993(0x114)],_0x442758=_0x5871ba['currentTarget'][_0x1ab993(0x176)][_0x1ab993(0x11d)];if(!_0x4fd4ca||!_0x382c25||!_0x57cf4b||!_0x351b80)return;if(!_0x1fe418)_0x57cf4b=UrlUtil[_0x1ab993(0x125)](_0x57cf4b);if(_0x442758){const _0x24bd84=JSON[_0x1ab993(0x17c)](_0x442758);_0x57cf4b+=Renderer['utils'][_0x1ab993(0x119)](_0x24bd84);}_0x5871ba[_0x1ab993(0x161)](),_0x5871ba[_0x1ab993(0x12c)]['dataTransfer'][_0x1ab993(0x137)](_0x1ab993(0x169),JSON['stringify']({'type':_0x351b80,'subType':UtilEvents[_0x1ab993(0x12f)],'page':_0x4fd4ca,'source':_0x382c25,'hash':_0x57cf4b,'originalText':_0x5871ba['currentTarget'][_0x1ab993(0x176)]['plutRichLinkOriginalText']}));})['on']('click','[data-plut-owned-link]',function(_0x398717){const _0x4aeb3f=_0x1b7ad4,_0x58a74a=_0x398717['currentTarget']['dataset'][_0x4aeb3f(0x16f)],_0xa3d75=_0x398717[_0x4aeb3f(0x126)][_0x4aeb3f(0x176)][_0x4aeb3f(0x154)],_0x38e219=_0x398717[_0x4aeb3f(0x126)]['dataset'][_0x4aeb3f(0x17e)],_0x4a9b4d=_0x398717[_0x4aeb3f(0x126)][_0x4aeb3f(0x176)][_0x4aeb3f(0x158)],_0x257927=CONFIG[_0x58a74a],_0x1fdcd1=_0x257927[_0x4aeb3f(0x143)]['instance'][_0x4aeb3f(0x15a)](_0x38e219);if(!_0x1fdcd1){const _0x26a2d8=_0x4aeb3f(0x140)+_0x58a74a+'\x20\x22'+_0x38e219+'\x22!';return console[_0x4aeb3f(0x13e)](...LGT,_0x26a2d8),ui['notifications'][_0x4aeb3f(0x13e)](_0x26a2d8);}if(_0x1fdcd1[_0x4aeb3f(0x15b)]<CONST[_0x4aeb3f(0x10a)][_0x4aeb3f(0x15f)])return ui['notifications'][_0x4aeb3f(0x13e)]('You\x20do\x20not\x20have\x20permissions\x20to\x20view\x20this\x20'+_0x58a74a+'.');const _0x52f599=_0x1fdcd1[_0x4aeb3f(0x110)][_0x4aeb3f(0x15a)](_0x4a9b4d);if(_0x52f599[_0x4aeb3f(0x15b)]<CONST[_0x4aeb3f(0x10a)][_0x4aeb3f(0x15f)])return ui[_0x4aeb3f(0x174)][_0x4aeb3f(0x13e)](_0x4aeb3f(0x117)+_0xa3d75+'.');if(Config['get'](_0x4aeb3f(0x17a),_0x4aeb3f(0x166))||_0x398717[_0x4aeb3f(0x13d)]){_0x52f599[_0x4aeb3f(0x141)]();return;}_0x52f599[_0x4aeb3f(0x134)][_0x4aeb3f(0x16d)](!![]);})['on'](_0x1b7ad4(0x150),_0x1b7ad4(0x175),async function(_0x434c0c){const _0x2fa796=_0x1b7ad4,_0x6feb26=_0x434c0c[_0x2fa796(0x126)]['dataset'][_0x2fa796(0x139)],_0x206387=CONFIG[_0x2fa796(0x145)]['collection'][_0x2fa796(0x11c)][_0x2fa796(0x15a)](_0x6feb26);if(!_0x206387)return;if(_0x206387['permission']<CONST['ENTITY_PERMISSIONS'][_0x2fa796(0x15f)])return ui['notifications'][_0x2fa796(0x13e)](_0x2fa796(0x12a));const _0x586ac0=CONFIG[_0x206387[_0x2fa796(0x182)]]?.[_0x2fa796(0x124)]?.[_0x2fa796(0x181)]?.['collection'];if(!_0x586ac0)return;await ui[_0x2fa796(0x164)]['activateTab'](_0x586ac0);const _0x56358c=ui[_0x2fa796(0x164)][_0x2fa796(0x14c)][_0x586ac0],_0x1b9841=_0x56358c[_0x2fa796(0x136)][_0x2fa796(0x132)]('[data-folder-id=\x22'+_0x206387['id']+'\x22]');if(!_0x206387[_0x2fa796(0x162)]){game[_0x2fa796(0x17b)][_0x2fa796(0x14a)][_0x206387['id']]=!![],_0x1b9841[_0x2fa796(0x16a)](_0x2fa796(0x121));if(_0x56358c[_0x2fa796(0x13a)])this[_0x2fa796(0x12e)]();}_0x1b9841[0x0][_0x2fa796(0x16e)]({'block':_0x2fa796(0x12d)}),_0x1b9841[_0x2fa796(0x156)](_0x2fa796(0x123)),setTimeout(()=>_0x1b9841[_0x2fa796(0x16a)](_0x2fa796(0x123)),0x3e8);}),Renderer[_0x1b7ad4(0x144)]['bindGeneric']({'element':element}),UtilEvents[_0x1b7ad4(0x178)]['forEach'](({eventType:_0xfc093b,selector:_0x10b5cf,fnEvent:_0x387526})=>this[_0x1b7ad4(0x142)]({'element':element,'eventType':_0xfc093b,'selector':_0x10b5cf,'fnEvent':_0x387526})),UtilEvents[_0x1b7ad4(0x138)]['add'](element);}static[_0x5133a7(0x149)]({eventType:_0x1266a8,selector:_0x286df1,fnEvent:_0x56aee3}){const _0x226ce7=_0x5133a7;UtilEvents[_0x226ce7(0x178)][_0x226ce7(0x160)]({'eventType':_0x1266a8,'selector':_0x286df1,'fnEvent':_0x56aee3}),UtilEvents[_0x226ce7(0x138)][_0x226ce7(0x115)](_0x5c82ba=>this[_0x226ce7(0x142)]({'element':_0x5c82ba,'eventType':_0x1266a8,'selector':_0x286df1,'fnEvent':_0x56aee3}));}static[_0x5133a7(0x142)]({element:_0x24f92f,eventType:_0x305a8c,selector:_0x247393,fnEvent:_0x886b2c}){$(_0x24f92f)['on'](_0x305a8c,_0x247393,_0x886b2c);}static[_0x5133a7(0x10d)]({element:element=document[_0x5133a7(0x12b)]}={}){const _0x4022d6=_0x5133a7;UtilEvents[_0x4022d6(0x138)][_0x4022d6(0x13f)](element);}static[_0x5133a7(0x147)](_0x198338){const _0x1c4d7e=_0x5133a7;let _0x1e07c4;for(const _0xcd4507 of UtilEvents[_0x1c4d7e(0x130)]){if(!_0x198338[_0x1c4d7e(0x170)]['types'][_0x1c4d7e(0x153)](_0xcd4507))continue;try{const _0x1d4b68=_0x198338[_0x1c4d7e(0x170)][_0x1c4d7e(0x14b)](_0xcd4507);if(!_0x1d4b68)return;_0x1e07c4=JSON[_0x1c4d7e(0x17c)](_0x1d4b68);}catch(_0x51d5db){}}return _0x1e07c4;}}UtilEvents[_0x5133a7(0x130)]=[_0x5133a7(0x173),_0x5133a7(0x169)],UtilEvents['EVT_DATA_SUBTYPE__HOVER']=SharedConsts[_0x5133a7(0x159)]+'.Hover',UtilEvents[_0x5133a7(0x11f)]=SharedConsts[_0x5133a7(0x159)]+_0x5133a7(0x133),UtilEvents[_0x5133a7(0x138)]=new Set(),UtilEvents[_0x5133a7(0x178)]=[];export{UtilEvents};