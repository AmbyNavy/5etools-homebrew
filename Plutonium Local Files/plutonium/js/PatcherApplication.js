function _0x4223(){const _0x31aff7=['_activateCoreListeners','map','9780155VxqbmM','9fENiUj','_Render','form','title','Application.defaultOptions','popOut','forEach','$getAppElement','5rgmYku','removeAttribute','1324BXZySK','RENDERED','3934002pWTPTu','CLOSING','push','text','removeChild','_doMergeElements','fromType_text','135820btoZJv','ItemSheet.prototype._render','_recurse_updateAttributes','innerHTML','register','_state','ActorSheet.prototype._render','bind','2007970EXgzlx','Application\x20was\x20not\x20a\x20popout?!','LIBWRAPPER_MODE_WRAPPER','NONE','utils','_recurse_removeExtraChildren','_getNodeType','toLowerCase','33477300qcJjiL','setAttribute','replaceChild','_isUseCustomRender','attributes','_pRenderApplication','10383YFaVhE','.window-content','childNodes','_renderInner','get','_priorState','includes','isLazyActorAndItemRendering','parentNode','_getNodeContents','getAttribute','fromType_comment','nodeType','appendChild','delete','constructor','LIBWRAPPER_MODE_MIXED','textContent','_recurse','resizable','cloneNode','Inner','RENDERING','find','CLOSED','4124144ptyJqY','length','deepEquals','RENDER_STATES','init','log','options','getData','.window-title','element','tagName','\x20|\x20Rendering\x20'];_0x4223=function(){return _0x31aff7;};return _0x4223();}const _0x40078a=_0xafd4;(function(_0x55fcec,_0x48f2a2){const _0x18544e=_0xafd4,_0x16f210=_0x55fcec();while(!![]){try{const _0x5cd329=-parseInt(_0x18544e(0x117))/0x1*(parseInt(_0x18544e(0x122))/0x2)+-parseInt(_0x18544e(0x138))/0x3*(parseInt(_0x18544e(0x119))/0x4)+parseInt(_0x18544e(0x12a))/0x5+-parseInt(_0x18544e(0x11b))/0x6+-parseInt(_0x18544e(0x15f))/0x7+-parseInt(_0x18544e(0x151))/0x8*(-parseInt(_0x18544e(0x10f))/0x9)+parseInt(_0x18544e(0x132))/0xa;if(_0x5cd329===_0x48f2a2)break;else _0x16f210['push'](_0x16f210['shift']());}catch(_0x168758){_0x16f210['push'](_0x16f210['shift']());}}}(_0x4223,0xb1755));function _0xafd4(_0x121b2d,_0x3136dc){const _0x4223bc=_0x4223();return _0xafd4=function(_0xafd4ff,_0x4eaa79){_0xafd4ff=_0xafd4ff-0x10f;let _0x44bf89=_0x4223bc[_0xafd4ff];return _0x44bf89;},_0xafd4(_0x121b2d,_0x3136dc);}import{libWrapper,UtilLibWrapper}from'./PatcherLibWrapper.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';class Patcher_Application{static['init'](){const _0x23e92a=_0xafd4;Patcher_Application[_0x23e92a(0x110)][_0x23e92a(0x155)](),libWrapper[_0x23e92a(0x126)](SharedConsts['MODULE_NAME'],_0x23e92a(0x113),function(_0x49ccff,..._0x5bd1b5){const _0x524ee8=_0x23e92a;if(!Config['get']('ui','isAlwaysResizableApps'))return _0x49ccff(..._0x5bd1b5);const _0x15cdfd=_0x49ccff(..._0x5bd1b5);return _0x15cdfd[_0x524ee8(0x14b)]=!![],_0x15cdfd;},UtilLibWrapper[_0x23e92a(0x12c)]);}}Patcher_Application[_0x40078a(0x110)]=class{static[_0x40078a(0x155)](){const _0x341bce=_0x40078a;[_0x341bce(0x128),_0x341bce(0x123)][_0x341bce(0x115)](_0x129b74=>{const _0x554338=_0x341bce;libWrapper[_0x554338(0x126)](SharedConsts['MODULE_NAME'],_0x129b74,function(_0x519ce9,..._0x5cbe1b){const _0x16fabe=_0x554338;if(!Patcher_Application['_Render']['_isUseCustomRender'](this))return _0x519ce9(..._0x5cbe1b);return Patcher_Application['_Render'][_0x16fabe(0x137)][_0x16fabe(0x129)](this)(..._0x5cbe1b);},UtilLibWrapper[_0x554338(0x148)]),libWrapper['register'](SharedConsts['MODULE_NAME'],_0x129b74+_0x554338(0x14d),async function(_0x5f37cf,..._0x1b1e41){const _0x1db923=_0x554338;if(!Patcher_Application['_Render'][_0x1db923(0x135)](this))return _0x5f37cf(..._0x1b1e41);const _0x575257=this[_0x1db923(0x111)],_0x236c7c=await _0x5f37cf(..._0x1b1e41);return this[_0x1db923(0x111)]=_0x575257,_0x236c7c;},UtilLibWrapper[_0x554338(0x12c)]);});}static[_0x40078a(0x135)](_0x3e1db5){const _0x376ecb=_0x40078a;if(!_0x3e1db5[_0x376ecb(0x114)])return![];if(!Config[_0x376ecb(0x13c)]('ui',_0x376ecb(0x13f)))return![];return!!_0x3e1db5[_0x376ecb(0x15a)]?.['length'];}static async['_pRenderApplication'](_0x5ee9a5=![],_0x2d95dc={}){const _0x15a3ad=_0x40078a,_0x21c154=Application[_0x15a3ad(0x154)];this[_0x15a3ad(0x13d)]=this['_state'];if([_0x21c154[_0x15a3ad(0x11c)],_0x21c154[_0x15a3ad(0x14e)]][_0x15a3ad(0x13e)](this[_0x15a3ad(0x127)]))return;if(!_0x5ee9a5&&this[_0x15a3ad(0x127)]<=_0x21c154[_0x15a3ad(0x12d)])return;[_0x21c154[_0x15a3ad(0x12d)],_0x21c154[_0x15a3ad(0x150)],_0x21c154['ERROR']]['includes'](this[_0x15a3ad(0x127)])&&console[_0x15a3ad(0x156)](vtt+_0x15a3ad(0x15c)+this[_0x15a3ad(0x147)]['name']);this[_0x15a3ad(0x127)]=_0x21c154['RENDERING'],foundry[_0x15a3ad(0x12e)]['mergeObject'](this[_0x15a3ad(0x157)],_0x2d95dc,{'insertKeys':![]});const _0x1663ad=await this[_0x15a3ad(0x158)](this[_0x15a3ad(0x157)]),_0x49fb0e=await this[_0x15a3ad(0x13b)](_0x1663ad),_0x25803a=_0x49fb0e instanceof jQuery?_0x49fb0e:$(_0x49fb0e),_0x572f9b=Patcher_Application[_0x15a3ad(0x110)]['_doMergeElements'][_0x15a3ad(0x129)](this)({'$inner':_0x25803a});_0x572f9b[_0x15a3ad(0x14f)]('*')['off'](),this[_0x15a3ad(0x15d)](_0x572f9b),this['activateListeners'](_0x572f9b),this['_state']=_0x21c154[_0x15a3ad(0x11a)];}static[_0x40078a(0x120)]({$inner:_0x4db197}){const _0x1a8caf=_0x40078a,_0x1360d4=UtilApplications[_0x1a8caf(0x116)](this);if(!this['popOut'])throw new Error(_0x1a8caf(0x12b));_0x1360d4[_0x1a8caf(0x14f)](_0x1a8caf(0x159))[_0x1a8caf(0x11e)](this[_0x1a8caf(0x112)]);const _0x3ed744=_0x1360d4[_0x1a8caf(0x14f)](_0x1a8caf(0x139))[0x0],_0xdca2aa=_0x3ed744[_0x1a8caf(0x14c)](![]);return _0x3ed744[_0x1a8caf(0x13a)][0x0]?.['nodeType']===0x3&&(_0xdca2aa[_0x1a8caf(0x125)]=_0x3ed744['childNodes'][0x0][_0x1a8caf(0x149)]),_0xdca2aa['appendChild'](_0x4db197[0x0]),Patcher_Application['_Render'][_0x1a8caf(0x14a)]({'cur':_0x3ed744,'nxt':_0xdca2aa}),$(_0x3ed744);}static[_0x40078a(0x130)](_0x56c876){const _0x276c38=_0x40078a;switch(_0x56c876[_0x276c38(0x144)]){case 0x3:return _0x276c38(0x121);case 0x8:return _0x276c38(0x143);default:return _0x56c876[_0x276c38(0x15b)][_0x276c38(0x131)]();}}static[_0x40078a(0x141)](_0x4c412e){const _0xe0d082=_0x40078a;if(_0x4c412e[_0xe0d082(0x13a)]&&_0x4c412e['childNodes']['length']>0x0)return null;return _0x4c412e[_0xe0d082(0x149)];}static[_0x40078a(0x14a)]({cur:_0x2b432d,nxt:_0xcffe76}){const _0x420cbb=_0x40078a;Patcher_Application[_0x420cbb(0x110)][_0x420cbb(0x124)]({'cur':_0x2b432d,'nxt':_0xcffe76}),Patcher_Application['_Render'][_0x420cbb(0x12f)]({'cur':_0x2b432d,'nxt':_0xcffe76});const _0x298a8a=[..._0x2b432d['childNodes']];[..._0xcffe76['childNodes']]['forEach']((_0x42cdaa,_0x17f594)=>{const _0x5aa96d=_0x420cbb,_0x3a0a72=_0x298a8a[_0x17f594];if(!_0x3a0a72){_0x2b432d[_0x5aa96d(0x145)](_0x42cdaa[_0x5aa96d(0x14c)](!![]));return;}const _0x548ab4=Patcher_Application[_0x5aa96d(0x110)]['_getNodeType'](_0x3a0a72);if(Patcher_Application[_0x5aa96d(0x110)]['_getNodeType'](_0x42cdaa)!==_0x548ab4){_0x3a0a72[_0x5aa96d(0x140)][_0x5aa96d(0x134)](_0x42cdaa[_0x5aa96d(0x14c)](!![]),_0x3a0a72);return;}if([_0x5aa96d(0x121),_0x5aa96d(0x143)]['includes'](_0x548ab4)){if(_0x3a0a72[_0x5aa96d(0x149)]!==_0x42cdaa[_0x5aa96d(0x149)])_0x3a0a72[_0x5aa96d(0x149)]=_0x42cdaa[_0x5aa96d(0x149)];return;}Patcher_Application[_0x5aa96d(0x110)][_0x5aa96d(0x124)]({'cur':_0x3a0a72,'nxt':_0x42cdaa}),Patcher_Application[_0x5aa96d(0x110)][_0x5aa96d(0x14a)]({'cur':_0x3a0a72,'nxt':_0x42cdaa});});}static[_0x40078a(0x12f)]({cur:_0x2b5692,nxt:_0x21995f}){const _0x2f754c=_0x40078a,_0x3e5263=[..._0x2b5692[_0x2f754c(0x13a)]],_0x43e407=[..._0x21995f['childNodes']];if(_0x3e5263[_0x2f754c(0x152)]-_0x43e407['length']<=0x0)return;const _0x7e7ae=_0x3e5263[_0x2f754c(0x15e)](_0x12cd56=>Patcher_Application[_0x2f754c(0x110)]['_getNodeType'](_0x12cd56)),_0x3bbc1c=_0x43e407[_0x2f754c(0x15e)](_0x50cce8=>Patcher_Application[_0x2f754c(0x110)][_0x2f754c(0x130)](_0x50cce8)),_0x32515f=[];let _0x18a42e=0x0;for(let _0x1a104b=0x0;_0x1a104b<_0x3bbc1c[_0x2f754c(0x152)];++_0x1a104b){const _0xbc3591=_0x1a104b+_0x18a42e,_0xb9d223=_0x7e7ae[_0xbc3591],_0x56dee9=_0x3bbc1c[_0x1a104b];if(_0xb9d223===_0x56dee9){_0x32515f['push'](_0xbc3591);continue;}for(let _0xc4ca57=_0xbc3591;_0xc4ca57<_0x7e7ae['length'];++_0xc4ca57){const _0x1db964=_0x7e7ae[_0xc4ca57];if(_0x1db964===_0x56dee9){_0x32515f[_0x2f754c(0x11d)](_0xc4ca57),_0x18a42e+=_0xc4ca57-_0xbc3591;break;}}}if(!_0x32515f[_0x2f754c(0x152)]){_0x2b5692[_0x2f754c(0x125)]='';return;}const _0xbb0ac4=new Set(_0x32515f);for(let _0x2ee14d=_0x3e5263[_0x2f754c(0x152)]-0x1;_0x2ee14d>=0x0;--_0x2ee14d){if(!_0xbb0ac4['has'](_0x2ee14d))_0x2b5692[_0x2f754c(0x11f)](_0x2b5692[_0x2f754c(0x13a)][_0x2ee14d]);}}static[_0x40078a(0x124)]({cur:_0x3aeab2,nxt:_0x3e447f}){const _0x210e60=_0x40078a,_0x4543d4=[..._0x3aeab2['attributes']][_0x210e60(0x15e)](({name:_0x38230e,textContent:_0x1e6a40})=>({'name':_0x38230e,'textContent':_0x1e6a40})),_0xaba689=[..._0x3e447f['attributes']][_0x210e60(0x15e)](({name:_0x24fd5d,textContent:_0x42ee03})=>({'name':_0x24fd5d,'textContent':_0x42ee03}));if(CollectionUtil[_0x210e60(0x153)](_0x4543d4,_0xaba689))return;const _0x1b8ce6=new Set([..._0x3aeab2['attributes']][_0x210e60(0x15e)](_0x3de36a=>_0x3de36a['name']));[..._0x3e447f[_0x210e60(0x136)]][_0x210e60(0x115)](({name:_0x14e0c6,textContent:_0x33ddd1})=>{const _0x567d77=_0x210e60;_0x1b8ce6[_0x567d77(0x146)](_0x14e0c6);if(_0x3aeab2[_0x567d77(0x142)](_0x14e0c6)!==_0x3e447f['getAttribute'](_0x14e0c6))_0x3aeab2[_0x567d77(0x133)](_0x14e0c6,_0x33ddd1);}),_0x1b8ce6[_0x210e60(0x115)](_0x732159=>_0x3e447f[_0x210e60(0x118)](_0x732159));}};export{Patcher_Application};