const _0x46c126=_0x464a;(function(_0x4e1305,_0x223f68){const _0x1db82b=_0x464a,_0x223e2f=_0x4e1305();while(!![]){try{const _0x2c802f=parseInt(_0x1db82b(0x113))/0x1+parseInt(_0x1db82b(0xe4))/0x2+-parseInt(_0x1db82b(0xf7))/0x3*(parseInt(_0x1db82b(0xf6))/0x4)+parseInt(_0x1db82b(0xfd))/0x5+-parseInt(_0x1db82b(0x107))/0x6+parseInt(_0x1db82b(0x11c))/0x7*(-parseInt(_0x1db82b(0xf1))/0x8)+parseInt(_0x1db82b(0xf0))/0x9*(-parseInt(_0x1db82b(0x10a))/0xa);if(_0x2c802f===_0x223f68)break;else _0x223e2f['push'](_0x223e2f['shift']());}catch(_0x18108f){_0x223e2f['push'](_0x223e2f['shift']());}}}(_0x4a1d,0x6bb50));import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';function _0x4a1d(){const _0x12e6c0=['init','4138115CUdezZ','permission','importCharCreationOption','setFirstSection','hover','pHasCharCreationOptionSideLoadedEffects','length','_pGetEffectsSideLoaded','\x0a\x09\x09\x09\x09</div>','</i></p>','1426308hpnErl','_SIDE_DATA','_pGetDataSideLoaded','10QTuyJu','getExpandedEffects','<p><i>Prerequisite:\x20','pGetCharCreationOptionItemEffects','pGetDereferencedCharCreationOptionFeatureItem','feat','filterValues','pCacheAndGet','getNameWithSourcePart','522165WeZygx','pGetSideLoadedMatch','isActorItem','isAddDataFlags','getSourceWithPagePart','_pGetFlagsSideLoaded','PG_CHAR_CREATION_OPTIONS','MODULE_NAME_FAKE','_pGetCharCreationOptionItem','20447vIJKUR','pGetCharCreationOptionItem','utils','_pGetSaveImagePath','actor','name','getPrerequisiteHtml','defaultPermission','1759926bqlLGJ','propDroppable','get','charoption','_pGetPreloadSideData','<div>\x0a\x09\x09\x09\x09\x09','foundryCharoption','pGetWithDescriptionPlugins','isAddPermission','source','_SIDE_LOAD_OPTS','prerequisite','2817279TGcqHS','2368YvFCdk','_pGetSideLoadedMatch','pGetCharCreationOptionSideData','isImportDescription','pGetInitCharCreationOptionFeatureLoadeds','87816QbRSrl','51KyoxbB','entries','render','getCleanEntityName','_getCharCreationOptionFlags'];_0x4a1d=function(){return _0x12e6c0;};return _0x4a1d();}import{UtilActiveEffects}from'./UtilActiveEffects.js';import{DataConverterFeature}from'./DataConverterFeature.js';import{PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{DataConverter}from'./DataConverter.js';class DataConverterCharCreationOption extends DataConverterFeature{static [_0x46c126(0xee)]={'propBrew':_0x46c126(0xea),'fnLoadJson':async()=>this[_0x46c126(0xe8)](),'propJson':_0x46c126(0xe7)};static[_0x46c126(0xfc)](){const _0x5ad1fe=_0x46c126;PageFilterClassesFoundry['setImplSideData'](_0x5ad1fe(0xe7),this);}static async[_0x46c126(0x10e)](_0x14ce2a){const _0x296676=_0x46c126,_0x44336b=UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x296676(0x119)]](_0x14ce2a);return Renderer[_0x296676(0x101)][_0x296676(0x111)](UrlUtil[_0x296676(0x119)],_0x14ce2a[_0x296676(0xed)],_0x44336b,{'isCopy':!![]});}static async[_0x46c126(0xf5)](_0x1ce15b,{actor:actor=null}={}){const _0x443c03=_0x46c126,_0x55c77a={'charoption':_0x1ce15b[_0x443c03(0x121)]+'|'+_0x1ce15b[_0x443c03(0xed)]};return await PageFilterClassesFoundry['pInitCharCreationOptionLoadeds']({'charoption':_0x55c77a,'raw':_0x1ce15b,'actor':actor}),_0x55c77a;}static async[_0x46c126(0x11d)](_0x198c73,_0x3926f4){const _0xeda227=_0x46c126;_0x3926f4=_0x3926f4||{};if(_0x3926f4[_0xeda227(0x120)])_0x3926f4['isActorItem']=!![];return this[_0xeda227(0x11b)](_0x198c73,_0x3926f4);}static async[_0x46c126(0x11b)](_0x53b7a6,_0x52954b){const _0x3cdcf9=_0x46c126,_0x4caef6=Config[_0x3cdcf9(0xe6)](_0x3cdcf9(0xff),_0x3cdcf9(0xf4))?await UtilDataConverter[_0x3cdcf9(0xeb)](()=>{const _0x570348=_0x3cdcf9,_0x1b0c17=Renderer[_0x570348(0x11e)][_0x570348(0x122)](_0x53b7a6[_0x570348(0xef)]);return _0x570348(0xe9)+(_0x1b0c17?_0x570348(0x10c)+_0x1b0c17+_0x570348(0x106):'')+'\x0a\x09\x09\x09\x09\x09'+Renderer[_0x570348(0xe6)]()[_0x570348(0x100)](!![])[_0x570348(0xf9)]({'entries':_0x53b7a6[_0x570348(0xf8)]},0x2)+_0x570348(0x105);}):null,_0x3e9b50=await this[_0x3cdcf9(0x11f)](_0x53b7a6,{'propCompendium':_0x3cdcf9(0xe7)}),_0x2c4a1a=await this[_0x3cdcf9(0x109)](_0x53b7a6),_0x195fa6=await this[_0x3cdcf9(0x118)](_0x53b7a6),_0x5cef18=_0x52954b[_0x3cdcf9(0x115)]?[]:await this[_0x3cdcf9(0x104)]({'ent':_0x53b7a6,'img':_0x3e9b50});DataConverter['mutEffectsDisabledTransfer'](_0x5cef18,_0x3cdcf9(0xff));const _0x5bdde8={'name':UtilApplications[_0x3cdcf9(0xfa)](UtilDataConverter[_0x3cdcf9(0x112)](_0x53b7a6,{'isActorItem':_0x52954b[_0x3cdcf9(0x115)]})),'data':{'source':UtilDataConverter[_0x3cdcf9(0x117)](_0x53b7a6),'description':{'value':_0x4caef6,'chat':'','unidentified':''},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':0x0,'units':''},'target':{'value':0x0,'units':'','type':''},'range':{'value':0x0,'long':0x0,'units':null},'uses':{'value':0x0,'max':0x0,'per':''},'ability':'','actionType':'','attackBonus':null,'chatFlavor':'','critical':{'threshold':null,'damage':''},'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null},'requirements':'','recharge':{'value':0x0,'charged':!![]},..._0x2c4a1a},'permission':{'default':0x0},'type':_0x3cdcf9(0x10f),'img':_0x3e9b50,'flags':{...this[_0x3cdcf9(0xfb)](_0x53b7a6,_0x52954b),..._0x195fa6},'effects':_0x5cef18};if(_0x52954b[_0x3cdcf9(0x123)]!=null)_0x5bdde8[_0x3cdcf9(0xfe)]={'default':_0x52954b[_0x3cdcf9(0x123)]};else{if(_0x52954b[_0x3cdcf9(0xec)])_0x5bdde8[_0x3cdcf9(0xfe)]={'default':Config[_0x3cdcf9(0xe6)](_0x3cdcf9(0xff),'permissions')};}return _0x5bdde8;}static[_0x46c126(0xfb)](_0x3e6821,_0x40d1ba){const _0x2c36c1=_0x46c126;_0x40d1ba=_0x40d1ba||{};const _0x5aa362={[SharedConsts[_0x2c36c1(0x11a)]]:{'page':UrlUtil[_0x2c36c1(0x119)],'source':_0x3e6821['source'],'hash':UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil['PG_CHAR_CREATION_OPTIONS']](_0x3e6821)}};return _0x40d1ba[_0x2c36c1(0x116)]&&(_0x5aa362[SharedConsts[_0x2c36c1(0x11a)]][_0x2c36c1(0xe5)]='charoption',_0x5aa362[SharedConsts[_0x2c36c1(0x11a)]][_0x2c36c1(0x110)]=_0x40d1ba[_0x2c36c1(0x110)]),_0x5aa362;}static async['pMutActorUpdateCharCreationOption'](_0x115147,_0xf88767,_0x290602,_0xbbfa8){const _0x1fd5c2=_0x46c126,_0x976f5c=await this[_0x1fd5c2(0x114)](_0x290602);this['mutActorUpdate'](_0x115147,_0xf88767,_0x290602,{'sideData':_0x976f5c});}static async['_pGetPreloadSideData'](){const _0x519404=_0x46c126;if(!this['_SIDE_DATA'])this[_0x519404(0x108)]=await Vetools[_0x519404(0xf3)]();return this['_SIDE_DATA'];}static async[_0x46c126(0x114)](_0x30f148){const _0xa254e2=_0x46c126;return this[_0xa254e2(0xf2)](_0x30f148,this[_0xa254e2(0xee)]);}static async[_0x46c126(0x102)](_0x54c023,_0x1dca37){const _0x25abe2=_0x46c126;return(await this['_pGetEffectsRawSideLoaded_'](_0x1dca37,this[_0x25abe2(0xee)]))?.[_0x25abe2(0x103)]>0x0;}static async[_0x46c126(0x10d)](_0x984e6c,_0x1c542f,_0x202579,{additionalData:_0x2e4a49,img:_0x23ef60}={}){const _0x3a34d7=_0x46c126,_0x4f6a95=await this['_pGetEffectsRawSideLoaded_'](_0x1c542f,this[_0x3a34d7(0xee)]);return UtilActiveEffects[_0x3a34d7(0x10b)](_0x4f6a95||[],{'actor':_0x984e6c,'sheetItem':_0x202579,'parentName':_0x1c542f[_0x3a34d7(0x121)],'additionalData':_0x2e4a49,'img':_0x23ef60});}}function _0x464a(_0x36031d,_0x4e61c9){const _0x4a1d31=_0x4a1d();return _0x464a=function(_0x464ae4,_0x639c39){_0x464ae4=_0x464ae4-0xe4;let _0x58ba64=_0x4a1d31[_0x464ae4];return _0x58ba64;},_0x464a(_0x36031d,_0x4e61c9);}export{DataConverterCharCreationOption};