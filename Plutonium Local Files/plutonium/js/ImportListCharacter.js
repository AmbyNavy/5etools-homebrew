function _0x3c64(){const _0x2b2530=['trim','pGetUserInput','set','451071fYNSjK','data','hover','forEach','skills','traits','pCacheAndGet','entries','2907010zgryjU','slice','_doMergeExistingGenericTraitsData','100903ztTuwN','name','copy','CHAR_MAX_LEVEL','map','split','additionalSpells','effects','filter','6342804RrVmfY','58037uUmEBz','custom','120KyEyBY','armorProf','items','languages','1867460FptiNa','toolProf','get','9sUHuZM','4930mGvwyc','_doMergeExistingOtherProficiencyData','ImportEntryOpts','keys','equipmentItemEntries','374082QhRuqp','some','feats','4cVuzns','pImportEntry','join','./ImportListFeat.js','length','weaponProf','SYM_UI_SKIP','isCancelled','_actor','isCharactermancer','_doMergeExistingSkillData','value','pInit','push','_pImportActorAdditionalFeats'];_0x3c64=function(){return _0x2b2530;};return _0x3c64();}const _0xc56782=_0x1d23;function _0x1d23(_0x185217,_0x570472){const _0x3c6442=_0x3c64();return _0x1d23=function(_0x1d230e,_0x3bee7d){_0x1d230e=_0x1d230e-0x188;let _0x1f44dd=_0x3c6442[_0x1d230e];return _0x1f44dd;},_0x1d23(_0x185217,_0x570472);}(function(_0x35fa04,_0x3af9ac){const _0x1923bd=_0x1d23,_0x54e5c6=_0x35fa04();while(!![]){try{const _0x3f43ae=parseInt(_0x1923bd(0x19d))/0x1*(-parseInt(_0x1923bd(0x18b))/0x2)+-parseInt(_0x1923bd(0x1bb))/0x3*(parseInt(_0x1923bd(0x1b8))/0x4)+-parseInt(_0x1923bd(0x1a5))/0x5+parseInt(_0x1923bd(0x188))/0x6+-parseInt(_0x1923bd(0x1b2))/0x7*(parseInt(_0x1923bd(0x1b4))/0x8)+-parseInt(_0x1923bd(0x1b1))/0x9+parseInt(_0x1923bd(0x1bc))/0xa*(parseInt(_0x1923bd(0x1a8))/0xb);if(_0x3f43ae===_0x3af9ac)break;else _0x54e5c6['push'](_0x54e5c6['shift']());}catch(_0x19ec8d){_0x54e5c6['push'](_0x54e5c6['shift']());}}}(_0x3c64,0xd4bd0));import{ImportList}from'./ImportList.js';import{Charactermancer_AdditionalSpellsSelect}from'./UtilCharactermancerAdditionalSpells.js';import{UtilActors}from'./UtilActors.js';import{Consts}from'./Consts.js';import{UtilDocuments}from'./UtilDocuments.js';import{Charactermancer_AdditionalFeatsSelect}from'./UtilCharactermancerAdditionalFeats.js';class ImportListCharacter extends ImportList{async['_pApplyAllAdditionalSpellsToActor']({entity:_0x17c166,dataBuilderOpts:_0x3fa7e9}){const _0x24fc30=_0x1d23,_0x350ee2=await Charactermancer_AdditionalSpellsSelect['pGetUserInput']({'additionalSpells':_0x17c166[_0x24fc30(0x1ae)],'sourceHintText':_0x17c166[_0x24fc30(0x1a9)],'curLevel':0x0,'targetLevel':Consts[_0x24fc30(0x1ab)],'spellLevelLow':0x0,'spellLevelHigh':0x9});if(_0x350ee2==null)return _0x3fa7e9[_0x24fc30(0x192)]=!![];if(_0x350ee2===VeCt[_0x24fc30(0x191)])return;await Charactermancer_AdditionalSpellsSelect['pApplyFormDataToActor'](this[_0x24fc30(0x193)],_0x350ee2);}async['_pDoMergeAndApplyActorUpdate'](_0x410599){const _0x41555c=_0x1d23;if(!Object[_0x41555c(0x1bf)](_0x410599)['length'])return;this['_doMergeExistingSkillData']({'actorUpdate':_0x410599}),this[_0x41555c(0x1bd)]({'actorUpdate':_0x410599}),this['_doMergeExistingDiDrDvCiData']({'actorUpdate':_0x410599}),await UtilDocuments['pUpdateDocument'](this[_0x41555c(0x193)],_0x410599);}[_0xc56782(0x195)]({actorUpdate:_0x492209}){const _0x53f788=_0xc56782;_0x492209?.[_0x53f788(0x19e)]?.[_0x53f788(0x1a1)]&&Object[_0x53f788(0x1a4)](_0x492209[_0x53f788(0x19e)][_0x53f788(0x1a1)])['forEach'](([_0x23e5dd,_0x4be342])=>{const _0xbda1bf=_0x53f788;_0x4be342['value']=Math['max'](this[_0xbda1bf(0x193)][_0xbda1bf(0x19e)]?.[_0xbda1bf(0x19e)]?.['skills']?.[_0x23e5dd]?.[_0xbda1bf(0x196)],_0x4be342['value'],0x0);});}[_0xc56782(0x1bd)]({actorUpdate:_0x4bbd2e}){const _0x43e1f0=_0xc56782,_0x26b935=[[_0x43e1f0(0x19e),'data',_0x43e1f0(0x1a2),_0x43e1f0(0x1b7)],[_0x43e1f0(0x19e),_0x43e1f0(0x19e),_0x43e1f0(0x1a2),_0x43e1f0(0x1b9)],[_0x43e1f0(0x19e),_0x43e1f0(0x19e),_0x43e1f0(0x1a2),_0x43e1f0(0x190)],[_0x43e1f0(0x19e),_0x43e1f0(0x19e),'traits',_0x43e1f0(0x1b5)]];return this[_0x43e1f0(0x1a7)]({'actorUpdate':_0x4bbd2e,'actorDataPaths':_0x26b935});}['_doMergeExistingDiDrDvCiData']({actorUpdate:_0x1372f6}){const _0x4ee5a0=_0xc56782,_0x35d60c=[['data',_0x4ee5a0(0x19e),_0x4ee5a0(0x1a2),'di'],[_0x4ee5a0(0x19e),_0x4ee5a0(0x19e),_0x4ee5a0(0x1a2),'dr'],[_0x4ee5a0(0x19e),_0x4ee5a0(0x19e),_0x4ee5a0(0x1a2),'dv'],[_0x4ee5a0(0x19e),'data',_0x4ee5a0(0x1a2),'ci']];return this[_0x4ee5a0(0x1a7)]({'actorUpdate':_0x1372f6,'actorDataPaths':_0x35d60c});}[_0xc56782(0x1a7)]({actorUpdate:_0x317d7b,actorDataPaths:_0x262396}){const _0x755b45=_0xc56782;_0x262396[_0x755b45(0x1a0)](_0x15f1eb=>{const _0x1b8088=_0x755b45,_0x22f504=_0x15f1eb[_0x1b8088(0x1a6)](0x1),_0x35e257=MiscUtil['get'](this[_0x1b8088(0x193)],..._0x15f1eb),_0x34cc5e=MiscUtil[_0x1b8088(0x1ba)](_0x317d7b,..._0x22f504);if(!_0x35e257&&!_0x34cc5e)return;if(!_0x35e257&&_0x34cc5e)return;if(_0x35e257&&!_0x34cc5e)return MiscUtil[_0x1b8088(0x19c)](_0x317d7b,..._0x22f504,MiscUtil[_0x1b8088(0x1aa)](_0x35e257));_0x35e257[_0x1b8088(0x196)]&&_0x34cc5e[_0x1b8088(0x196)]?MiscUtil[_0x1b8088(0x19c)](_0x317d7b,..._0x22f504,_0x1b8088(0x196),[...new Set([..._0x35e257[_0x1b8088(0x196)],..._0x34cc5e[_0x1b8088(0x196)]])]):MiscUtil[_0x1b8088(0x19c)](_0x317d7b,..._0x22f504,_0x1b8088(0x196),MiscUtil['copy'](_0x35e257[_0x1b8088(0x196)]||_0x34cc5e['value']));if(_0x35e257[_0x1b8088(0x1b3)]&&_0x35e257[_0x1b8088(0x1b3)][_0x1b8088(0x19a)]()[_0x1b8088(0x18f)]&&_0x34cc5e['custom']&&_0x34cc5e[_0x1b8088(0x1b3)]['trim']()['length']){const _0x150ddd=_0x35e257[_0x1b8088(0x1b3)][_0x1b8088(0x19a)]()[_0x1b8088(0x1ad)](';')[_0x1b8088(0x1ac)](_0x3bcbe3=>_0x3bcbe3[_0x1b8088(0x19a)]())['filter'](Boolean);_0x34cc5e[_0x1b8088(0x1b3)][_0x1b8088(0x19a)]()[_0x1b8088(0x1ad)](';')[_0x1b8088(0x1ac)](_0x18a7dc=>_0x18a7dc[_0x1b8088(0x19a)]())['filter'](Boolean)[_0x1b8088(0x1b0)](_0x312d57=>!_0x150ddd[_0x1b8088(0x189)](_0x565f26=>_0x565f26['toLowerCase']()===_0x312d57['toLowerCase']()))[_0x1b8088(0x1a0)](_0x2a4737=>_0x150ddd[_0x1b8088(0x198)](_0x2a4737)),MiscUtil[_0x1b8088(0x19c)](_0x317d7b,..._0x22f504,_0x1b8088(0x1b3),_0x150ddd[_0x1b8088(0x18d)](';'));}else MiscUtil[_0x1b8088(0x19c)](_0x317d7b,..._0x22f504,'custom',_0x35e257['custom']||_0x34cc5e[_0x1b8088(0x1b3)]);});}async[_0xc56782(0x199)](_0x58a1c0,_0x2b0b69,_0x9d08f){const _0x5c6770=_0xc56782;if(!_0x58a1c0[_0x5c6770(0x18a)])return;const _0xfbe88c=await Charactermancer_AdditionalFeatsSelect[_0x5c6770(0x19b)]({'available':_0x58a1c0[_0x5c6770(0x18a)],'actor':this['_actor']});if(!_0xfbe88c)return _0x9d08f[_0x5c6770(0x192)]=!![];if(_0xfbe88c===VeCt[_0x5c6770(0x191)])return;if(!(_0xfbe88c[_0x5c6770(0x19e)]||[])[_0x5c6770(0x18f)])return;const {ImportListFeat:_0x55acd9}=await import(_0x5c6770(0x18e)),_0x493af5=new _0x55acd9({'actor':this[_0x5c6770(0x193)]});await _0x493af5[_0x5c6770(0x197)]();for(const {page:_0x3476b0,source:_0xfb6a19,hash:_0x3ff190}of _0xfbe88c[_0x5c6770(0x19e)]||[]){const _0x1bb45f=await Renderer[_0x5c6770(0x19f)][_0x5c6770(0x1a3)](_0x3476b0,_0xfb6a19,_0x3ff190);await _0x493af5[_0x5c6770(0x18c)](_0x1bb45f,_0x2b0b69);}}}ImportListCharacter[_0xc56782(0x1be)]=class{constructor(_0x5dfde1){const _0x141cdd=_0xc56782;_0x5dfde1=_0x5dfde1||{},this[_0x141cdd(0x194)]=!!_0x5dfde1[_0x141cdd(0x194)],this[_0x141cdd(0x192)]=![],this[_0x141cdd(0x1b6)]=[],this[_0x141cdd(0x1af)]=[],this[_0x141cdd(0x1c0)]=[];}};export{ImportListCharacter};